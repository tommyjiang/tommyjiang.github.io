<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[2021 年 7 月股票账户总结]]></title>
      <url>http://tommyjiang.github.io/2021/2021-07-31-stock-monthly-report/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
2021 年 7 月股票账户总结
</div>

<a id="more"></a>
<h1 id="主要指标"><a href="#主要指标" class="headerlink" title="主要指标"></a>主要指标</h1><p>本月末本金 214000 元，比上月增加 119000 元，目前浮亏 14471.69 元，亏损 16796.8 元。以 2021.6.1 日账户净值为基准值 100 计算，目前账户净值 90.19，上月底净值为 99.15，和上月比减少 9.04%。</p>
<h1 id="盘面回顾"><a href="#盘面回顾" class="headerlink" title="盘面回顾"></a>盘面回顾</h1><p>本月受两办教育文件影响，教育股崩盘，中概股大跌，引发 A 股恐慌，目前前景仍然不明朗，沪深 300 指数本月大跌 8%，同时账户浮亏显著增加。</p>
<p>盘面上，新能车、光伏等题材股狂欢，白酒消费补跌，价值股持续走低。</p>

<div id="self_profit" style="height:400px"></div>


<div id="self_hs300" style="height:400px"></div>


<div id="hz" style="height:400px"></div>


<script src="https://cdn.jsdelivr.net/npm/echarts@5.1.2/dist/echarts.js"></script>
<script type="text/javascript">
    var self_hs300 = echarts.init(document.getElementById('self_hs300'));

    option = {
        xAxis: {
            type: 'category',
            data: ['2021-05', '2021-06', '2021-07',]
        },
        yAxis: {
            type: 'value'
        },
        series: [{
            name: '个人账户',
            data: [100, 99.15, 90.19],
            type: 'line',
            color: '#660874',
            smooth: true
        },
        {
            name: '沪深 300',
            data: [100, 97.98, 90.24],
            type: 'line',
            color: '#ec0000',
            smooth: true
        },
        ],
        legend: {
            data: ['个人账户', '沪深 300']
        },
    };

    self_hs300.setOption(option, true); //当setOption第二个参数为true时，会阻止数据合并
</script>


<script type="text/javascript">
    var myChart = echarts.init(document.getElementById('hz'));

    var option;

    var upColor = '#ec0000';
    var upBorderColor = '#8A0000';
    var downColor = '#00da3c';
    var downBorderColor = '#008F28';

    // 数据意义：开盘(open)，收盘(close)，最低(lowest)，最高(highest)
    var data0 = splitData([
            ['2021/04/01',3444.81,3466.33,3470.03,3438.83],
            ['2021/04/02',3472.63,3484.39,3487.59,3462.83],
            ['2021/04/06',3491.63,3482.97,3493.28,3471.76],
            ['2021/04/07',3483.42,3479.63,3483.42,3453.2],
            ['2021/04/08',3467.49,3482.56,3495.91,3459.32],
            ['2021/04/09',3475.44,3450.68,3475.45,3442.14],
            ['2021/04/12',3445.97,3412.95,3456.16,3403.9],
            ['2021/04/13',3411.29,3396.47,3425.4,3387.9],
            ['2021/04/14',3397.02,3416.72,3420.03,3392.98],
            ['2021/04/15',3409.61,3398.99,3409.61,3373.09],
            ['2021/04/16',3407.19,3426.62,3432.63,3394.13],
            ['2021/04/19',3427.55,3477.55,3479.01,3414.36],
            ['2021/04/20',3467.15,3472.94,3494.3,3463.46],
            ['2021/04/21',3456.3,3472.93,3481.25,3450.11],
            ['2021/04/22',3482.83,3465.11,3485.36,3456.32],
            ['2021/04/23',3462.09,3474.17,3482.36,3456.33],
            ['2021/04/26',3484.11,3441.17,3497.12,3438.57],
            ['2021/04/27',3440.09,3442.61,3443.85,3417.26],
            ['2021/04/28',3432.16,3457.07,3457.07,3423.32],
            ['2021/04/29',3458.08,3474.9,3478.23,3447.59],
            ['2021/04/30',3468.3,3446.86,3469.09,3426.9],
            ['2021/05/06',3446.07,3441.28,3471.24,3426.85],
            ['2021/05/07',3446.41,3418.87,3457.89,3416.78],
            ['2021/05/10',3423.59,3427.99,3429.74,3401.94],
            ['2021/05/11',3406.6,3441.84,3448.1,3384.7],
            ['2021/05/12',3429.75,3462.75,3466.37,3428.39],
            ['2021/05/13',3432.14,3429.54,3448.02,3418.38],
            ['2021/05/14',3436.09,3490.38,3490.64,3422.56],
            ['2021/05/17',3490.41,3517.62,3530.51,3490.14],
            ['2021/05/18',3520.65,3529.01,3529.01,3510.86],
            ['2021/05/19',3521.11,3510.96,3521.11,3503.82],
            ['2021/05/20',3500.88,3506.94,3517.74,3486.07],
            ['2021/05/21',3510.84,3486.56,3518.38,3479.67],
            ['2021/05/24',3486.27,3497.28,3498.3,3469.88],
            ['2021/05/25',3502.54,3581.34,3584.58,3502.44],
            ['2021/05/26',3586.84,3593.36,3603.49,3585.37],
            ['2021/05/27',3585.73,3608.85,3626.36,3579.26],
            ['2021/05/28',3610.77,3600.78,3622.18,3582.36],
            ['2021/05/31',3600.07,3615.48,3615.66,3580.65],
            ['2021/06/01',3608.6,3624.71,3626.07,3581.91],
            ['2021/06/02',3626.33,3597.14,3629.29,3584.6],
            ['2021/06/03',3595.42,3584.21,3618.51,3584.2],
            ['2021/06/04',3565.47,3591.84,3618.8,3561.89],
            ['2021/06/07',3597.14,3599.54,3600.38,3581.9],
            ['2021/06/08',3598.75,3580.11,3621.52,3563.25],
            ['2021/06/09',3576.8,3591.4,3598.71,3572.64],
            ['2021/06/10',3587.53,3610.86,3624.34,3584.13],
            ['2021/06/11',3614.11,3589.75,3614.4,3587.15],
            ['2021/06/15',3587.47,3556.56,3592.95,3547.19],
            ['2021/06/16',3556.71,3518.33,3561.09,3513.56],
            ['2021/06/17',3508.32,3525.6,3534.2,3507.35],
            ['2021/06/18',3520.5,3525.1,3535.62,3503.18],
            ['2021/06/21',3515.5,3529.18,3540.3,3504.01],
            ['2021/06/22',3539.79,3557.41,3560.2,3536.81],
            ['2021/06/23',3559.4,3566.22,3577.47,3549.85],
            ['2021/06/24',3568.58,3566.65,3570.49,3548.82],
            ['2021/06/25',3567.38,3607.56,3614.3,3564.52],
            ['2021/06/28',3612.25,3606.37,3614.36,3594.22],
            ['2021/06/29',3601.68,3573.18,3601.83,3570.52],
            ['2021/06/30',3572.62,3591.2,3594.12,3569.5],
            ['2021/07/01',3600.55,3588.78,3607.7,3573.94],
            ['2021/07/02',3569.89,3518.76,3569.89,3514.34],
            ['2021/07/05',3516.92,3534.32,3534.32,3510.58],
            ['2021/07/06',3533.13,3530.26,3538.35,3496.93],
            ['2021/07/07',3508.59,3553.72,3557.88,3504.47],
            ['2021/07/08',3557.22,3525.5,3558.68,3521.06],
            ['2021/07/09',3512.23,3524.09,3529.31,3485.05],
            ['2021/07/12',3545.2,3547.84,3565.03,3527.39],
            ['2021/07/13',3547.59,3566.52,3567.48,3542.82],
            ['2021/07/14',3560.83,3528.5,3560.83,3525.49],
            ['2021/07/15',3519.06,3564.59,3565.94,3514.26],
            ['2021/07/16',3559.53,3539.3,3566.0,3537.73],
            ['2021/07/19',3530.49,3539.12,3544.88,3506.34],
            ['2021/07/20',3515.07,3536.79,3538.64,3509.19],
            ['2021/07/21',3543.05,3562.66,3569.09,3543.05],
            ['2021/07/22',3563.66,3574.73,3576.47,3558.29],
            ['2021/07/23',3571.72,3550.4,3571.85,3541.51],
            ['2021/07/26',3538.01,3467.44,3538.01,3424.74],
            ['2021/07/27',3467.45,3381.18,3483.87,3380.28],
            ['2021/07/28',3355.82,3361.59,3385.54,3312.72],
            ['2021/07/29',3403.84,3411.72,3416.61,3382.57],
            ['2021/07/30',3398.2,3397.36,3404.88,3370.45],
    ]);

    function splitData(rawData) {
        var categoryData = [];
        var values = []
        for (var i = 0; i < rawData.length; i++) {
            categoryData.push(rawData[i].splice(0, 1)[0]);
            values.push(rawData[i])
        }
        return {
            categoryData: categoryData,
            values: values
        };
    }

    function calculateMA(dayCount) {
        var result = [];
        for (var i = 0, len = data0.values.length; i < len; i++) {
            if (i < dayCount) {
                result.push('-');
                continue;
            }
            var sum = 0;
            for (var j = 0; j < dayCount; j++) {
                sum += data0.values[i - j][1];
            }
            result.push((sum / dayCount).toFixed(2));
        }
        return result;
    }

    option = {
        title: {
            text: '上证指数',
            left: 0
        },
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'cross'
            }
        },
        legend: {
            data: ['日K', 'MA5', 'MA10', 'MA20', 'MA30', 'MA60']
        },
        grid: {
            left: '10%',
            right: '10%',
            bottom: '15%'
        },
        xAxis: {
            type: 'category',
            data: data0.categoryData,
            scale: true,
            boundaryGap: false,
            axisLine: {onZero: false},
            splitLine: {show: false},
            splitNumber: 20,
            min: 'dataMin',
            max: 'dataMax'
        },
        yAxis: {
            scale: true,
            splitArea: {
                show: true
            }
        },
        dataZoom: [
            {
                type: 'inside',
                start: 75,
                end: 100
            },
            {
                show: true,
                type: 'slider',
                top: '90%',
                start: 75,
                end: 100
            }
        ],
        series: [
            {
                name: '日K',
                type: 'candlestick',
                data: data0.values,
                itemStyle: {
                    color: upColor,
                    color0: downColor,
                    borderColor: upBorderColor,
                    borderColor0: downBorderColor
                },
                markLine: {
                    symbol: ['none', 'none'],
                    data: [
                        {
                            name: 'min line on low',
                            type: 'min',
                            yAxis: 3500,
                        },
                        {
                            name: 'max line on high',
                            type: 'max',
                            yAxis: 3600,
                        }
                    ]
                }
            },
            {
                name: 'MA5',
                type: 'line',
                data: calculateMA(5),
                smooth: true,
                color: 'rgb(255,145,0)',
                lineStyle: {
                    opacity: 0.5,
                }
            },
            {
                name: 'MA10',
                type: 'line',
                data: calculateMA(10),
                smooth: true,
                color: 'rgb(0,102,204)',
                lineStyle: {
                    opacity: 0.5
                }
            },
            {
                name: 'MA20',
                type: 'line',
                data: calculateMA(20),
                smooth: true,
                color: 'rgb(221,5,171)',
                lineStyle: {
                    opacity: 0.5
                }
            },
            {
                name: 'MA30',
                type: 'line',
                data: calculateMA(30),
                smooth: true,
                color: 'rgb(255,87,33)',
                lineStyle: {
                    opacity: 0.5
                }
            },
            {
                name: 'MA60',
                type: 'line',
                data: calculateMA(60),
                smooth: true,
                color: 'rgb(32,196,126)',
                lineStyle: {
                    opacity: 0.5
                }
            },
        ]
    };

    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option);

</script>


<script src="https://cdn.jsdelivr.net/npm/echarts@5.1.2/dist/echarts.js"></script>
<script type="text/javascript">
    var self_profit = echarts.init(document.getElementById('self_profit'));

    option = {
    color: ['#FFBF00', '#FF0087'],
    title: {
        text: '本金盈亏图'
    },
    tooltip: {
        trigger: 'axis',
        axisPointer: {
            type: 'cross',
            label: {
                backgroundColor: '#6a7985'
            }
        }
    },
    legend: {
        data: ['本金', '浮盈']
    },
    toolbox: {
        feature: {
            saveAsImage: {}
        }
    },
    grid: {
        left: '3%',
        right: '4%',
        bottom: '3%',
        containLabel: true
    },
    xAxis: [
        {
            type: 'category',
            boundaryGap: false,
            data: ['2021-05', '2021-06', '2021-07']
        }
    ],
    yAxis: [
        {
            type: 'value'
        }
    ],
    series: [
        {
            name: '本金',
            type: 'line',
            stack: '总量',
            smooth: true,
            lineStyle: {
                width: 0
            },
            showSymbol: false,
            label: {
                show: true,
                position: 'top'
            },
            areaStyle: {
                opacity: 0.8,
                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                    offset: 0,
                    color: 'rgba(255, 191, 0)'
                }, {
                    offset: 1,
                    color: 'rgba(224, 62, 76)'
                }])
            },
            emphasis: {
                focus: 'series'
            },
            data: [60000, 95000, 214000]
        },
        {
            name: '浮盈',
            type: 'line',
            stack: '总量',
            smooth: true,
            lineStyle: {
                width: 0
            },
            showSymbol: false,
            areaStyle: {
                opacity: 0.8,
                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                    offset: 0,
                    color: 'rgba(255, 0, 135)'
                }, {
                    offset: 1,
                    color: 'rgba(135, 0, 157)'
                }])
            },
            emphasis: {
                focus: 'series'
            },
            data: [2200, 1500, -14400]
        },
    ]
    };

    self_profit.setOption(option, true); //当setOption第二个参数为true时，会阻止数据合并
</script>

]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 投资 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[2021 年 6 月股票账户总结]]></title>
      <url>http://tommyjiang.github.io/2021/2021-06-30-stock-monthly-report/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
2021 年 6 月股票账户总结
</div>

<a id="more"></a>
<h1 id="主要指标"><a href="#主要指标" class="headerlink" title="主要指标"></a>主要指标</h1><p>本月末本金 95000 元，比上月增加 35000 元，目前浮盈 1500.47 元，比上月减少 700 元。以 2021.6.1 日账户净值为基准值 100 计算，目前账户净值 99.15，和上月比减少 0.85%。</p>
<h1 id="盘面回顾"><a href="#盘面回顾" class="headerlink" title="盘面回顾"></a>盘面回顾</h1><ul>
<li>2021.6.1，市场利率定价自律机制工作会议召开，会议内容之一是审议通过了优化存款利率自律管理方案，将现有基准利率 × 倍数改为基准利率 + 基点方式。</li>
<li>2021.6.20，金融时报发表评论《没有根据的所谓流动性预测可以休矣》，提到货币政策稳字当头，央行会保持流动性合理充裕，市场对加息预期减弱，银行股全线下跌。</li>
<li>2021.6.21，平安跌破 64，万科险守 24，招行回调到 60 日线 53，价值股跌得让人绝望。</li>
<li>2021.6.22，美股银行股大涨带动 A 股招商银行、宁波银行、平安银行等头部银行股大涨。</li>
<li>2021.6.28，A 股银行继续全面熄火。</li>
</ul>

<div id="self_profit" style="height:400px"></div>


<div id="self_hs300_202106" style="height:400px"></div>


<div id="hz_202106" style="height:400px"></div>


<script src="https://cdn.jsdelivr.net/npm/echarts@5.1.2/dist/echarts.js"></script>
<script type="text/javascript">
    var self_hs300_202106 = echarts.init(document.getElementById('self_hs300_202106'));

    option = {
        xAxis: {
            type: 'category',
            data: ['2021-05', '2021-06']
        },
        yAxis: {
            type: 'value'
        },
        series: [{
            name: '个人账户',
            data: [100, 99.15],
            type: 'line',
            color: '#660874',
            smooth: true
        },
        {
            name: '沪深 300',
            data: [100, 97.98],
            type: 'line',
            color: '#ec0000',
            smooth: true
        },
        ],
        legend: {
            data: ['个人账户', '沪深 300']
        },
    };

    self_hs300_202106.setOption(option, true); //当setOption第二个参数为true时，会阻止数据合并
</script>


<script type="text/javascript">
    var myChart = echarts.init(document.getElementById('hz_202106'));

    var option;

    var upColor = '#ec0000';
    var upBorderColor = '#8A0000';
    var downColor = '#00da3c';
    var downBorderColor = '#008F28';

    // 数据意义：开盘(open)，收盘(close)，最低(lowest)，最高(highest)
    var data0 = splitData([
        ['2021/03/01',3531.48,3551.4,3552.57,3511.99],
        ['2021/03/02',3566.85,3508.59,3566.85,3485.36],
        ['2021/03/03',3500.16,3576.9,3577.62,3498.72],
        ['2021/03/04',3546.64,3503.49,3552.2,3487.38],
        ['2021/03/05',3463.31,3501.99,3523.57,3456.67],
        ['2021/03/08',3524.98,3421.41,3542.3,3421.22],
        ['2021/03/09',3415.34,3359.29,3429.15,3328.31],
        ['2021/03/10',3389.84,3357.74,3397.02,3354.82],
        ['2021/03/11',3369.9,3436.83,3436.83,3369.9],
        ['2021/03/12',3447.2,3453.08,3454.51,3417.24],
        ['2021/03/15',3441.88,3419.95,3457.49,3392.51],
        ['2021/03/16',3424.65,3446.73,3448.88,3406.18],
        ['2021/03/17',3435.73,3445.55,3454.06,3410.28],
        ['2021/03/18',3449.64,3463.07,3478.14,3449.38],
        ['2021/03/19',3423.87,3404.66,3439.52,3389.29],
        ['2021/03/22',3406.12,3443.44,3443.66,3404.23],
        ['2021/03/23',3445.34,3411.51,3445.42,3390.05],
        ['2021/03/24',3394.13,3367.06,3415.3,3362.18],
        ['2021/03/25',3355.07,3363.59,3382.23,3344.97],
        ['2021/03/26',3373.32,3418.33,3423.22,3373.32],
        ['2021/03/29',3429.63,3435.3,3449.83,3409.89],
        ['2021/03/30',3432.53,3456.68,3457.64,3423.32],
        ['2021/03/31',3452.21,3441.91,3452.21,3420.83],
        ['2021/04/01',3444.81,3466.33,3470.03,3438.83],
        ['2021/04/02',3472.63,3484.39,3487.59,3462.83],
        ['2021/04/06',3491.63,3482.97,3493.28,3471.76],
        ['2021/04/07',3483.42,3479.63,3483.42,3453.2],
        ['2021/04/08',3467.49,3482.56,3495.91,3459.32],
        ['2021/04/09',3475.44,3450.68,3475.45,3442.14],
        ['2021/04/12',3445.97,3412.95,3456.16,3403.9],
        ['2021/04/13',3411.29,3396.47,3425.4,3387.9],
        ['2021/04/14',3397.02,3416.72,3420.03,3392.98],
        ['2021/04/15',3409.61,3398.99,3409.61,3373.09],
        ['2021/04/16',3407.19,3426.62,3432.63,3394.13],
        ['2021/04/19',3427.55,3477.55,3479.01,3414.36],
        ['2021/04/20',3467.15,3472.94,3494.3,3463.46],
        ['2021/04/21',3456.3,3472.93,3481.25,3450.11],
        ['2021/04/22',3482.83,3465.11,3485.36,3456.32],
        ['2021/04/23',3462.09,3474.17,3482.36,3456.33],
        ['2021/04/26',3484.11,3441.17,3497.12,3438.57],
        ['2021/04/27',3440.09,3442.61,3443.85,3417.26],
        ['2021/04/28',3432.16,3457.07,3457.07,3423.32],
        ['2021/04/29',3458.08,3474.9,3478.23,3447.59],
        ['2021/04/30',3468.3,3446.86,3469.09,3426.9],
        ['2021/05/06',3446.07,3441.28,3471.24,3426.85],
        ['2021/05/07',3446.41,3418.87,3457.89,3416.78],
        ['2021/05/10',3423.59,3427.99,3429.74,3401.94],
        ['2021/05/11',3406.6,3441.84,3448.1,3384.7],
        ['2021/05/12',3429.75,3462.75,3466.37,3428.39],
        ['2021/05/13',3432.14,3429.54,3448.02,3418.38],
        ['2021/05/14',3436.09,3490.38,3490.64,3422.56],
        ['2021/05/17',3490.41,3517.62,3530.51,3490.14],
        ['2021/05/18',3520.65,3529.01,3529.01,3510.86],
        ['2021/05/19',3521.11,3510.96,3521.11,3503.82],
        ['2021/05/20',3500.88,3506.94,3517.74,3486.07],
        ['2021/05/21',3510.84,3486.56,3518.38,3479.67],
        ['2021/05/24',3486.27,3497.28,3498.3,3469.88],
        ['2021/05/25',3502.54,3581.34,3584.58,3502.44],
        ['2021/05/26',3586.84,3593.36,3603.49,3585.37],
        ['2021/05/27',3585.73,3608.85,3626.36,3579.26],
        ['2021/05/28',3610.77,3600.78,3622.18,3582.36],
        ['2021/05/31',3600.07,3615.48,3615.66,3580.65],
        ['2021/06/01',3608.6,3624.71,3626.07,3581.91],
        ['2021/06/02',3626.33,3597.14,3629.29,3584.6],
        ['2021/06/03',3595.42,3584.21,3618.51,3584.2],
        ['2021/06/04',3565.47,3591.84,3618.8,3561.89],
        ['2021/06/07',3597.14,3599.54,3600.38,3581.9],
        ['2021/06/08',3598.75,3580.11,3621.52,3563.25],
        ['2021/06/09',3576.8,3591.4,3598.71,3572.64],
        ['2021/06/10',3587.53,3610.86,3624.34,3584.13],
        ['2021/06/11',3614.11,3589.75,3614.4,3587.15],
        ['2021/06/15',3587.47,3556.56,3592.95,3547.19],
        ['2021/06/16',3556.71,3518.33,3561.09,3513.56],
        ['2021/06/17',3508.32,3525.6,3534.2,3507.35],
        ['2021/06/18',3520.5,3525.1,3535.62,3503.18],
        ['2021/06/21',3515.5,3529.18,3540.3,3504.01],
        ['2021/06/22',3539.79,3557.41,3560.2,3536.81],
        ['2021/06/23',3559.4,3566.22,3577.47,3549.85],
        ['2021/06/24',3568.58,3566.65,3570.49,3548.82],
        ['2021/06/25',3567.38,3607.56,3614.3,3564.52],
        ['2021/06/28',3612.25,3606.37,3614.36,3594.22],
        ['2021/06/29',3601.68,3573.18,3601.83,3570.52],
        ['2021/06/30',3572.62,3591.2,3594.12,3569.5],
    ]);

    function splitData(rawData) {
        var categoryData = [];
        var values = []
        for (var i = 0; i < rawData.length; i++) {
            categoryData.push(rawData[i].splice(0, 1)[0]);
            values.push(rawData[i])
        }
        return {
            categoryData: categoryData,
            values: values
        };
    }

    function calculateMA(dayCount) {
        var result = [];
        for (var i = 0, len = data0.values.length; i < len; i++) {
            if (i < dayCount) {
                result.push('-');
                continue;
            }
            var sum = 0;
            for (var j = 0; j < dayCount; j++) {
                sum += data0.values[i - j][1];
            }
            result.push((sum / dayCount).toFixed(2));
        }
        return result;
    }

    option = {
        title: {
            text: '上证指数',
            left: 0
        },
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'cross'
            }
        },
        legend: {
            data: ['日K', 'MA5', 'MA10', 'MA20', 'MA30', 'MA60']
        },
        grid: {
            left: '10%',
            right: '10%',
            bottom: '15%'
        },
        xAxis: {
            type: 'category',
            data: data0.categoryData,
            scale: true,
            boundaryGap: false,
            axisLine: {onZero: false},
            splitLine: {show: false},
            splitNumber: 20,
            min: 'dataMin',
            max: 'dataMax'
        },
        yAxis: {
            scale: true,
            splitArea: {
                show: true
            }
        },
        dataZoom: [
            {
                type: 'inside',
                start: 75,
                end: 100
            },
            {
                show: true,
                type: 'slider',
                top: '90%',
                start: 75,
                end: 100
            }
        ],
        series: [
            {
                name: '日K',
                type: 'candlestick',
                data: data0.values,
                itemStyle: {
                    color: upColor,
                    color0: downColor,
                    borderColor: upBorderColor,
                    borderColor0: downBorderColor
                },
                markLine: {
                    symbol: ['none', 'none'],
                    data: [
                        {
                            name: 'min line on low',
                            type: 'min',
                            yAxis: 3500,
                        },
                        {
                            name: 'max line on high',
                            type: 'max',
                            yAxis: 3600,
                        }
                    ]
                }
            },
            {
                name: 'MA5',
                type: 'line',
                data: calculateMA(5),
                smooth: true,
                color: 'rgb(255,145,0)',
                lineStyle: {
                    opacity: 0.5,
                }
            },
            {
                name: 'MA10',
                type: 'line',
                data: calculateMA(10),
                smooth: true,
                color: 'rgb(0,102,204)',
                lineStyle: {
                    opacity: 0.5
                }
            },
            {
                name: 'MA20',
                type: 'line',
                data: calculateMA(20),
                smooth: true,
                color: 'rgb(221,5,171)',
                lineStyle: {
                    opacity: 0.5
                }
            },
            {
                name: 'MA30',
                type: 'line',
                data: calculateMA(30),
                smooth: true,
                color: 'rgb(255,87,33)',
                lineStyle: {
                    opacity: 0.5
                }
            },
            {
                name: 'MA60',
                type: 'line',
                data: calculateMA(60),
                smooth: true,
                color: 'rgb(32,196,126)',
                lineStyle: {
                    opacity: 0.5
                }
            },
        ]
    };

    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option);

</script>


<script src="https://cdn.jsdelivr.net/npm/echarts@5.1.2/dist/echarts.js"></script>
<script type="text/javascript">
    var self_profit = echarts.init(document.getElementById('self_profit'));

    option = {
    color: ['#FFBF00', '#FF0087'],
    title: {
        text: '本金浮盈图'
    },
    tooltip: {
        trigger: 'axis',
        axisPointer: {
            type: 'cross',
            label: {
                backgroundColor: '#6a7985'
            }
        }
    },
    legend: {
        data: ['本金', '浮盈']
    },
    toolbox: {
        feature: {
            saveAsImage: {}
        }
    },
    grid: {
        left: '3%',
        right: '4%',
        bottom: '3%',
        containLabel: true
    },
    xAxis: [
        {
            type: 'category',
            boundaryGap: false,
            data: ['2021-05', '2021-06']
        }
    ],
    yAxis: [
        {
            type: 'value'
        }
    ],
    series: [
        {
            name: '本金',
            type: 'line',
            stack: '总量',
            smooth: true,
            lineStyle: {
                width: 0
            },
            showSymbol: false,
            label: {
                show: true,
                position: 'top'
            },
            areaStyle: {
                opacity: 0.8,
                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                    offset: 0,
                    color: 'rgba(255, 191, 0)'
                }, {
                    offset: 1,
                    color: 'rgba(224, 62, 76)'
                }])
            },
            emphasis: {
                focus: 'series'
            },
            data: [60000, 95000]
        },
        {
            name: '浮盈',
            type: 'line',
            stack: '总量',
            smooth: true,
            lineStyle: {
                width: 0
            },
            showSymbol: false,
            areaStyle: {
                opacity: 0.8,
                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                    offset: 0,
                    color: 'rgba(255, 0, 135)'
                }, {
                    offset: 1,
                    color: 'rgba(135, 0, 157)'
                }])
            },
            emphasis: {
                focus: 'series'
            },
            data: [2200, 1500]
        },
    ]
    };

    self_profit.setOption(option, true); //当setOption第二个参数为true时，会阻止数据合并
</script>

]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 投资 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[招行 2020 年年报阅读笔记]]></title>
      <url>http://tommyjiang.github.io/2021/2021-05-09-cmb-2020-annual-report/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
阅读的第一份年报。
</div>

<a id="more"></a>
<h1 id="重要提示"><a href="#重要提示" class="headerlink" title="重要提示"></a>重要提示</h1><ol>
<li>会计事务所出具的是标准无保留意见的审计报告。</li>
<li>利润分配方案，公司（注意这里不是母公司）净利润的 10% 提取盈余公积，风险资产 1.5% 差额计提一般准备，每股现金分红 1.253 元（含税）。招行总股数 252.2 亿股，分红总额。</li>
</ol>
<h1 id="领导致辞"><a href="#领导致辞" class="headerlink" title="领导致辞"></a>领导致辞</h1><ol>
<li>战略愿景，创新驱动、零售领先、特色鲜明的中国最佳商业银行。战略方向，轻型银行。战略定位，一体两翼，其中一体是零售银行，两翼是公司金融和同业金融。经营理念，因您而变。</li>
<li>社会责任，脱贫不脱钩。财富管理，理财启蒙、家业振兴、财富传承。</li>
</ol>
<h1 id="主要财务指标"><a href="#主要财务指标" class="headerlink" title="主要财务指标"></a>主要财务指标</h1>
<div id="main_2020" style="height:400px"></div>


<script src="http://echarts.baidu.com/build/dist/echarts.js"></script>
<script type="text/javascript">
// 路径配置
    require.config({
        paths: {
            echarts: 'http://echarts.baidu.com/build/dist'
        }
    });

    require(
        [
            'echarts',
            'echarts/chart/bar',
            'echarts/chart/line',
        ],
        drawEcharts
    );

    function drawEcharts(ec){
        main_2020(ec);
    }

    function main_2020(ec){
        var main_2020 = ec.init(document.getElementById('main_2020'),'macarons');

        option = {
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'cross',
                    crossStyle: {
                        color: '#999'
                    }
                }
            },
            toolbox: {
                feature: {
                    dataView: {show: true, readOnly: false},
                    magicType: {show: true, type: ['line', 'bar']},
                    restore: {show: true},
                    saveAsImage: {show: true}
                }
            },
            legend: {
                data: ['营业收入', '营业利润', '净利润', '净利润同比增长']
            },
        xAxis: [
            {
                type: 'category',
                data: ['2018', '2019', '2020'],
                axisPointer: {
                    type: 'shadow'
                }
            }
        ],
        yAxis: [
            {
                type: 'value',
                name: '人民币(百万元)',
                min: 0,
                max: 300000,
                interval: 50000,
                axisLabel: {
                    formatter: '{value}'
                }
            },
            {
                type: 'value',
                name: '净利润同比增长',
                min: 0,
                max: 20,
                interval: 4,
                axisLabel: {
                    formatter: '{value}%'
                }
            }
        ],
        series: [
            {
                name: '营业收入',
                type: 'bar',
                data: [248555, 269703, 290482]
            },
            {
                name: '营业利润',
                type: 'bar',
                data: [106608, 117047, 122643]
            },
            {
                name: '净利润',
                type: 'bar',
                data: [80819, 93423, 97959]
            },
            {
                name: '净利润同比增长',
                type: 'line',
                yAxisIndex: 1,
                data: [14.41, 15.60, 4.86]
            }
        ]
};
        main_2020.setOption(option, true); //当setOption第二个参数为true时，会阻止数据合并
    }
</script>

]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 投资 </tag>
            
            <tag> 银行 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[《手把手教你读财报2——18 节课看透银行业》读书笔记]]></title>
      <url>http://tommyjiang.github.io/2021/2021-04-30-bank-financial-statements/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
老唐的银行财报书。
</div>

<a id="more"></a>
<p>我国银行业从政府的钱袋子角色，慢慢开始规范经营。</p>
<ul>
<li>政府的钱袋子：低成本吸储，补贴政府和国企，导致不良贷款率极高。</li>
<li>规范经营时代：1999 年，建立长城、信达、华融、东方四大资产管理公司，对口承接银行烂账。2003 年，银监会成立。2005-2010 年，四大国有银行陆续上市，银行业开始规范经营。</li>
</ul>
<h1 id="银行财报的特点"><a href="#银行财报的特点" class="headerlink" title="银行财报的特点"></a>银行财报的特点</h1><p>一易一难。易指的是银行的现金流量表可以直接放弃，难指的是银行资产负债表比普通企业复杂得多。子公司占比小，只需要关注合并报表数据。</p>
<h1 id="银行的股东权益"><a href="#银行的股东权益" class="headerlink" title="银行的股东权益"></a>银行的股东权益</h1><h2 id="股本"><a href="#股本" class="headerlink" title="股本"></a>股本</h2><p>指股东投入的资本总额，等于公司股份总数乘以股票面值。目前银行股的股票面值都是 1 元，因此股本发生变化的原因是股份总数发生了变化，一般有以下三种情况：</p>
<ol>
<li>股东增加或减少投入。例如将可转债转化为普通股。</li>
<li>企业用资本公积向股东转增股票。</li>
<li>企业用利润或盈余公积向股东送红股。</li>
</ol>
<h2 id="其他权益工具"><a href="#其他权益工具" class="headerlink" title="其他权益工具"></a>其他权益工具</h2><ol>
<li>优先股。企业经营正常时，拿固定利息，类似债券，企业出现兑付危机时，在付清其他债权人债务之后兑付，或在某种状态下直接变为普通股。由于优先股承担的风险和获得的收益不对称，因此持有优先股的，要么是企业的直接相关利益人，要么是不相信这家企业会倒闭的投资者。</li>
<li>永续债。永续债在会计账目里列为股东权益，并不是负债，相当于企业可以筹款，但负债并没有增加，永续债的还息不作为利息支出，而是类似股东权益的分红，清偿顺序优先于优先股和普通股。</li>
</ol>
<h2 id="资本公积"><a href="#资本公积" class="headerlink" title="资本公积"></a>资本公积</h2><p>资本公积是属于股东的权益，但不是企业生产经营赚来的部分。</p>
<p>发行股票时，股票发行价去掉股票面值和发行费用，其余费用计入资本公积。发行其他带有权益的金融产品，带来的溢价收益，也需要计入资本公积，例如可转债中，公司债券公允价值计入负债，差额部分计入资本公积。</p>
<p>资本公积转增股本时，不征收所得税。用经营利润送红股时，会以面值为基数征收所得税。</p>
<h2 id="其他综合收益"><a href="#其他综合收益" class="headerlink" title="其他综合收益"></a>其他综合收益</h2><p>包括企业持有的可供出售金融资产的公允价值变动，对持有投资资产重新分类形成的利得或损失，补充退休福利产生的精算利得或损失，以及外币报表折算差额。</p>
<h2 id="盈余公积"><a href="#盈余公积" class="headerlink" title="盈余公积"></a>盈余公积</h2><p>盈余公积可以用来弥补企业亏损，也可以用来送红股，包括法定盈余公积和任意盈余公积。</p>
<ol>
<li>法定盈余公积。盈利时，提取额度是当年利润的 10%，基数是拥有营业执照的法律实体的利润。历年累计达到注册资本的 50% 以后，可以不继续提取法定盈余公积。</li>
<li>任意盈余公积。由股东自行决定是否提取。</li>
</ol>
<h2 id="一般准备"><a href="#一般准备" class="headerlink" title="一般准备"></a>一般准备</h2><p>类似于金融行业的专属盈余公积金，财政部规定，银行的一般准备不能低于风险加权资产的 1.5%。</p>
<h2 id="未分配利润"><a href="#未分配利润" class="headerlink" title="未分配利润"></a>未分配利润</h2><p>用途由股东自己决定，或分红，或送股，或留在公司再投资。</p>
<h1 id="银行的监管资本"><a href="#银行的监管资本" class="headerlink" title="银行的监管资本"></a>银行的监管资本</h1><p>我国银行业的资本充足率要求，核心一级资本充足率 7.5%，一级资本充足率 8.5%，资本充足率 10.5%，系统重要银行（工、农、中、建、交、招）全部加上 1%。</p>
<ol>
<li>核心一级资本。会计报表上的净资产，减去净资产中其他资本工具及其溢价，加回下属金融机构中，除保险公司以外的金融机构中，少数股东权益的核心一级资本。</li>
<li>一级资本。包括核心一级资本中减去的净资产中其他资本工具及其溢价，和下属金融机构中，除保险公司以外的金融机构中，少数股东权益的其他一级资本。</li>
<li>二级资本。包括二级资本工具及其溢价、超额贷款损失准备可计入部分、少数股东资本可计入部分。</li>
</ol>
<p>资本扣减项，是监管层规定的不计入监管资本的部分，目前主要包括商誉、除土地使用权之外的其他无形资产、对未按公允价值计量的项目进行现金流套期形成的储备、不并表金融机构的核心一级资本投资和二级资本等。</p>
<h1 id="银行的负债"><a href="#银行的负债" class="headerlink" title="银行的负债"></a>银行的负债</h1><p>银行的一大特点是高杠杆，即负债一般是银行自有的股东权益的十多倍。巴菲特多次谈到过银行的高杠杆经营模式导致的高风险，高杠杆会使管理中所有的优缺点放大，我们对用相对便宜的价格买下一家经营不善的银行没有一点兴趣，只对以合理价格买进一些经营良好的银行感兴趣。</p>
<p>监管要求的杠杆率，是(一级资本-一级资本扣减项)/调整后表内外资产，不得低于 4%，即杠杆倍数不得高于 25 倍。该指标与资本充足率的区别是，分母的资产是否根据风险进行加权。表内即资产负债表上的内容，银行利用自身信用提供担保、承诺、授信等服务，虽然不体现在银行资产负债表上，但银行也承担了实际风险，将这种资产称为表外资产。</p>
<p>银行的负债主要包括存款、借款和经营欠款三大部分。</p>
<h2 id="存款"><a href="#存款" class="headerlink" title="存款"></a>存款</h2><p>存款具体包括同业及其他金融机构存放款项、存款证(同业存单)、客户存款三大类。</p>
<h3 id="客户存款"><a href="#客户存款" class="headerlink" title="客户存款"></a>客户存款</h3><p>客户存款占银行负债的八成左右，需要关注的指标包括活期/定期存款占比、个人/公司存款占比，变化情况与管理层规划是否一致。</p>
<p>银行以吸收的存款数额为基数，按照万分之一点六的比例，缴纳存款保险金，每半年交一次。保障是，若银行破产，单个储户在银行存款+利息总额 50 万元以内的部分，央行包赔，7 个工作日到账。</p>
<h3 id="同业及其他金融机构存放"><a href="#同业及其他金融机构存放" class="headerlink" title="同业及其他金融机构存放"></a>同业及其他金融机构存放</h3><p>同业资金的拆借利率已经市场化，即上海银行间同业拆放利率 Shibor，主要期限品种包括隔夜、1 周、2 周、1 个月、3 个月、6 个月、9 个月及 1 年。同业拆借的监管包括：</p>
<ol>
<li>同业融入资金余额，去掉从境外拆入的资金，剩余部分不得超过银行负债总额的三分之一。</li>
<li>同业拆入资金最高金额不得超过银行各项存款余额的 8%。</li>
<li>去掉结算性同业存款和风险权重为零的资产后，对单一金额机构同业融资净额不得超过银行一级资本的 50%。</li>
</ol>
<h3 id="存款证-同业存单"><a href="#存款证-同业存单" class="headerlink" title="存款证(同业存单)"></a>存款证(同业存单)</h3><p>同业存单可以在二级市场流通，且不需交纳存款准备金，同时可以减少客户存款吸储成本，对于网点较少的银行而言，可能比存款更划算。</p>
<h3 id="向中央银行借款"><a href="#向中央银行借款" class="headerlink" title="向中央银行借款"></a>向中央银行借款</h3><ol>
<li>SLF，酸辣粉，常备借贷便利。银行用抵押品向央行借款，期限一般为 1 至 3 个月。</li>
<li>MLF，麻辣粉，中期借贷便利。与 SLF 类似，期限比 SLF 长，允许到期展期，只能投向特定领域。</li>
<li>SLO，酸辣藕，短期流动性调节工具。正回购指央行卖各种票据，从市场回收流动性，逆回购指央行买入各种票据，释放流动性。正/逆回购到期与正/逆回购投放相反。</li>
</ol>
<h1 id="银行的资产"><a href="#银行的资产" class="headerlink" title="银行的资产"></a>银行的资产</h1><h2 id="现金及现金类资产"><a href="#现金及现金类资产" class="headerlink" title="现金及现金类资产"></a>现金及现金类资产</h2><p>包括现钞、纸钞、硬币，以及法定准备金和超额准备金。财政性存款不计入资产。</p>
<h2 id="投资类资产"><a href="#投资类资产" class="headerlink" title="投资类资产"></a>投资类资产</h2><ol>
<li>贵金属。按报表日成本和公允价值较低者计量。</li>
<li>以公允价值计量且其变动计入当期损益的金融资产。归入该类的资产，以后不允许调整到其他科目，市价波动直接算进银行当期利润表。主要包括国债、地方政府债、央行票据、其他金融机构发行的债券等。</li>
<li>持有至到期资产。与上一类资产相比，区别在于用摊余成本法计算当期收益，除非计提减值准备，否则价格波动不影响利润表。</li>
<li>可供出售金融资产。公允价值变动，计入其他综合收益，影响净资产，但不影响当期利润。出售时，将其他综合收益中的获利或损失转出，影响当年利润。</li>
</ol>
<p>打算短期赚差价的，归入以公允价值计量且其变动计入当期损益的金融资产；买入后一直拿着等待到期还本付息的，归入持有至到期资产；暂时没想好的，归入可供出售金融资产。</p>
<h2 id="客户贷款与欠款"><a href="#客户贷款与欠款" class="headerlink" title="客户贷款与欠款"></a>客户贷款与欠款</h2><p>包括公司贷款、个人贷款、票据贴现三大类。</p>
<ol>
<li>公司贷款，包括流动资金贷款、贸易融资、项目贷款、房地产开发贷款等。</li>
<li>个人贷款，包括信用卡透支、小微企业贷款、个人住房贷款、个人消费贷款、个人经营贷款等。</li>
<li>票据贴现，是指将持有未到兑付时间的欠条抵押给银行，向银行申请现金，并付出一定费用。</li>
</ol>
<p>按照担保方式分类，贷款可以分为抵押贷款、质押贷款、保证贷款和信用贷款。</p>
<p>目前我国实行国际通行的贷款五级分类制，将贷款分为正常、关注、次级、可疑、损失五级，后三类贷款统称为不良贷款。重点关注指标包括不良贷款和不良贷款率、关注贷款和关注贷款率，不良贷款/逾期 90 天以上贷款、已逾期未减值贷款。</p>
<h2 id="贷款损失的成本"><a href="#贷款损失的成本" class="headerlink" title="贷款损失的成本"></a>贷款损失的成本</h2><h3 id="贷款减值准备"><a href="#贷款减值准备" class="headerlink" title="贷款减值准备"></a>贷款减值准备</h3><p>不同贷款的减值准备比例，只有工、农、中、建、交+招商银行采用高级法，其他银行只能采用监管部分的统一标准。对于贷款减值准备，银监会的监管要求包括：</p>
<ol>
<li>拨备覆盖率，简称拨备率。即资产减值准备/不良贷款大于等于 150%。</li>
<li>贷款拨备率，简称拨贷比。即资产减值准备/贷款余额大于等于 2.5%。</li>
</ol>
<p>拨备中的一般准备是计提的超出专项准备的贷款减值损失准备，可以部分计入二级资本；资产负债表中股东权益里的一般准备，是银行税后净利润的一部分。拨贷比可以用于调节银行净利润。</p>
<p>投资者需要关注的减值准备主要集中在客户贷款与垫款科目后面，对大额不良贷款逐笔评估即单项评估，对剩余不良贷款按照分类计算违约损失即组合评估。</p>
<h1 id="投资银行股"><a href="#投资银行股" class="headerlink" title="投资银行股"></a>投资银行股</h1><p>不值得定律</p>
<p>简单指标：银行利润/全产业利润</p>
<h2 id="经营效益指标"><a href="#经营效益指标" class="headerlink" title="经营效益指标"></a>经营效益指标</h2><p>主要看收入结构，利润可以随意调节。具体指标包括营收增速(越高越好)、净利息收入比(越低越好)、中间收入比(越高越好)、成本收入比(越稳定越好)、风险加权资产收益率(越高越好)、净利息收益率(越高越好)。</p>
<h2 id="资产质量指标"><a href="#资产质量指标" class="headerlink" title="资产质量指标"></a>资产质量指标</h2><p>主要关注资本充足率、不良率(综合逾期 90 天以上贷款/不良贷款、逾期不良差、贷款迁徙率)、拨备覆盖率。</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 投资 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[《看透银行》读书笔记]]></title>
      <url>http://tommyjiang.github.io/2021/2021-04-24-dive-into-bank/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
入手了冰哥的签名版。
</div>

<a id="more"></a>
<h1 id="负债业务"><a href="#负债业务" class="headerlink" title="负债业务"></a>负债业务</h1><p>银行的负债主要包括存款、同业借款、同业存单、央行借款。负债业务的评价指标包括：</p>
<ol>
<li>负债成本。包括直接成本和间接成本。直接成本是计息负债的综合利率，间接成本是获取负债的运营费用。2017 年典型银行的负债利率在 1.5%-3% 之间，负债间接成本约在 0.3%-0.6% 之间。</li>
<li>流动性覆盖率。等于合格优质流动性资产 / 未来 30 天现金净流出量。需要银行多配置优质资产和现金净流出。</li>
</ol>
<h2 id="存款业务"><a href="#存款业务" class="headerlink" title="存款业务"></a>存款业务</h2><p>存款类型按存期划分包括活期存款、定期存款、通知存款、协议存款、结构化存款等。按客户性质划分包括对公存款、零售存款存款业务的评价指标包括：</p>
<ol>
<li>数量，存款绝对数量和相对增速。</li>
<li>质量，存款直接成本。活期存款占比越高，成本越低，越有优势。招行 AUM 导向的考核体系，可以帮助招行获得存款成本优势。(中国银行存款成本显著高于其他三大航和招商银行？)</li>
</ol>
<p>存款相关指标包括：</p>
<ol>
<li>货币流动性指标。通常使用 M2(流通中现金 + 企业存款 + 机关团体存款 + 农村存款 + 个人储蓄存款 + 证券客户保证金)，可近似看做银行存款增速和资产规模增速。</li>
<li>存款准备金率。指金融机构为保证客户提取存款和资金清算需要而准备的资金，是缴存在中央银行的存款。存款准备金占其存款总额的比例即存款准备金率。存款准备金率可以用来调节流动性，该比率越高，流动性越紧。</li>
<li>存贷比。应成为贷存比，指银行贷款总额与存款总额的比例，从盈利的角度考虑，该指标越高越好，但过高的存贷比可能意味着银行存款增长乏力，只能依靠成本较高的同业拆借和向央行拆借满足负债需求。</li>
</ol>
<h2 id="同业负债"><a href="#同业负债" class="headerlink" title="同业负债"></a>同业负债</h2><p>同业负债包括同业和其他金融机构存放、同业拆入和卖出回购。</p>
<ol>
<li>同业和其他金融机构存放。同业存放相对较少，是指各银行为方便结算，在相关结算单位开立存款账户，利率参考上海银行间同业拆放利率(Shibor)。其他金融机构存放，不同银行间有很大差别，也会导致不同银行负债成本有很大差别。</li>
<li>同业拆入。又称同业拆放，是金融机构之间进行短期、临时性头寸调剂的市场，手头资金富余的银行，将资金拆借给缺乏资金的银行。同业拆借市场没有资产抵押，完全建立在信用基础上。</li>
<li>卖出回购。这部分在同业负债中占比最小，指银行先将一些资产卖给其他银行，并约定好回购时间和价格，类似有抵押借贷。</li>
</ol>
<p>同业负债有一定流动性风险，基本上属于短期负债，如果配置过多长期资产，“短借长贷”造成资产期限错配，可能会出现流动性危机。</p>
<h2 id="同业存单"><a href="#同业存单" class="headerlink" title="同业存单"></a>同业存单</h2><p>同业存单是存款类金融机构在全国银行间市场上发型的记账式定期存款凭证，相当于银行花钱向另一家银行买存款，采用零息债券的形式，即买入同业存单的机构付出的金额是票面金额减去到期时的利息。</p>
<p>同业存单的利率实际上形成了银行间中长期资金拆借的利率，流动性紧张的时候，同业存单利率走高。存款基础好的银行，愿意作为同业存单的买入行。虽然通过同业存单拿到负债不需要像吸储一样付出附加成本，可以快速扩张负债规模，但同业存单是所有负债中对流动性最敏感的，同时成本较高，是一把双刃剑。</p>
<h2 id="央行借款"><a href="#央行借款" class="headerlink" title="央行借款"></a>央行借款</h2><p>主要包括再贷款、再贴现和结构性货币政策工具。再贴现即通过票据债权转让，从央行进行再贷款。结构性货币政策工具包括：</p>
<ol>
<li>SLF，常备借贷便利，俗称“酸辣粉”。SLF 是银行利用高信用评级债券等优质资产向央行一对一申请抵押贷款。</li>
<li>MLF，中期借贷便利，俗称“麻辣粉”。MLF 与 SLF 类似，主要功能是投放中期基础货币，实现对特定领域的定向支持。</li>
<li>TMLF，定向中期借贷便利，俗称“特麻辣粉”。TMLF 经续作可使用 3 年，利率比 MLF 利率优惠 15 个基点。</li>
</ol>
<h1 id="资产业务"><a href="#资产业务" class="headerlink" title="资产业务"></a>资产业务</h1><p>银行的资产业务是真正帮助银行赚钱的业务线，配置资产需要兼顾收益率和风险，不能只配置高收益率的资产。同时也需要考虑资产的久期，不能全部配置长久期资产，否则就会面临流动性风险和期限错配引发的利率风险。</p>
<p>银行资产主要包括贷款、投资、存放央行、存放同业或其他金融机构、拆出资金及买入返售资产、现金、贵金属、商誉、其他资产等，其中前面五项产生利息收入，是生息资产，后面四项是非生息资产。</p>
<h2 id="贷款业务"><a href="#贷款业务" class="headerlink" title="贷款业务"></a>贷款业务</h2><p>贷款业务分为零售贷款、对公贷款和票据贴现三大类。</p>
<ol>
<li>零售贷款。即发放给个人或个体经营者的贷款，优势是风险相对较低(社会信用体系完善、没有个人破产保护制度)，收益率相对较高(客户议息能力弱)，劣势是需要强大的客户基础和较高的尽调成本。</li>
<li>对公贷款。即发放给企事业单位的贷款，优势是单笔金额大尽调成本低，可以派生存款变相扩张资产负债规模，劣势是不良率比零售贷款高、收益率比零售贷款低。</li>
<li>票据贴现。即资金借贷者将未到期的商业票据、银行承兑汇票等向银行要求变为现款，银行收到票据，按票面金额扣除贴现利息后付给借贷者现款。</li>
</ol>
<h2 id="投资业务"><a href="#投资业务" class="headerlink" title="投资业务"></a>投资业务</h2><p>投资资产包括债券、非标资产、基金、贵金属、股权投资等。</p>
<ol>
<li>债券。政府债券比例最高，政策性银行债券次之，企业债最少。</li>
<li>非标资产。非标业务可以规避贷款监管指标限制，同时也可以减少资本金消耗和资产减值损失计提。目前非标资产受到的监管越来越严格，未来这部分资产会显著收缩。</li>
</ol>
<p>投资时，对投资资产占比过高的银行，要更加谨慎。</p>
<h2 id="信用卡业务"><a href="#信用卡业务" class="headerlink" title="信用卡业务"></a>信用卡业务</h2><p>信用卡刷卡手续费，国内一般按 0.6% 收取，按 7:2:1 比例在发卡行、收单行和银联间进行分配。</p>
<p>对于没有全额还款的信用卡，发卡行将收取罚息。罚息的特点是利率高(年化 18%)、按月计复息、全额罚息(以全部消费额计息)。对于无法全额还款的持卡人，可以选择分期支付。分期支付对银行有如下好处：</p>
<ol>
<li>分期费率的实际利率高。分期费率的计算并不能简单的用利息除以本金，考虑时间加权的分期利率通常在 15%-16% 之间，略低于罚息利率，但相比贷款也高出很多，可以为银行创造收入。</li>
<li>分期违约时，银行损失小。分期途中即使客户发生违约，银行之前也已经收到一部分本金，不会全部损失。</li>
<li>美化财报。目前只有招商银行和光大银行将分期手续费计入利息收入，其他银行均算作非息收入，多数投资者默认非息收入越高越好，相当于美化了财报。</li>
</ol>
<h1 id="中间业务"><a href="#中间业务" class="headerlink" title="中间业务"></a>中间业务</h1><p>银行的中间业务是指不构成商业银行表内资产、表内负债，形成银行非利息收入的业务。中间业务具体可以分为金融服务业务和表外业务。中间业务的最大特征是没有风险或风险资产很少，费率不高，消耗人力资源大，但由于几乎不消耗资本金，依然是商业银行未来发展的重要方向。同时，中间业务也可以增强用户的黏性。</p>
<ol>
<li>金融服务业务。金融服务业务不形成或有资产和或有负债，或有的意思是因过去的交易或事项，今后可望获得。金融服务业务中，商业银行以代理人身份为客户办理业务，并从中收取手续费，完全不承担任何风险，也不会产生任何减值需求。具体包括清算结算业务、银行卡业务、代理业务、托管业务、咨询顾问业务等。</li>
<li>表外业务。表外业务与银行的资产和负债业务关系紧密，未来很可能由于某些条件触发转换为资产业务和负债业务，主要包括担保业务、承诺业务和金融衍生业务。</li>
</ol>
<h2 id="资产管理业务"><a href="#资产管理业务" class="headerlink" title="资产管理业务"></a>资产管理业务</h2><p>资产管理业务，简称资管业务，是指证券、期货、基金等金融机构作为资产管理人，根据合同约定，为客户提供投资管理服务，并从中收取一定的管理费甚至提成。银行资管业务是为了应对创新性理财产品对客户资产的冲击，目前银行理财占国内资管市场近 30%。</p>
<ol>
<li>理财业务。在银行购买理财产品，银行把募集的资金按合同约定投入某类资产，收取一定的管理费。理财业务可以增加用户黏性，也可以提升银行的盈利能力。理财业务是资管业务中最多的。</li>
<li>委托投资业务。委托行以委托理财服务的名义吸收个人客户资金，以同业存款的方式投给受托行，规定受托行必须将这笔资金投向指定的投资对象。与通道业务一样，都是为了绕开监管，有一定的风险。</li>
<li>通道业务。银行找第三方金融公司，由第三方将贷款放给客户，然后将收益权包装成理财产品卖给个人客户，银行只收取管理费或手续费，不承担额外的风险，也没有额外的收益。</li>
</ol>
<p>2018 年资管新规对银行业务的影响：</p>
<ol>
<li>公募理财可以配置非标产品，但必须是国家支持的重点工程或者小微信贷，严谨六入房地产和地方债务平台。</li>
<li>过渡期内货币型和封闭 6 个月以上的定期开放产品，可以使用摊余成本法，降低理财产品净值的波动，稳定投资者心理。</li>
<li>拓宽公募理财产品投资范围，起售点从 5 万元降低至 1 万元。</li>
<li>对非标资产回表补充资本工具支持。</li>
</ol>
<h2 id="代理业务"><a href="#代理业务" class="headerlink" title="代理业务"></a>代理业务</h2><p>代理业务是代理人接受客户委托，以被代理人的名义代为办理指定经济业务。代理业务与信托业务非常相似，最本质的差别是代理业务财产归属不发生转移，信托业务财产权转移给受托人，由于不涉及财产转移，银行承担的风险和连带责任更小。</p>
<p>代理业务包括代收代付业务、代理证券业务、代理保险业务和其他代理业务。代理证券和代理保险业务都可以收取手续费，代理证券业务的手续费在 1% 左右，代理保险的手续费在 3%-6%。</p>
<h1 id="银行的收入"><a href="#银行的收入" class="headerlink" title="银行的收入"></a>银行的收入</h1><p>银行的收入主要包括净利息收入和非息收入两部分。</p>
<h2 id="净利息收入"><a href="#净利息收入" class="headerlink" title="净利息收入"></a>净利息收入</h2><p>净利息收入是银行利息收入减去利息支出后的差额。银行的利息收入来源包括：信贷资产、投资资产、同业资产和存放央行款项。目前法定存款准备金利率为 1.62%，超额存款准备金利率为 0.72%，所以存款准备金基本是赔钱的买卖。银行的利息支出来源包括：存款负债、同业负债和央行拆借。</p>
<p>净利息收入指标包括：</p>
<ol>
<li>净息差。即净资产收益率，等于净利息收入，除以总生息资产。</li>
<li>净利息收入增速。等于(生息资产增速 + 1)，乘以(净息差增速 + 1)，再减 1。</li>
</ol>
<h3 id="净息差"><a href="#净息差" class="headerlink" title="净息差"></a>净息差</h3><p>净息差是评价一家银行的重要指标。触及投资者可以通过净息差评估银行的盈利能力，高级投资者需要分析高净息差的风险，顶级投资者需要对净息差趋势进行预测。</p>
<p>影响净息差的因素主要包括贷款利率、存款成本、同业负债成本、负债和资产配置占比。</p>
<p>加减息对银行的净息差有显著影响。</p>
<ol>
<li>对称加减息。对应档期加减息程度相同的，叫做对称加减息。但不同久期的幅度不同，活期经常不加息。加息时，银行的净息差会扩张，活期存款占比越高的银行，扩大越多。</li>
<li>非对称加减息。非对称加息情况下，银行净息差扩张会受到限制，如果活期加息，会严重影响净利息收入增加力度，甚至出现净利息收入减少。</li>
</ol>
<h3 id="利率市场化"><a href="#利率市场化" class="headerlink" title="利率市场化"></a>利率市场化</h3><p>利率市场化的目的是放开存贷款利率浮动限制，最终取消存贷款基准利率。2019 年 8 月 16 日，中国人民银行宣布了最新的 “LPR 定价机制”，贷款基础利率是商业银行对其最优质客户执行的贷款利率，其他贷款利率在此基础上加减点生成。LPR 将会以 MLF 加点的方式定价，相当于贷款利率与 MLF 利率相关，后续存贷款利率可能自动向 MLF 并轨。</p>
<h2 id="非利息收入"><a href="#非利息收入" class="headerlink" title="非利息收入"></a>非利息收入</h2><p>非利息收入主要包括手续费和佣金收入，以及其他非利息收入。非利息收入占比越高，收入中和风险相关的利息收入占比越低，银行会将一些模棱两可的业务收入计入手续费收入，以美化财报。一个典型的做法是将信用卡分期收入放入手续费收入，只有招行将其放入利息收入。</p>
<h1 id="银行的费用"><a href="#银行的费用" class="headerlink" title="银行的费用"></a>银行的费用</h1><ol>
<li>信用减值损失。信用减值损失是银行应对未来风险的一种方法，也是调节利润波动的一种有效手段。银行的生意特点是利润前置，风险后置，在贷款发放到全额收回本息之间，都可能发生无法偿付的风险。根据贷款资产 5 级分类标准，对不同等级的贷款，银行会计提减值准备金。</li>
<li>业务及管理费。业务及管理费作为支出，通常投资者会认为越低越好，但过低的业务及管理费可能意味着银行发展和转型动力不足。</li>
</ol>
<h1 id="银行业的特质"><a href="#银行业的特质" class="headerlink" title="银行业的特质"></a>银行业的特质</h1><h2 id="高杠杆"><a href="#高杠杆" class="headerlink" title="高杠杆"></a>高杠杆</h2><p>高杠杆的意思是，银行的总资产远远大于其净资产，即银行的负债体量巨大。如果银行 1% 的总资产成为坏账，就会给银行带来净资产 10% 以上的损失，因此资产质量对于盈利至关重要。压制银行杠杆倍数的关键手段是提高资本充足率。</p>
<h3 id="资本充足率"><a href="#资本充足率" class="headerlink" title="资本充足率"></a>资本充足率</h3><p>资本充足率，公式为资本/风险加权资产，是资本总额对齐风险加权资产的比率，反映了银行以自有资本承担损失的能力，具体包括核心一级资本充足率，一级资本充足率和资本充足率。</p>
<ol>
<li>核心一级资本。可以永久使用和支配的自有资金，包括实收资本(主要是普通股权)、资本公积、盈余公积、未分配利润等。</li>
<li>其他一级资本。主要包括优先股、永续债。</li>
<li>附属资本。包括未披露准备金、一般损失准备金、从属有期债务、混合资本工具和次级长期债券。</li>
</ol>
<p>风险加权资产的计算，包括权重法和高级法两种。权重法是将全部资产按照监管规定类别进行分类，采用监管规定的风险权重，计量信用风险加权资产。而高级法是银行用自己内部的评估系统，对风险资产的主体进行评级，并根据评级结果设定风险资产的风险系数。简单来看，权重法的风险系数是统一规定的，高级法的风险系数是银行内部评估的。</p>
<p>我国制定了中国版的巴塞尔协议，对银行的资本充足率和杠杆率提出了具体要求。为了满足要求，有以下几种办法：</p>
<ol>
<li>减少分红，提高资本。</li>
<li>降低利息收入，增加非息收入。</li>
<li>提高净息差，降低风险。增加利息收入，降低风险减值损失。</li>
<li>增加低风险权重的资产配置。</li>
</ol>
<h2 id="高风险"><a href="#高风险" class="headerlink" title="高风险"></a>高风险</h2><ol>
<li>信用风险。即借款者违约的风险。</li>
<li>市场风险。指由利率、汇率、股票等价格变化导致银行损失的风险。</li>
<li>操作风险。指由银行不完善的内部程序、员工、信息系统即外部事件造成损失的风险。</li>
<li>合规风险。指由于银行没有遵循法律、规则而可能受到法律制裁、监管处罚、重大财务损失和声誉损失的风险。</li>
<li>流动性风险。指因无法应对因负债下降或资产增加导致流动性困难的风险。流动性风险通常由资产大规模违约或者期限严重错配导致，需要控制信用风险，合理安排期限错配。</li>
</ol>
<h3 id="信用风险"><a href="#信用风险" class="headerlink" title="信用风险"></a>信用风险</h3><p>信用风险评估通常用贷款分类体系，包括正常、关注、次级、可疑、损失五类，其中后三类成为不良贷款。评估银行信用风险的指标主要包括：</p>
<ol>
<li>不良贷款率。等于不良贷款余额/贷款总额。</li>
<li>新生成不良率。等于新生成不良贷款/贷款总额。</li>
<li>逾期 90 天以上贷款占比。等于逾期 90 天以上贷款余额/贷款总额。</li>
<li>不良偏离度。等于逾期 90 天以上贷款余额/不良贷款余额，这个指标可以看出银行的不良认定是否严格。</li>
<li>贷款迁徙率。等于期初正常类贷款向下迁徙金额/（期初正常贷款月-期初正常贷款减少金额），这个指标可以反映有多少贷款从正常类转移到其他四类。</li>
</ol>
<p>为应对信用风险，银行需根据贷款类型计提一般准备贷款减值。银行信用风险抵补机制的评价指标包括：</p>
<ol>
<li>不良贷款拨备覆盖率。简称不良覆盖率，计算方法为贷款减值准备余额/不良贷款余额 * 100%。</li>
<li>拨贷比。等于拨备余额/贷款总额。</li>
<li>风险加权资产减值准备率。根据不同资产的风险系数，计算风险加权资产，优势是可以覆盖资产负债表中的所有资产，同时考虑不同资产的风险系数。</li>
</ol>
<h2 id="周期性"><a href="#周期性" class="headerlink" title="周期性"></a>周期性</h2><p>银行是顺周期行业，但不是强周期行业。</p>
<h3 id="内因"><a href="#内因" class="headerlink" title="内因"></a>内因</h3><ol>
<li>银行的信贷投放具有顺周期倾向。经济景气时，企业愿意承受风险，通过信贷进行投资。</li>
<li>银行的信用风险具有顺周期倾向。经济景气时，企业信贷质量高，信用减值损失下降。</li>
<li>银行的抵押品价格具有顺周期倾向。经济景气时，抵押品价值更高。</li>
</ol>
<h3 id="外因"><a href="#外因" class="headerlink" title="外因"></a>外因</h3><ol>
<li>监管要求。巴塞尔协议中要求银行资本充足率高于下限，经济景气时，银行资本积累更快，信贷投放能力更强。</li>
<li>新版会计准则影响。引入公允价值评估资产价值，经济景气时，资产价格出现泡沫，银行利润更多。</li>
</ol>
<h3 id="应对办法"><a href="#应对办法" class="headerlink" title="应对办法"></a>应对办法</h3><ol>
<li>风险抵补机制。银行每年从营收中提取一定比例的风险减值准备金，积累逆周期资本。</li>
<li>逆周期调节。经济过热时，收紧银行信贷。</li>
</ol>
<h1 id="银行面临的挑战和应对"><a href="#银行面临的挑战和应对" class="headerlink" title="银行面临的挑战和应对"></a>银行面临的挑战和应对</h1><h2 id="挑战"><a href="#挑战" class="headerlink" title="挑战"></a>挑战</h2><ol>
<li>宏观领域。宏观经济增速减缓，资产质量下降。直接融资比例增加，企业债券由核准制改为注册制，龙头企业申报短期债进行直接融资。</li>
<li>行业内。资本充足率要求导致杠杆倍数降低，利率市场化影响期限错配净息差，金融业全面开放迎接国际资本挑战。</li>
<li>行业外。互联网支付企业的兴起。</li>
</ol>
<h2 id="应对"><a href="#应对" class="headerlink" title="应对"></a>应对</h2><ol>
<li>发展高收益低风险的零售业务，提高净息差，降低不良率。</li>
<li>从单纯的资金出借方，向提供全方位综合金融服务转变。</li>
<li>提供满足客户资产增值需求，且不消耗资本金的资管业务。</li>
</ol>
<h1 id="银行的评估指标"><a href="#银行的评估指标" class="headerlink" title="银行的评估指标"></a>银行的评估指标</h1><ol>
<li>净息差。净息差反映了利息收入的盈利水平，但净息差高可能由于高风险资产的收益率高导致。</li>
<li>非息收入占比。非息收入和风险资产无关，但可能会计入公允价值计量资产变动值，建议多关注手续费收入占比。</li>
<li>不良率、不良偏离度。反映了银行的资产质量。</li>
<li>核心一级资本充足率。银行增长动力的底线。</li>
<li>风险加权资产收益率。反映银行如何利用最少的风险资产赚钱最多的利润。</li>
</ol>
<h1 id="银行的财报"><a href="#银行的财报" class="headerlink" title="银行的财报"></a>银行的财报</h1><h2 id="资产负债表"><a href="#资产负债表" class="headerlink" title="资产负债表"></a>资产负债表</h2><p>关注总资产余额增速和资产分布。</p>
<ol>
<li>资产端。总资产增速既不能太低也不能太高，太高会影响资本充足率。关注贷款占比和金融占比，包括贷款的行业分布、五级分类、贷款余额和不良率。</li>
<li>负债端。负债总量和负债分布，特别是同业负债的占比。关注存款中活期存款的占比。</li>
</ol>
<h2 id="利润表"><a href="#利润表" class="headerlink" title="利润表"></a>利润表</h2><ol>
<li>总营收和同比增速。</li>
<li>净利息收入。</li>
<li>非息收入中的手续费收入。</li>
<li>信用减值损失和不良贷款减值损失。</li>
</ol>
<h2 id="现金流量表"><a href="#现金流量表" class="headerlink" title="现金流量表"></a>现金流量表</h2><p>无需过渡关注经营现金流，需要综合一个相对长的周期，全面统计经营现金流、投资现金流和筹资现金流。</p>
<h1 id="银行相关的几个问题"><a href="#银行相关的几个问题" class="headerlink" title="银行相关的几个问题"></a>银行相关的几个问题</h1><ol>
<li>低利率。低利率市场的共同特点是经济体名义 GDP 增速较低，过去三十年由于中国的利率管制，贷款利率相对名义 GDP 增速严重偏低，存款利率更低，以保护银行的利差，所有储户都为国家的经济发展做了贡献。20-30 年后中国会进入低利率时代，股票市场会有一次持续时间很长的慢牛长牛过程。</li>
<li>不良率高导致破产。银行为应对不良资产，会提前提取风险减值准备金，目前我国对于减值准备的要求是拨贷比 2.5%，部分优秀的银行已经突破 4%。依靠历年计提的减值准备，不可能出现亏损。</li>
<li>低估值。巴塞尔协议大幅提高对银行资本金的要求，银行的发展受限。</li>
</ol>
<h1 id="招行的护城河"><a href="#招行的护城河" class="headerlink" title="招行的护城河"></a>招行的护城河</h1><ol>
<li>净息差高。招行在资产端配置了较多高收益零售贷款，如信用卡贷款和小微贷款，同时零售业务的活期存款比例高，存款成本较低。</li>
<li>风控能力出色。贷款不良率低，贷款迁徙率低，风险抵补能力强，拨贷比和资本充足率高。主要得益于比例较大的低风险、高收益零售贷款。</li>
<li>客户群优质。金葵花和私人银行客户占比少，但 AUM 很高，对公客户黏性不断增强。</li>
<li>前瞻的战略布局。推出一卡通、信用卡、私人银行。</li>
</ol>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 投资 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[《巴芒演义》读书笔记]]></title>
      <url>http://tommyjiang.github.io/2021/2021-04-21-warrent-buffett-charlie-munger/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
老唐的书
</div>

<a id="more"></a>
<h1 id="投资名人"><a href="#投资名人" class="headerlink" title="投资名人"></a>投资名人</h1><h2 id="利弗莫尔"><a href="#利弗莫尔" class="headerlink" title="利弗莫尔"></a>利弗莫尔</h2><p>股票大作手，1934 年最后一次破产，1940 年饮弹自杀。</p>
<h2 id="格雷厄姆"><a href="#格雷厄姆" class="headerlink" title="格雷厄姆"></a>格雷厄姆</h2><ul>
<li>烟蒂股投资，永远只买股价低于净有形资产三分之二的公司的股票。</li>
<li>市场先生寓言，利用市场先生的报价，但不要受他的影响</li>
</ul>
<h2 id="巴菲特"><a href="#巴菲特" class="headerlink" title="巴菲特"></a>巴菲特</h2><ul>
<li>以合理的价格买入好企业，比用低廉的价格买入普通企业好得多。</li>
<li>远离杠杆，不要做空。你只能小额下注，不能把全部身家都投进去。</li>
</ul>
<h2 id="沃尔特·施洛斯"><a href="#沃尔特·施洛斯" class="headerlink" title="沃尔特·施洛斯"></a>沃尔特·施洛斯</h2><ul>
<li>坚持烟蒂股投资，1955 - 2002 年，年化收益率 20.1%，扣费后年化收益率 15.3%。不会以两倍净资产的价格买入任何股票。</li>
<li>对自己性格优劣势的清醒认识，其实也是能力圈，自我认知、自我约束</li>
<li>1985 年抱怨巴菲特：沃伦整天巴拉巴拉，搞得谁都知道价值投资，现在寻找投资目标是越来越难了</li>
<li>股债比：愿意持有股票，年轻人应该多关注股票，债券是属于老年人的</li>
<li>上涨时分批卖出，坦然接受股价卖出后无情飙升的事实</li>
</ul>
<h2 id="爱德华·索普"><a href="#爱德华·索普" class="headerlink" title="爱德华·索普"></a>爱德华·索普</h2><ul>
<li>分散风险、量化风险、赔率有利时要敢于加大赌注(凯利公式)</li>
</ul>
<h2 id="迈克尔·米尔肯"><a href="#迈克尔·米尔肯" class="headerlink" title="迈克尔·米尔肯"></a>迈克尔·米尔肯</h2><p>垃圾债券之王，但收益率并没有高于其他产品</p>
<h2 id="查理·芒格"><a href="#查理·芒格" class="headerlink" title="查理·芒格"></a>查理·芒格</h2><ul>
<li>律师出身，擅长商业法，律师事务所拥有大量专业律师人才</li>
<li>有些行业天然就容易赚到钱</li>
</ul>
<h2 id="菲利普·费雪"><a href="#菲利普·费雪" class="headerlink" title="菲利普·费雪"></a>菲利普·费雪</h2><ul>
<li>成长股选择标准</li>
</ul>
<h1 id="巴菲特、芒格与可口可乐"><a href="#巴菲特、芒格与可口可乐" class="headerlink" title="巴菲特、芒格与可口可乐"></a>巴菲特、芒格与可口可乐</h1><ul>
<li>1985 年，可口可乐董事长和总裁投入几千万美元研制新可乐，遭到市场强烈反对，使巴菲特确认可口可乐公司的竞争力。</li>
<li>1999 年，巴菲特忘记自己之前说的相信道格的话，一起逼迫 52 岁的可口可乐 CEO 道格退休。</li>
<li>1996 年，芒格预计可口可乐每年 8% 的涨幅，但到 2019 年，年增长率仅 2.8%。说明即使对简单企业做出准确预测，依然相当困难。</li>
</ul>
]]></content>
      
        <categories>
            
            <category> 理财 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 价值投资 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[《巴菲特传》读书笔记]]></title>
      <url>http://tommyjiang.github.io/2021/2021-03-14-buffett/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
向价值投资最伟大的践行者学习。
</div>

<a id="more"></a>
<h1 id="巴菲特对格雷厄姆投资思想的发展"><a href="#巴菲特对格雷厄姆投资思想的发展" class="headerlink" title="巴菲特对格雷厄姆投资思想的发展"></a>巴菲特对格雷厄姆投资思想的发展</h1><p>格雷厄姆的投资思想，可以参考《聪明的投资者》一书。</p>
<ul>
<li>会考虑没有在资产负债表上体现的价值，例如品牌特许权，例如美国运通和迪士尼。</li>
<li>对于投资专家，应该考虑集中投资而非分散投资。</li>
</ul>
<h1 id="巴菲特的成功和失败经历"><a href="#巴菲特的成功和失败经历" class="headerlink" title="巴菲特的成功和失败经历"></a>巴菲特的成功和失败经历</h1><p>幼时的商业经历：</p>
<ul>
<li>摆摊卖口香糖、柠檬汁，统计自动售货机饮料瓶盖数</li>
<li>高尔夫球场当球童，捡打飞的高尔夫球让同伴卖，自己拿提成</li>
<li>送报员，自己设计送报路线，免费送女服务生报纸，获取搬家消息</li>
<li>理发店摆弹子球机和店铺分成，伪装成小伙计，上大学之前卖给一个退伍军人</li>
<li>拿出 1200 美元积蓄，买下内布拉斯加的 40 英亩农场</li>
</ul>
<h1 id="巴菲特的特点"><a href="#巴菲特的特点" class="headerlink" title="巴菲特的特点"></a>巴菲特的特点</h1><ul>
<li>对数字着迷。</li>
<li>对钱有浓厚兴趣，想尽办法赚钱，很清楚自己想要什么。总有一天我会变得很富有，成为报纸上的焦点人物。只是觉得赚钱的同时看着财富慢慢积累，是件很有意思的事情。不会，我要住在奥马哈。17 岁进入沃顿商学院，大部分时间泡在费城一家经纪公司办公室，跟踪各种股票行情，注意力几乎放在校外。提醒好友及时结清欠款</li>
<li>不断储备知识，用理性的方式把知识转化为创造财富的能力。</li>
<li>跟随大师学习。哥伦比亚商学院，跟随格雷厄姆。毕业后，不愿意为不认识的人工作。</li>
<li>做事时心无旁骛，思维缜密严谨。</li>
<li>理性，性格温和。</li>
</ul>
<h1 id="其他人的失败"><a href="#其他人的失败" class="headerlink" title="其他人的失败"></a>其他人的失败</h1><ul>
<li>巴菲特毕业时，格雷厄姆建议他找个安稳工作，推迟到第二次大萧条之后再进入股市</li>
<li>巴菲特毕业之后选择当经纪人，但他的利益与投资人利益并不一致。后来采用超额业绩提成的方法开办投资公司。</li>
<li>投机基金：我们不会爱上任何东西，每天早晨起来，每样东西都是要出售的，包括证券组合里的每一只股票，乃至我的西服和领带。</li>
</ul>
<h1 id="名句摘录"><a href="#名句摘录" class="headerlink" title="名句摘录"></a>名句摘录</h1><h2 id="投资和投机"><a href="#投资和投机" class="headerlink" title="投资和投机"></a>投资和投机</h2><ul>
<li>故意以高于内在价值的价格购买股票，同时期待能够很快以更高价值卖出的行为，这种行为应该被叫做投机。(Consciously paying more for a stock than its calculated value-in the hope that it can soon be sold for a still-higher price-should be labeled speculation.)</li>
</ul>
<h2 id="选股"><a href="#选股" class="headerlink" title="选股"></a>选股</h2><h2 id="耐心持股"><a href="#耐心持股" class="headerlink" title="耐心持股"></a>耐心持股</h2><ul>
<li>我不会只为一个诱人的价格，就把由我喜欢和敬佩的人经营的好公司卖掉。(I certainly have no desire to sell a good controlled business run by people I like and admire, merely to obtain a fancy price.)</li>
</ul>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><ul>
<li>行动，立即行动！无论你有什么梦想，千万不要等待。</li>
<li>股海沉浮中，投资者必须要有耐心和定力。</li>
<li>选一只股票靠的不是别人信口开河的评价，而是事实。</li>
<li>永远不要指望转让时能卖个好价钱，而是要让自己的买入价低得诱人。</li>
<li>一个好的经理人在一个糟糕的行业也等于是巧妇难为无米之炊。</li>
</ul>
]]></content>
      
        <categories>
            
            <category> 理财 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 价值投资 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ETF 汇总]]></title>
      <url>http://tommyjiang.github.io/2021/2021-02-15-etf/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
ETF 相关资料整理
</div>

<a id="more"></a>
<p>新手远离杠杆类 ETF。</p>
<h1 id="美股-ETF"><a href="#美股-ETF" class="headerlink" title="美股 ETF"></a>美股 ETF</h1><ul>
<li>标普 500 指数<ul>
<li>标普 500 ETF-SPDR(ARCA:SPY)，年管理费 0.09%。</li>
<li>标普 500 ETF-iShares(ARCA:IVV)，年管理费 0.04%。</li>
<li>标普 500 ETF-Vanguard(ARCA:VOO)，年管理费 0.05%。</li>
<li>标普 500 等权指数 ETF-Guggenheim(ARCA:RSP)。</li>
</ul>
</li>
<li>小盘指数<ul>
<li>罗素 2000 指数 ETF-iShares(ARCA:IWM)，追踪罗素 2000 指数。</li>
<li>标普小盘股 ETF-iShares(ARCA:IJR)，追踪标普 600 小盘股指数。</li>
<li>美国小盘股 ETF-Vanguard(ARCA:VB)，追踪 CRSP 美国小盘股指数。</li>
</ul>
</li>
<li>板块 ETF<ul>
<li>科技板块：纳指 100 ETF-Invesco(NASDAQ:QQQ)，追踪纳斯达克市值最大的 100 家公司纳斯达克 100 指数。</li>
<li>消费板块：日常消费品 ETF-SPDR(ARCA:XLP)和可选消费 ETF-SPDR(ARCA:XLY)。</li>
<li>生物板块：生物科技指数 ETF-iShares Nasdaq(NASDAQ:IBB)，追踪纳斯达克生物 100 指数。</li>
<li>军工板块：美国航天国防股指数 ETF-iShares Nasdaq(BATS:ITA)。</li>
<li>房地产板块：美国房地产 ETF-Vanguard(ARCA:VNQ)。</li>
</ul>
</li>
<li>国家/地区 ETF<ul>
<li>非美发达国家/地区：EAFE 指数 ETF-iShares(ARCA:EFA)。</li>
<li>新兴市场：新兴市场ETF-Vanguard(ARCA:VWO)。</li>
</ul>
</li>
<li>其他 ETF<ul>
<li>动量投资：MSCI 美国动量因素 ETF-iShare(BATS:MTUM)。</li>
</ul>
</li>
</ul>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 投资 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[《彼得·林奇的成功投资》读书笔记]]></title>
      <url>http://tommyjiang.github.io/2021/2021-02-08-one-up-on-wall-street/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
传奇基金经理彼得·林奇的投资心得。
</div>

<a id="more"></a>
<h1 id="投资心理"><a href="#投资心理" class="headerlink" title="投资心理"></a>投资心理</h1><ul>
<li>坚定信念：进入股市必须有坚定的信念，没有坚定信念的人会成为股市的牺牲品。坚持投资信念，最终决定投资者命运的，只有投资者自己。</li>
<li>合理预期：股票长期平均收益率 9%-10%，直接购买指数基金即可实现，不要抱有过高预期。</li>
<li>保持重仓：短期不用的钱始终留在股票市场中。</li>
<li>逢跌买入：选好股票，逢跌买入，而不是逢跌减仓。</li>
<li>中立客观：投资的窍门不是要学会相信自己内心的感觉，而是要约束自己不去理会内心的感觉。</li>
</ul>
<h1 id="投资组合"><a href="#投资组合" class="headerlink" title="投资组合"></a>投资组合</h1><ul>
<li>自己选股：业绩基准年化 10%，自己选股应取得 12%-15% 的收益率。</li>
<li>股票不是赌博：一股股票绝非一注彩票，它代表着对一家公司的部分所有权。</li>
<li>切换股票原则：不要将账面浮盈和浮亏作为切换股票的原则，应该根据公司基本面分析进行切换。</li>
</ul>
]]></content>
      
        <categories>
            
            <category> 读书 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 投资 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[《激荡十年·水大鱼大》读书笔记]]></title>
      <url>http://tommyjiang.github.io/2021/2021-01-05-ji-dang-shi-nian/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
完美错过了房地产和互联网发展最好的十年。
</div>

<a id="more"></a>
<h1 id="房地产"><a href="#房地产" class="headerlink" title="房地产"></a>房地产</h1><h2 id="2007"><a href="#2007" class="headerlink" title="2007"></a>2007</h2><p>房地产开发投资额 2.5 万亿元，增长 30%，深圳房价上涨 51%，北京上涨 45%，津、渝、沪上涨超 15%，下半年中央政府严厉调控，中心城市房产有价无市。</p>
<h2 id="2008"><a href="#2008" class="headerlink" title="2008"></a>2008</h2><ul>
<li>1 月，央视访谈<ul>
<li>万科王石：拐点论，不要抱幻想。</li>
<li>华远任志强：长远看，持续上涨是趋势，房价涨得还不够快。</li>
<li>SOHO 潘石屹：不表态。</li>
</ul>
</li>
<li>4 月，万科在杭州降价促销，引起已购房者愤怒。</li>
<li>9 月，与 2007 年 11 月相比，万科股价跌去 88%，保利地产跌去 75%，碧桂园跌去 87%，中海发展跌去 70%。</li>
<li>10 月，受经济危机影响，政府决定刺激房地产消费，财政部将首套房契税税率下调至 1%，暂免印花税、土地增值税，央行宣布首次置业和普通改善型置业利率下限为基准利率的 0.7 倍，最低首付款比例调整为 20%。</li>
</ul>
<h2 id="2009"><a href="#2009" class="headerlink" title="2009"></a>2009</h2><ul>
<li>一季度，全国 30 个重点城市中 24 个城市的住宅成交面积环比上升，10 个城市涨幅超过 50%。</li>
<li>北京连续刷新地王，土地出让金总金额 1.5 万亿元，杭州、上海、北京分列前三。</li>
<li>11 月，恒大地产上市申请获港交所批准。</li>
</ul>
<h2 id="2010"><a href="#2010" class="headerlink" title="2010"></a>2010</h2><ul>
<li>北京平均房价 22690 元/平方米，上海平均房价 23186 元/平方米，两年涨幅超过一倍。</li>
</ul>
<h2 id="2013"><a href="#2013" class="headerlink" title="2013"></a>2013</h2><ul>
<li>北京市发布限购令，宣布本市户籍成年单身人士限购一套住房，对已拥有一套及以上住房的，暂停向其出售住房。</li>
</ul>
<h2 id="2014"><a href="#2014" class="headerlink" title="2014"></a>2014</h2><ul>
<li>9 月 30 日，央行、银监会发布一则重大通知，提出对拥有1套住房并已结清相应购房贷款的家庭，可享受首套房贷款政策，有机会享受“首付三成、贷款利率七折”的优惠。同时，住建部、财政部又出台配套性新政，提高首套自住住房公积金贷款额度，并允许异地贷款、取消住房公积金个人住房贷款保险等收费项目。</li>
</ul>
<h2 id="2016"><a href="#2016" class="headerlink" title="2016"></a>2016</h2><ul>
<li>购房假离婚，北京市的离婚人数达到97626对，比2014年上涨73%，同时，复婚数比2014年上涨131%。</li>
</ul>
<h1 id="互联网"><a href="#互联网" class="headerlink" title="互联网"></a>互联网</h1><h2 id="2008-1"><a href="#2008-1" class="headerlink" title="2008"></a>2008</h2><ul>
<li>7 月，马云内部邮件提出准备过冬。阿里港股股价从最高点 40 港币跌至 10 港币，港媒调侃阿里巴巴“可怜巴巴”。<blockquote>
<p>经济将会出现较大的问题，未来几年，经济可能进入非常困难的时期。我的看法是，整个经济形势不容乐观，接下来的冬天会比大家想象的更长！更寒冷！更复杂！我们准备过冬吧。</p>
</blockquote>
</li>
</ul>
<h2 id="2009-1"><a href="#2009-1" class="headerlink" title="2009"></a>2009</h2><ul>
<li>中国网民 3.84 亿，超过美国和日本的总和。从新浪、搜狐、网易三巨头门户时代转向 BAT 时代。<ul>
<li>百度：谷歌在监管上面临挑战，2010 年 1 月退出中国市场。</li>
<li>腾讯：二季度，腾讯游戏收入超过盛大，成为游戏之王。</li>
<li>新浪：2009 年 7 月 7 日，王兴饭否网被关停。8 月 14 日，新浪微博内测，8 月 28 日正式公测。</li>
<li>阿里：2009 年 11 月 11 日，淘宝第一次光棍节大促销。</li>
</ul>
</li>
</ul>
<h2 id="2010-1"><a href="#2010-1" class="headerlink" title="2010"></a>2010</h2><ul>
<li>3 月 15 日，QQ 同时在线用户数达到 1 亿。</li>
<li>3 月，王兴建立美团网。</li>
<li>9 月底，3Q 大战。</li>
<li>10 月底，新浪微博注册人数突破 5000 万。</li>
<li>12 月 10 日，小米发布米聊。</li>
</ul>
<h2 id="2011"><a href="#2011" class="headerlink" title="2011"></a>2011</h2><ul>
<li>1 月 21 日，张小龙团队推出微信。</li>
<li>8 月，团购公司数达到 5000 多家，上演千团大战。</li>
<li>10 月，淘宝提高商家服务费，民间成立反淘宝联盟，商务部介入。</li>
<li>年底，微信用户突破 6000 万。</li>
</ul>
<h2 id="2012"><a href="#2012" class="headerlink" title="2012"></a>2012</h2><ul>
<li>3 月 29 日，微信用户突破 1 亿。</li>
<li>4 月 19 日，微信推出朋友圈功能。</li>
<li>8 月 23 日，微信公众号平台上线。</li>
<li>8 月，字节跳动推出今日头条。</li>
<li>9 月，程维推出滴滴。</li>
</ul>
<h2 id="2014-1"><a href="#2014-1" class="headerlink" title="2014"></a>2014</h2><ul>
<li>春节，微信推出红包功能。</li>
<li>5 月，京东上市。</li>
<li>9 月，阿里上市。</li>
<li>1-5 月，滴滴快的大战。</li>
</ul>
<h2 id="2015"><a href="#2015" class="headerlink" title="2015"></a>2015</h2><ul>
<li>2 月，滴滴快的合并。</li>
<li>4 月，58 同城和赶集网合并。</li>
<li>10 月，美团和大众点评合并，携程去哪儿合并。</li>
</ul>
]]></content>
      
        <categories>
            
            <category> 读书 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 经济 </tag>
            
            <tag> 互联网 </tag>
            
            <tag> 房地产 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[2021 全年计划]]></title>
      <url>http://tommyjiang.github.io/2021/2021-01-01-2021-plan/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
2021 全年计划
</div>

<a id="more"></a>
<h1 id="健康"><a href="#健康" class="headerlink" title="健康"></a>健康</h1><ul>
<li>6 月底减到 80 公斤，差 0.30 公斤达到目标。</li>
<li>7 月底减到 79 公斤，四杯茶颜 + 小龙虾加成，基本实现目标，继续努力。</li>
<li>8 月底减到 78 公斤</li>
<li>9 月底减到 77 公斤</li>
<li>10 月底减到 76 公斤</li>
<li>11 月底减到 75 公斤</li>
</ul>

<div id="self_weight" style="height:400px"></div>

<h1 id="打卡"><a href="#打卡" class="headerlink" title="打卡"></a>打卡</h1>
<div id="happy" style="height:500px"></div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.1.2/echarts.js"></script>
<script type="text/javascript">
    var self_weight = echarts.init(document.getElementById('self_weight'));
    <!-- 填空 体重 -->
    var data = [["2021-06-27", 80.4], ["2021-06-28", 80.7], ["2021-06-29", 80.75], ["2021-06-30", 80.30],
                ["2021-07-01", 80.3], ["2021-07-02", 79.95], ["2021-07-03", 79.95], ["2021-07-04", 80.00],
                ["2021-07-05", 80.3], ["2021-07-06", 80.30], ["2021-07-07", 79.75], ["2021-07-08", 79.95],
                ["2021-07-09", 79.95], ["2021-07-10", 79.95], ["2021-07-11", 79.95], ["2021-07-12", 80.65],
                ["2021-07-13", 80.5], ["2021-07-14", 80.1], ["2021-07-15", 80.0], ["2021-07-16", 79.55],
                ["2021-07-17", 79.75], ["2021-07-18", 80.05], ["2021-07-19", 80.25], ["2021-07-20", 79.95],
                ["2021-07-21", 79.55], ["2021-07-22", 79.15], ["2021-07-23", 79.25], ["2021-07-24", 79.30],
                ["2021-07-25", 79.05], ["2021-07-26", 78.85], ["2021-07-27", 78.40], ["2021-07-28", 78.50],
                ["2021-07-29", 78.35], ["2021-07-30", 78.30], ["2021-07-31", 78.70],
                ["2021-08-01", 79.00], ["2021-08-02", 79.35], ["2021-08-03", 79.30], ["2021-08-04", 79.35],
                ["2021-08-05", 78.90], ["2021-08-06", 78.70], ["2021-08-07", 78.60], ["2021-08-08", 79.90],
                ["2021-08-09", 79.60], ["2021-08-10", 79.50], ["2021-08-11", 79.00], ["2021-08-12", 79.00],
                ["2021-08-13", 79.30], ["2021-08-14", 79.50], ["2021-08-15", 79.30], ["2021-08-16", 79.50],
                ["2021-08-17", 79.30], ["2021-08-18", 79.00], ["2021-08-19", 79.00], ["2021-08-20", 78.60],
                ["2021-08-21", 78.25], ["2021-08-22", 78.50], ["2021-08-23", 78.50], ["2021-08-24", 78.70],
                ["2021-08-25", 78.15], ["2021-08-26", 78.65], ["2021-08-27", 78.65], ["2021-08-28", 78.70],
                ["2021-08-29", 79.00], ["2021-08-30", 80.00], ["2021-08-31", 80.60],
                ["2021-09-01", 80.00],
                ]
    var xgdata = [["2021-06-27", 85.0], ["2021-06-28", 85.0], ["2021-06-29", 85.0], ["2021-06-30", 85.0],
                  ["2021-07-01", 85.0], ["2021-07-02", 85.0], ["2021-07-03", 85.0], ["2021-07-04", 85.0],
                  ["2021-07-05", 85.0], ["2021-07-06", 85.0], ["2021-07-07", 85.0], ["2021-07-08", 85.0],
                  ["2021-07-09", 85.0], ["2021-07-10", 85.0], ["2021-07-11", 85.0], ["2021-07-12", 85.0],
                  ["2021-07-13", 85.0], ["2021-07-14", 85.0], ["2021-07-15", 85.0], ["2021-07-16", 85.0],
                  ["2021-07-17", 85.0], ["2021-07-18", 85.0], ["2021-07-19", 85.0], ["2021-07-20", 85.0],
                  ["2021-07-21", 85.0], ["2021-07-22", 85.0], ["2021-07-23", 85.0], ["2021-07-24", 85.0],
                  ["2021-07-25", 85.0], ["2021-07-26", 85.0], ["2021-07-27", 85.0], ["2021-07-28", 85.0],
                  ["2021-07-29", 85.0], ["2021-07-30", 85.0], ["2021-07-31", 85.0],
                  ["2021-08-01", 85.0], ["2021-08-02", 85.0], ["2021-08-03", 85.0], ["2021-08-04", 85.9],
                  ["2021-08-05", 85.9], ["2021-08-06", 85.9], ["2021-08-07", 85.9], ["2021-08-08", 85.9],
                  ["2021-08-09", 85.9], ["2021-08-10", 85.9], ["2021-08-11", 85.9], ["2021-08-12", 86.6],
                  ["2021-08-13", 86.20], ["2021-08-14", 86.20], ["2021-08-15", 86.20], ["2021-08-16", 85.90],
                  ["2021-08-17", 85.00], ["2021-08-18", 85.00], ["2021-08-19", 84.90], ["2021-08-20", 84.40],
                  ["2021-08-21", 84.10], ["2021-08-22", 84.10], ["2021-08-23", 84.10], ["2021-08-24", 84.20],
                  ["2021-08-25", 84.20], ["2021-08-26", 84.30], ["2021-08-27", 84.10], ["2021-08-28", 83.90],
                  ["2021-08-29", 83.40], ["2021-08-30", 83.60], ["2021-08-31", 83.60],
                  ["2021-09-01", 83.30],
                  ]

    var comments = {"2021-06-27": "海底捞火锅",
                   }
    var option = {
         title: {text: '2021 体重'},
         tooltip: {
             trigger: 'axis',
             /* formatter: function (params, ticket, callback) {
                           var res='时间：' + params[0].name + '<br>'
                           res += '体重：' + params[0].data + '<br>'
                           if(comments[params[0].name] != null){
                               res += '注释：' + comments[params[0].name]
                           }
                           return res
             } */
         },
         xAxis: {
             data: data.map(function (item) {
                 return item[0];
             })
         },
         yAxis: {
             min: 72,
             max: 87,
             splitLine: {
                 show: false
             }
         },
         toolbox: {
             left: 'center',
             feature: {
                 dataZoom: {
                     yAxisIndex: 'none'
                 },
                 restore: {},
                 saveAsImage: {}
             }
         },
         dataZoom: [{
             startValue: '2021-01-01'
         }, {
             type: 'inside'
         }],
         visualMap: {
             top: '30%',
             right: 0,
             pieces: [{
                 gt: 72,
                 lte: 74,
                 color: '#096'
             }, {
                 gt: 74,
                 lte: 76,
                 color: '#ffde33'
             }, {
                 gt: 76,
                 lte: 78,
                 color: '#ff9933'
             }, {
                 gt: 78,
                 lte: 80,
                 color: '#cc0033'
             }, {
                 gt: 80,
                 color: '#660099'
             }],
             outOfRange: {
                 color: '#999'
             }
        },
        series: [
                {
                  name: '自己体重',
                  type: 'line',
                  data: data.map(function (item) {
                      return item[1];
                  }),
                  markLine: {
                      symbolSize: 0,
                      label: {
                          show: false
                      },
                      data: [{
                          yAxis: 72
                      }, {
                          yAxis: 74
                      }, {
                          yAxis: 76
                      }, {
                          yAxis: 78
                      }, {
                          yAxis: 80
                      }, {
                          yAxis: 82
                      }, {
                          yAxis: 84
                      }, {
                          yAxis: 86
                      }, {
                          yAxis: 88
                      }, {
                          yAxis: 90
                      }]
                  },
                },

                {
                  name: '小哥体重',
                  type: 'line',
                  data: xgdata.map(function (item) {
                      return item[1];
                  }),
                },
                ]
};
    self_weight.setOption(option, true); //当setOption第二个参数为true时，会阻止数据合并

</script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.1.2/echarts.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.1.2/extension/bmap.js"></script>
<script src="http://api.map.baidu.com/api?v=2.0&ak=x2V7KanMxVA2GuK7oFHPOiGytFSXWoyN"></script>
<script type="text/javascript">
    var happy = echarts.init(document.getElementById('happy'));

    var data = [
        {name: '海底捞(国奥村店)', value: 3},
        {name: '胜博殿(西单店)', value: 2},
        {name: 'Bada KITCHEN(中关村店)', value: 1},
        {name: '四世同堂(魏公村店)', value: 1},
        {name: '泸州幺妹私房菜', value: 1},
        {name: '芙南人', value: 1},
        {name: '花盐街(丽泽店)', value: 1},
        {name: '金谷园饺子馆(北师大店)', value: 1},
        {name: '八九零邀', value: 1},
        {name: '湘彬萱', value: 2},
        {name: '徽镇小厨', value: 1},
        {name: '福苗小骆驼烧烤(中关村店)', value: 1},
        {name: '秀儿四九城', value: 1},
        {name: '下酒·烧烤小酒馆(五道口店)', value: 2},
        {name: '鑫方老鸭汤', value: 1},
        {name: '虾饺妹', value: 1},
        {name: '锦府盐帮(世纪金源店)', value: 1},
        {name: '很久以前(六道口店)', value: 1},
        {name: '板前十胜·和牛烧肉专门店(鼓楼店)', value: 1},
    ];

    var geoCoordMap = {
        '海底捞(国奥村店)': [116.387882,40.015684],
        '胜博殿(西单店)': [116.379939,39.915753],
        'Bada KITCHEN(中关村店)': [116.328309,39.979343],
        '四世同堂(魏公村店)': [116.33022,39.965244],
        '泸州幺妹私房菜': [116.477509,39.994897],
        '芙南人': [116.489263,39.995472],
        '花盐街(丽泽店)': [116.341344,39.872796],
        '金谷园饺子馆(北师大店)': [116.367707,39.972617],
        '八九零邀': [116.359496,39.94731],
        '湘彬萱': [116.374252,39.983998],
        '徽镇小厨': [116.340129,39.882601],
        '福苗小骆驼烧烤(中关村店)': [116.324975,39.978812],
        '秀儿四九城': [116.340121,39.999639],
        '下酒·烧烤小酒馆(五道口店)': [116.345154,39.999173],
        '鑫方老鸭汤': [116.358775,40.007012],
        '虾饺妹': [116.439866,39.928416],
        '锦府盐帮(世纪金源店)': [116.296352,39.964594],
        '很久以前(六道口店)': [116.361888,40.014052],
        '板前十胜·和牛烧肉专门店(鼓楼店)': [116.400204,39.949334],
    };

    var convertData = function (data) {
        var res = [];
        for (var i = 0; i < data.length; i++) {
            var geoCoord = geoCoordMap[data[i].name];
            if (geoCoord) {
                res.push({
                    name: data[i].name,
                    value: geoCoord.concat(data[i].value)
                });
            }
        }
        return res;
    };

    option = {
        tooltip : {
            trigger: 'item',
        },
        bmap: {
                center: [116.4, 39.63],
                zoom: 12,
                roam: true,
        },
        series : [
            {
                name: '美食',
                type: 'scatter',
                coordinateSystem: 'bmap',
                data: convertData(data),
                encode: {
                    value: 2
                },
                symbolSize: function (val) {
                    return val[2] * 5;
                },
                label: {
                    formatter: '{b}',
                    position: 'right'
                },
                itemStyle: {
                    color: '#9b59b6'
                },
                emphasis: {
                    label: {
                        show: false,
                    }
                }
            },
        ]
    };

    happy.setOption(option, true); //当setOption第二个参数为true时，会阻止数据合并
</script>

]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 计划 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[羊城潮汕避寒游]]></title>
      <url>http://tommyjiang.github.io/2020/2020-12-25-canton-trip/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
冬天到广东避寒。
</div>

<a id="more"></a>
<h1 id="北京"><a href="#北京" class="headerlink" title="北京"></a>北京</h1><p>凌晨 5 点半从家出发，到首都机场的时候天还黑着。早上首都机场早高峰，支付宝铂金以上会员可以领快速通道，安检不用排队。大兴机场投运后，东航和南航的航班基本都迁过去了，首都机场本来就是国航的大本营，坐摆渡车到远机位的时候看到了好几架国航的 747-8。</p>
<h1 id="广州"><a href="#广州" class="headerlink" title="广州"></a>广州</h1><p>虽然 2013 年 12 月就来过白云机场，但这次还是第一次坐航班白云机场。白云机场的地址是白云区花东镇机场大道东 888 号，老广见面喜欢说恭喜发财，八就是发，讨个好彩头。</p>
<h2 id="第一天"><a href="#第一天" class="headerlink" title="第一天"></a>第一天</h2><p>炳胜——沙面——北京路煲仔饭——茶理宜世——天字码头珠江夜游</p>
<h2 id="第二天"><a href="#第二天" class="headerlink" title="第二天"></a>第二天</h2><p>人民公园——中山纪念堂——越秀公园——西华路——珠江新城——花城广场——烧鹅——姜撞奶</p>
<h1 id="汕头"><a href="#汕头" class="headerlink" title="汕头"></a>汕头</h1><p>汕头给我最深的印象就是路上摩托车多，骑得猛，明年要举办亚青会，到处都在修路和修楼。</p>
<h2 id="第一天-1"><a href="#第一天-1" class="headerlink" title="第一天"></a>第一天</h2><p>点都德早茶——广州东动车——汕头站——杏花吴记牛肉火锅——豆花——一杯潮茶——杏园白粥</p>
<h2 id="第二天-1"><a href="#第二天-1" class="headerlink" title="第二天"></a>第二天</h2><p>老胡牛肉粿——成川治茶——猪肚鸡——亚强果汁冰——炸鸡翅——十二中鸡柳——虾生鱼生</p>
<h2 id="第三天"><a href="#第三天" class="headerlink" title="第三天"></a>第三天</h2><p>干粿——梅州腌面——汕头站——潮州站</p>
<h1 id="潮州"><a href="#潮州" class="headerlink" title="潮州"></a>潮州</h1><p>牌坊街——杏仁奶——砂锅粥/腌蟹——广济桥灯光秀——果汁冰</p>
<p>韩文公祠——牛肉火锅——金信酒店机场大巴——揭阳潮汕机场 SWA swatow——大兴机场——草桥</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 广州 </tag>
            
            <tag> 潮汕 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[《价值投资者的教育》读书笔记]]></title>
      <url>http://tommyjiang.github.io/2020/2020-12-10-the-education-of-a-value-investor/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
2020 年度最佳图书。
</div>

<a id="more"></a>
<p>先上<a href="https://book.douban.com/subject/26427201/">豆瓣链接</a>。</p>
<p>一本差点被书名毁了的好书，在流量为王的时代，干点啥都想着博眼球，还是中国青年出版社出的，中国青年要都这样可完了。</p>
<h1 id="感想"><a href="#感想" class="headerlink" title="感想"></a>感想</h1><h2 id="第-1-章"><a href="#第-1-章" class="headerlink" title="第 1 章"></a>第 1 章</h2><p>作者在这一章讲了他毕业后的第一份工作——加入了一家华尔街的投行，这家投行就在 J. P. 摩根的隔壁。从世俗的视角来看他或许很成功，但作者自己却认为这是一个非常失败的工作经历。原因是这家投行是一家“声名狼藉”的证券公司。金融公司听起来高大上，很多干的其实就是割韭菜的活儿，比如把一个烂公司包装上市让韭菜接盘。这是一个典型的博傻游戏，比的是谁跑得快，只要不做最后一个接盘的傻子，大家都有钱赚。在这种公司工作，你的任务就是去寻找更多接盘的韭菜，把烂公司包装成好公司卖给他们，从中赚取服务费和交易佣金。这个行业的从业者都有着光鲜亮丽的学历背景，但每个人都默认这样一个潜规则，但作者觉得这样违背了自己的道德，最终在 18 个月后，作者离开了这个投行。</p>
<ul>
<li>不要因为一个人的 title 而轻易相信他的话，他的利益可能和你的并不一致，他也可能没有道德底线。</li>
<li>谨慎选择正确的环境，与正确的人共事和交往，严格来说，应该选择比自己更优秀的人交往。</li>
<li>不要试图改变环境，要及时止损。</li>
</ul>
<h2 id="第-2-章"><a href="#第-2-章" class="headerlink" title="第 2 章"></a>第 2 章</h2><p>这一章作者主要反思了他接受的教育。他高中就读于英国福瑞曼中学，接受的是典型的应试教育，这帮助他进入了牛津布雷奇诺斯学院学习法律。但作者对法律并不感兴趣，甚至做梦烧掉全世界的普通法卷宗。幸运的是，他大三转到了 PPE(政治、哲学和经济) 专业，这样后来他才有机会成为一个投资者。转系之后，他仍然被巴菲特所说的“外部记分卡”驱动，希望得到公众的赞同和认可，最终他也成功了，以全班第一的优异成绩毕业，但他一直被外部所裹挟，内心从来没有接受过自己的选择。</p>
<ul>
<li>高学历的人依然会做蠢事，依然会做出不道德的选择。每个人的道德标准不同，你眼中不道德的事儿，别人可能觉得很正常。</li>
<li>不要活在外人的认可中，要努力让自己接受自己，把衡量自己的方式从“外部记分卡”转变为“内部记分卡”。</li>
</ul>
<h2 id="第-3-章"><a href="#第-3-章" class="headerlink" title="第 3 章"></a>第 3 章</h2><p>由于第一份工作的污点，作者在接下来找工作的时候四处碰壁。一个偶然的机会，作者参加了旧金山的一个教人释放内心积极力量的研讨班，从此他开始更多地做不确定但有可能成功的事。他开始尝试镜像模仿巴菲特，想象巴菲特面临相同情况时会怎么做。后来他没有再找新的工作，而是从父亲手中接过一笔钱，建立了自己的基金公司。</p>
<ul>
<li>要找到好的导师，然后有意识地模仿，想象他在面对你现在的情况时会怎么做。</li>
</ul>
<h2 id="第-4-章"><a href="#第-4-章" class="headerlink" title="第 4 章"></a>第 4 章</h2><p>作者成立的基金选择了标准的对冲基金费率结构，收取 1% 的管理费加上 20% 收益的激励费，而不是像伯克希尔公司那样，没有年度管理费，但收益超过 6% 时收取净收益的 25%。赎回方式上，也没有采取每年只能赎回一次的方案，选择了提前 30 天预约赎回。他管理的基金增长到 5000 万美元，开始受到华尔街的关注。他被周围的阿谀奉承冲昏了头脑，开始推销自己，还好他参加了价值投资俱乐部，回到了正确的道路。作者还做空了一只股票，虽然获得了不错的收益，但他认识到这不是他想要做的事。</p>
<ul>
<li>盲从大众永远比标新立异容易。</li>
<li>赚钱是最重要的，做好自己的事，不要发起不必要的斗争，也不必让自己站在道德制高点充当复仇十字军战士。</li>
</ul>
<h2 id="第-5-章"><a href="#第-5-章" class="headerlink" title="第 5 章"></a>第 5 章</h2><p>作者受到西奥迪尼和里根写的书的启发，开始给别人写信表达感激之情。在参加莫尼什公司年会之后，他给莫尼什写了一封信表达感激，莫尼什之后邀请他一起共进晚餐，后来在一次早餐上提出一起和巴菲特共进午餐的想法，这使作者有机会近距离和巴菲特接触。</p>
<ul>
<li>我们复制最好的思想，并把它们变成我们自己的思想。</li>
<li>有些人之所以成功，是因为他们做对了一件大事，但大部分成功是因为他们做对了很多小事。</li>
</ul>
<h2 id="第-6-章"><a href="#第-6-章" class="headerlink" title="第 6 章"></a>第 6 章</h2><p>这一章终于轮到标题党提到的午餐了，主要是一些闲聊的细节，比较轻松的一章。</p>
<ul>
<li>如果你想要做某件事，最好全身心投入其中。</li>
<li>小动作积累起来，也能造成很大的差异。</li>
<li>哪怕你只是个稍微超过一般水平的投资者，只要花的比赚的少，一生时间也足够你非常富有了——只要你有耐心。</li>
</ul>
<h2 id="第-7-章-真理-1-坚持自己的原则"><a href="#第-7-章-真理-1-坚持自己的原则" class="headerlink" title="第 7 章 真理 1 坚持自己的原则"></a>第 7 章 真理 1 坚持自己的原则</h2><ul>
<li>不要选择对冲，例如做空指数或者买入看跌期权，减小波动的同时会降低长期收益率。</li>
<li>对社会来说，债务是至关重要的经济润滑剂，但对个人投资者来说，债务是灾难性的。</li>
<li>投资时，性格比智商更重要。</li>
<li>我们应该怀着感恩的心欢迎逆境，把它当作证明我们勇气、坚毅和韧性的机会。</li>
</ul>
<h2 id="第-8-章-真理-2-远离疯狂人群与噪音"><a href="#第-8-章-真理-2-远离疯狂人群与噪音" class="headerlink" title="第 8 章 真理 2 远离疯狂人群与噪音"></a>第 8 章 真理 2 远离疯狂人群与噪音</h2><ul>
<li>控制大脑中非理性的因素，必须成为投资中必不可少的一部分。</li>
<li>理想的通勤时间在十到二十分钟之间。</li>
<li>意志力是有限的，要用在最需要的地方。</li>
</ul>
<h2 id="第-9-章-真理-3-永葆童真与好奇心"><a href="#第-9-章-真理-3-永葆童真与好奇心" class="headerlink" title="第 9 章 真理 3 永葆童真与好奇心"></a>第 9 章 真理 3 永葆童真与好奇心</h2><ul>
<li>如果你的生活出问题了，那你很难良好的工作。</li>
<li>我们对任何事物都不可能有完全充分的了解，必须进行概率推测。</li>
<li>保持自己的原则，以审慎的策略追求更好的长期机会，最终结果会更好。</li>
<li>当你看到一步好棋的时候，想想有没有更好的走法。</li>
<li>人类的所有问题，都源于人们不能安静地坐在一个房间里。</li>
</ul>
<h2 id="第-10-章-真理-4-培养并维系有价值的人际关系"><a href="#第-10-章-真理-4-培养并维系有价值的人际关系" class="headerlink" title="第 10 章 真理 4 培养并维系有价值的人际关系"></a>第 10 章 真理 4 培养并维系有价值的人际关系</h2><ul>
<li>把正确的人带入你的生活，没有什么比这更重要。</li>
<li>通过观察比我们更好的人怎么做，模仿他们的行为，然后亲身实践为什么他们的做法明智有效。</li>
<li>把时间和精力集中到少数拿得准的人身上，把其他人放一边。</li>
<li>和更优秀的人在一起，你就会不知不觉地进步。</li>
</ul>
<h2 id="第-12-章-投资的-8-条规则"><a href="#第-12-章-投资的-8-条规则" class="headerlink" title="第 12 章 投资的 8 条规则"></a>第 12 章 投资的 8 条规则</h2><ul>
<li>不要总是查看股价。短期下跌会引发消极情绪，影响大脑。</li>
<li>如果有人给你推销什么东西，不要买它。</li>
<li>按照正确顺序研究投资信息。先看最客观的信息，包括年报、季报、股东委托书。</li>
<li>不要在开市期间买卖股票。</li>
<li>如果你买的股票下跌了，两年之内不要卖。</li>
</ul>
<h2 id="第-13-章-一位投资者的检查清单"><a href="#第-13-章-一位投资者的检查清单" class="headerlink" title="第 13 章 一位投资者的检查清单"></a>第 13 章 一位投资者的检查清单</h2><ul>
<li>管理团队关键人物是否正在经历个人困难，之前有没有愚蠢自私的行为。</li>
<li>这家公司能否为社会创造价值。</li>
<li>公司的收益是否严重依赖信贷市场或某种商品的价格。</li>
<li>这家公司的股票够便宜吗。</li>
</ul>
<h1 id="推荐书单"><a href="#推荐书单" class="headerlink" title="推荐书单"></a>推荐书单</h1><p>这本书的一大特点是行文中推荐了很多书，就像读学术 paper 一样，好 paper 的 reference 也值得好好读一读，所以把每章推荐书目和豆瓣链接整理到下面。</p>
<h2 id="序言"><a href="#序言" class="headerlink" title="序言"></a>序言</h2><ul>
<li><a href="https://book.douban.com/subject/5243775/">聪明的投资者 本杰明·格雷厄姆</a></li>
<li><a href="https://book.douban.com/subject/26831789/">穷查理宝典 彼得·考夫曼</a></li>
</ul>
<h2 id="第-1-章-1"><a href="#第-1-章-1" class="headerlink" title="第 1 章"></a>第 1 章</h2><ul>
<li><a href="https://book.douban.com/subject/5291820/">我是这样从销售失败走向销售成功的 弗兰克·贝特格</a></li>
<li><a href="https://movie.douban.com/subject/2997076/">华尔街之狼 马丁·斯科塞斯</a></li>
<li><a href="https://book.douban.com/subject/6014021/">债券市场：分析与策略 弗兰克·法博齐</a></li>
<li><a href="https://book.douban.com/subject/3164123/">巴菲特传：一个美国资本家的成长</a></li>
</ul>
<h2 id="第-3-章-1"><a href="#第-3-章-1" class="headerlink" title="第 3 章"></a>第 3 章</h2><ul>
<li><a href="https://book.douban.com/subject/3129355/">憨夺型投资者 : 低风险高收益的投资模式 莫尼什·帕伯莱</a></li>
<li><a href="https://book.douban.com/subject/1056295/">人性的弱点 戴尔·卡耐基</a></li>
<li><a href="https://book.douban.com/subject/2368126/">思考致富 拿破仑·希尔</a></li>
</ul>
<h2 id="第-5-章-1"><a href="#第-5-章-1" class="headerlink" title="第 5 章"></a>第 5 章</h2><ul>
<li><a href="https://book.douban.com/subject/1786387/">影响力 罗伯特·西奥迪尼</a></li>
<li><a href="https://book.douban.com/subject/10799082/">投资最重要的事 霍华德·马克斯</a></li>
</ul>
<h2 id="第-7-章"><a href="#第-7-章" class="headerlink" title="第 7 章"></a>第 7 章</h2><ul>
<li><a href="https://book.douban.com/subject/2359003/">沉思录 马可·奥勒留</a></li>
</ul>
<h2 id="第-8-章"><a href="#第-8-章" class="headerlink" title="第 8 章"></a>第 8 章</h2><ul>
<li><a href="https://book.douban.com/subject/10785583/">思考，快与慢 丹尼尔·卡尼曼</a></li>
<li><a href="https://book.douban.com/subject/34459315/">蚂蚁的故事 博尔特·霍尔多布勒/爱德华·威尔逊</a></li>
<li><a href="https://book.douban.com/subject/6854525/">黑天鹅：如何应对不可预知的未来 纳西姆•尼古拉斯•塔勒布</a></li>
<li><a href="https://book.douban.com/subject/10773358/">意志力 罗伊·鲍迈斯特</a></li>
</ul>
<h2 id="第-10-章"><a href="#第-10-章" class="headerlink" title="第 10 章"></a>第 10 章</h2><ul>
<li><a href="https://book.douban.com/subject/2158889/">权力的48条法则 罗伯特·格林</a></li>
</ul>
<h2 id="第-11-章"><a href="#第-11-章" class="headerlink" title="第 11 章"></a>第 11 章</h2><ul>
<li><a href="https://book.douban.com/subject/1539067/">柏拉图灵丹 娄·马里诺夫</a></li>
</ul>
<h2 id="第-12-章"><a href="#第-12-章" class="headerlink" title="第 12 章"></a>第 12 章</h2><ul>
<li><a href="https://book.douban.com/subject/26411602/">富甲美国 山姆·沃尔顿</a></li>
</ul>
<h2 id="第-13-章"><a href="#第-13-章" class="headerlink" title="第 13 章"></a>第 13 章</h2><ul>
<li><a href="https://book.douban.com/subject/27168564/">清单革命 阿图·葛文德</a></li>
</ul>
]]></content>
      
        <categories>
            
            <category> 读书 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 投资 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Homebrew 降级]]></title>
      <url>http://tommyjiang.github.io/2020/2020-09-28-homebrew-downgrade/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
Homebrew 降级。
</div>

<a id="more"></a>
<p>Homebrew 最新的 Vim 升级到了 8.2.1750，和 <code>vim-leader-guide</code> 冲突，只能先保持原来的 8.2.1700 版本。</p>
<ol>
<li>Homebrew 回退：<code>cd /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core</code>，将 <code>Formula/vim.rb</code> 回退到之前的版本 <code>git checkout &#123;commit id&#125; Formula/vim.rb</code>。</li>
<li>取消之前版本链接：<code>brew unlink vim</code></li>
<li>安装旧版：<code>brew install vim</code>，注意 <code>Ctrl + C</code> 跳过 Updating Homebrew 的阶段。</li>
<li>固定 Vim 版本：<code>brew pin vim</code></li>
<li>Homebrew 更新到 master：<code>cd /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core</code>，然后 <code>git reset --hard master</code>。</li>
</ol>
<p>2020.11.28 更新：目前用 <a href="https://github.com/liuchengxu/vim-which-key">vim-which-key</a> 代替了 <code>vim-leader-guide</code>，可以更新 Homebrew 的 Vim 最新版了。</p>
<p>2020.12.31 更新：<a href="https://github.com/vim-airline/vim-airline/issues/2312">vim-airline</a> 未兼容 Vim 8.2.2250 版本，先回退到 8.2.2200 版本。</p>
]]></content>
      
        <categories>
            
            <category> Geek </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Homebrew </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[A Tour of C++ 笔记]]></title>
      <url>http://tommyjiang.github.io/2020/2020-08-10-a-tour-of-c++/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
祖师爷写的入门书。
</div>

<a id="more"></a>
<h1 id="The-Basics"><a href="#The-Basics" class="headerlink" title="The Basics"></a>The Basics</h1><ul>
<li>C++ 是编译语言，源代码需要经过编译、链接才能生成可执行程序。</li>
<li>ISO C++ 包括两部分：<ul>
<li>核心特性，例如内置类型、循环等。</li>
<li>标准库，例如容器、I/O 操作等。</li>
</ul>
</li>
<li>C++ 是静态类型语言，编译器必须了解所有变量的类型。</li>
<li>函数重载：函数同名但参数类型不同</li>
<li>C++ 逻辑运算符<ul>
<li>按位运算：&amp; 和 |</li>
<li>逻辑运算：&amp;&amp; 和 ||</li>
</ul>
</li>
<li>窄化转换：丢失精度的转换，例如将 double 转为 int，将 int 转为 char。初始化时使用大括号({})可避免窄化转换。</li>
<li>变量作用域<ul>
<li>局部作用域：适用于函数和 lambda 内声明的变量。作用范围为声明到 block 结束。</li>
<li>类作用域：类内和 enum class 内定义的变量。作用范围为整个 block。</li>
<li>命名空间作用域：命名空间内定义的变量。作用范围为声明到 namespace 结束。</li>
<li>全局作用域：不在任何 block 内定义的变量。</li>
</ul>
</li>
<li>nullptr 是空指针常量。</li>
</ul>
]]></content>
      
        <categories>
            
            <category> Geek </category>
            
        </categories>
        
        
        <tags>
            
            <tag> C++ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[YCM 不再支持 Python 3.5]]></title>
      <url>http://tommyjiang.github.io/2020/2020-07-29-YCM-drop-py35/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
YCM 不再支持 Python 3.5 及以下版本，折腾重新编译 Vim 和 YCM。
</div>

<a id="more"></a>
<p>YCM 最近的一次 <a href="https://github.com/ycm-core/YouCompleteMe/commit/d3db1cb3a9b83cd8e7370a2af36c82f28f2c0ddf">commit</a> 不再支持 Python 3.5 以下版本，之前自己用 Python 3.5 编译的 Vim 也要跟着升级了。</p>
<ol>
<li>升级 Python：老系统没法直接升级 Python，需要自己源码安装。下载 Python 3.8 源码，编译时需要加上 <code>--enable-shared</code> 参数，否则 YCM 没法找到 .so 的动态库。</li>
<li>重新编译 Vim：编译命令前需要加上 <code>LDFLAGS=-rdynamic</code>，否则动态库无法被其他插件找到。</li>
<li>重新编译 YCM：现在 YCM 主流的补全用的是 clangd，写 C 系列语言需要编译，<code>python3 install.py --clangd-completer</code>。</li>
</ol>
]]></content>
      
        <categories>
            
            <category> Geek </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Vim </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[三十而已影评]]></title>
      <url>http://tommyjiang.github.io/2020/2020-07-25-nothing-but-thirty/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
好久没刷一部像样的国产情感剧了。
</div>

<a id="more"></a>
<!-- markdown-toc start - Don't edit this section. Run M-x markdown-toc-refresh-toc -->
<p><strong>目录</strong></p>
<ul>
<li><a href="#分集影评">分集影评</a><ul>
<li><a href="#16-集">16 集</a></li>
<li><a href="#17-集">17 集</a></li>
<li><a href="#18-集">18 集</a></li>
<li><a href="#19-集">19 集</a></li>
<li><a href="#20-集">20 集</a></li>
</ul>
</li>
</ul>
<!-- markdown-toc end -->
<h1 id="分集影评"><a href="#分集影评" class="headerlink" title="分集影评"></a>分集影评</h1><h2 id="16-集"><a href="#16-集" class="headerlink" title="16 集"></a>16 集</h2><ul>
<li>芹阳组合感情升温中，骑摩托车抓上了，开心，干掉前夫哥。</li>
<li>漫妮升副店失败，惨遭空降，Daisy 一看就是总部有人，毕业直接进总部锻炼，现在到基层挂个职，回去马上提拔，这种人千万别惹。</li>
<li>Daisy 有一手，打一棒子给一甜枣，漫妮也是逢场作戏。</li>
<li>江疏影长得和江珊有点像。</li>
<li>Daisy 秀英文那段，除了王太太听不懂，其他人都能听懂。</li>
<li>Daisy 还是会抓富人心理，不选好看的，只选独一无二的。</li>
<li>顾佳这名字起得不错，暗示要顾家，一直处在事业和家庭的矛盾中。</li>
<li>芹洋组合喝多了以后，又送晓芹回前夫家了，编的不好。</li>
</ul>
<h2 id="17-集"><a href="#17-集" class="headerlink" title="17 集"></a>17 集</h2><ul>
<li>梁总当众确立关系，和他的人设不太相符，而且在确定关系后才说自己是不婚主义者，完蛋玩意儿。</li>
<li>末位淘汰是违反劳动法的，虽然国内大厂也是末位淘汰。雪崩之下没有一片雪花是无辜的。</li>
<li>梁总深刻了，灵魂拷问，结婚就能保证永远相爱吗。</li>
<li>顾佳和我们用的同款指甲刀，有点卡萨帝的感觉了啊。</li>
<li>顾佳对漫妮发动了暴击伤害，毫不留情面。</li>
</ul>
<h2 id="18-集"><a href="#18-集" class="headerlink" title="18 集"></a>18 集</h2><ul>
<li>场景切换时顾佳生日四个字显得很傻。</li>
<li>佳爸说评上先进了，年底发了奖金就换车，体制内一般先进也发不了多少钱。</li>
</ul>
<h2 id="19-集"><a href="#19-集" class="headerlink" title="19 集"></a>19 集</h2><ul>
<li>店长心态不行，还害怕受伤顾客讹她们，这是有钱人干的事儿么。</li>
<li>什么都能忍，忍到最后忍无可忍。</li>
<li>人没得选，事儿就简单了。选择多，诱惑就多，人就想不明白了。</li>
<li>自己 SB，别赖别人。</li>
</ul>
<h2 id="20-集"><a href="#20-集" class="headerlink" title="20 集"></a>20 集</h2><ul>
<li>总部空降的 Daisy 说她都是靠自己本事，不是靠关系。</li>
<li>晋升就是公司用来洗脑的。</li>
<li>人走的每一步都得付出代价。</li>
</ul>
<h2 id="22-集"><a href="#22-集" class="headerlink" title="22 集"></a>22 集</h2><ul>
<li>资本都爱听故事，讲故事真是核心竞争能力，包装也很重要。</li>
</ul>
<h2 id="23-24-集"><a href="#23-24-集" class="headerlink" title="23-24 集"></a>23-24 集</h2><ul>
<li>有些事儿急不得。</li>
<li>不像我，只能喝最苦的咖啡。</li>
<li>这么拼是为了什么。</li>
<li>该受的他们也得受。</li>
<li>你这话是说给我听呢，还是说给自己听呢。</li>
<li>八年了，我从未想过离开。</li>
</ul>
<h2 id="25-26-集"><a href="#25-26-集" class="headerlink" title="25-26 集"></a>25-26 集</h2><ul>
<li>不过你那么拼也没啥用。</li>
<li>还有谁的人生比我更惨呢？</li>
</ul>
<h2 id="29-30-集"><a href="#29-30-集" class="headerlink" title="29-30 集"></a>29-30 集</h2><ul>
<li>人越努力就越不满足，越不满足就越不幸福</li>
</ul>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 国产剧 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[海滨消夏]]></title>
      <url>http://tommyjiang.github.io/2020/2020-07-25-seaside-trip/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
夏天到秦皇岛来避暑。
</div>

<a id="more"></a>
<p>又是一年盛夏，时隔两年再次来海边度假。</p>
<p>周五晚从北京出发，东五环有点堵，改道机场高速+京秦高速+塘承高速转到 G1 上，路过唐山的时候还下了不小的雨，九点多才到家。</p>
<p>第二天早上一大早被外面的知了吵醒，这两天正好赶上河北省中考。在之前住的小区转了转，喝了拆骨汤，现在分量也不如原来了。回来稍作休整到体育基地海边，下了一小会儿雨，拍到了积雨云掠过的海景。</p>
<p>中午到秦皇国际吃自助，和奶奶家的亲戚会合，老正一听来海边高兴了。前几天北京疫情严重的时候，酒店的自助还有大龙虾，最近人多了只剩麻小了。吃完中午饭到北戴河海滨的宾馆休息，下午本想在旁边的海边玩，疫情原因全部收口只能在一个地方进到浴场，还好北京的大部队没有完全开过来。晚上在同德海鲜·烤鸭店吃的晚饭，海鲜不错，尤其喜欢蒜蓉粉丝蒸虾，海边的还是新鲜。</p>
<p>第二天早上没有继续在北戴河海边了，还是回秦皇岛体育基地，天气还是多云，不算太晒，但我们也把帐篷都搭起来了。老正一蹦一蹦地跟着后边跑。中午还是赵家馆饺子，饺子放油多还是香，榴莲馅的也挺有特色。中午休息会返京，双井附近的潮汕牛肉火锅解决晚饭。就是稍微有点远，不然可以多来几次玩玩。</p>

<img src="/images/2020/北戴河.jpg" width="500px"/>


<img src="/images/2020/秦皇岛.jpg" width="500px"/>

]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 秦皇岛 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[LeetCode Weekly Contest 165]]></title>
      <url>http://tommyjiang.github.io/2019/2019-12-01-LC-weekly-contest-165/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
LeetCode Weekly Contest 165.
</div>

<a id="more"></a>
<h1 id="问题-1"><a href="#问题-1" class="headerlink" title="问题 1"></a>问题 1</h1><p><a href="https://leetcode.com/problems/find-winner-on-a-tic-tac-toe-game/">题目链接</a></p>
<p>判断每行、每列、两条对角线的字符是否相同，棋盘状态始终有效，不需要考虑 corner case。</p>
<h1 id="问题-2"><a href="#问题-2" class="headerlink" title="问题 2"></a>问题 2</h1><p><a href="https://leetcode.com/problems/number-of-burgers-with-no-waste-of-ingredients/">题目链接</a></p>
<p>鸡兔同笼问题，数学题。</p>
<h1 id="问题-3"><a href="#问题-3" class="headerlink" title="问题 3"></a>问题 3</h1><p><a href="https://leetcode.com/problems/count-square-submatrices-with-all-ones/">题目链接</a></p>
<p>这道题比赛的时候没做出来，结束后发现想复杂了，进阶题是求所有元素是 1 的子矩阵(不要求方阵)。</p>
<p>解法：DP，根据左、上、左上三者最小值更新当前值，参考 <a href="https://leetcode.com/problems/maximal-square/">LC 221</a>。</p>
<p>复杂度：时间复杂度 O(n^2)，空间复杂度 O(n^2)，可优化为 O(n)。</p>
<p>Python<br><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">countSquares</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> A<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        m<span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>A<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

        dp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>m<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

        res <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> m<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> A<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                   dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> A<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
                   res <span class="token operator">+=</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span>

        <span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>
<p>C++<br><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> <span class="token function">countSquares</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&amp;</span> matrix<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">int</span> m <span class="token operator">=</span> matrix<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> n <span class="token operator">=</span> matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        vector<span class="token operator">&lt;</span>vector <span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token function">dp</span><span class="token punctuation">(</span>m<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    dp<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function">min</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
                    res <span class="token operator">+=</span> dp<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>

        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>
<h1 id="问题-4"><a href="#问题-4" class="headerlink" title="问题 4"></a>问题 4</h1><p><a href="https://leetcode.com/problems/palindrome-partitioning-iii/">题目链接</a><br>解法：DP。<br>复杂度：时间复杂度 O(kn^2)，空间复杂度 O(kn)。</p>
<p>Python<br><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">palindromePartition</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
        memo <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

        <span class="token keyword">def</span> <span class="token function">cost</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">:</span>
            r <span class="token operator">=</span> <span class="token number">0</span>
            <span class="token keyword">while</span> i <span class="token operator">&lt;</span> j<span class="token punctuation">:</span>
                <span class="token keyword">if</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    r <span class="token operator">+=</span> <span class="token number">1</span>
                i <span class="token operator">+=</span> <span class="token number">1</span>
                j <span class="token operator">-=</span> <span class="token number">1</span>
            <span class="token keyword">return</span> r

        <span class="token keyword">def</span> <span class="token function">dfs</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token punctuation">,</span> k<span class="token punctuation">)</span> <span class="token keyword">in</span> memo<span class="token punctuation">:</span> 
                <span class="token keyword">return</span> memo<span class="token punctuation">[</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">]</span>
            <span class="token keyword">if</span> n <span class="token operator">-</span> i <span class="token operator">==</span> k<span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token number">0</span>
            <span class="token keyword">if</span> k <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> cost<span class="token punctuation">(</span>s<span class="token punctuation">,</span> i<span class="token punctuation">,</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
            res <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> n <span class="token operator">-</span> k <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                res <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> cost<span class="token punctuation">(</span>s<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> dfs<span class="token punctuation">(</span>j<span class="token punctuation">,</span> k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            memo<span class="token punctuation">[</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> res
            <span class="token keyword">return</span> res

        <span class="token keyword">return</span> dfs<span class="token punctuation">(</span><span class="token number">0</span> <span class="token punctuation">,</span> k<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>
<p>C++<br><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> <span class="token function">palindromePartition</span><span class="token punctuation">(</span>string s<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vector<span class="token operator">&lt;</span>vector <span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token function">memo</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token punctuation">(</span>k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token function">dfs</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> memo<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">int</span> <span class="token function">cost</span><span class="token punctuation">(</span>string<span class="token operator">&amp;</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> j<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> j<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                res<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
            i<span class="token operator">++</span><span class="token punctuation">;</span>
            j<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>


    <span class="token keyword">int</span> <span class="token function">dfs</span><span class="token punctuation">(</span>string<span class="token operator">&amp;</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>vector <span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&amp;</span> dp<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> i <span class="token operator">==</span> k<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">cost</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> i<span class="token punctuation">,</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> res <span class="token operator">=</span> INT_MAX<span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token operator">-</span>k<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            res <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token function">cost</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">dfs</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> n<span class="token punctuation">,</span> j<span class="token punctuation">,</span> k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> dp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>

        dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> res<span class="token punctuation">;</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>
]]></content>
      
        <categories>
            
            <category> 工作 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> LeetCode </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[LeetCode Biweekly Contest 14]]></title>
      <url>http://tommyjiang.github.io/2019/2019-11-30-LC-biweekly-contest-14/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
LeetCode Biweekly Contest 14.
</div>

<a id="more"></a>
<h1 id="问题-1"><a href="#问题-1" class="headerlink" title="问题 1"></a>问题 1</h1><p><a href="https://leetcode.com/problems/hexspeak/">题目链接</a></p>
<p>整数转换为 16 进制字符串：</p>
<ul>
<li>Python 用自带的 <code>hex</code> 函数。</li>
<li>C++ 用 <code>stringstream</code> 中的 <code>hex</code>。</li>
</ul>
<p>Python<br><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">toHexspeak</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> num<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">str</span><span class="token punctuation">:</span>
        num <span class="token operator">=</span> <span class="token builtin">hex</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span>

        num <span class="token operator">=</span> num<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'I'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">'0'</span><span class="token punctuation">,</span> <span class="token string">'O'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token keyword">for</span> x <span class="token keyword">in</span> num<span class="token punctuation">:</span>
            <span class="token keyword">if</span> x <span class="token keyword">not</span> <span class="token keyword">in</span> <span class="token punctuation">&#123;</span><span class="token string">"A"</span><span class="token punctuation">,</span> <span class="token string">"B"</span><span class="token punctuation">,</span> <span class="token string">"C"</span><span class="token punctuation">,</span> <span class="token string">"D"</span><span class="token punctuation">,</span> <span class="token string">"E"</span><span class="token punctuation">,</span> <span class="token string">"F"</span><span class="token punctuation">,</span> <span class="token string">"I"</span><span class="token punctuation">,</span> <span class="token string">"O"</span><span class="token punctuation">&#125;</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token string">'ERROR'</span>

        <span class="token keyword">return</span> num<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>
<p>C++<br><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    string <span class="token function">toHexspeak</span><span class="token punctuation">(</span>string num<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">auto</span> n <span class="token operator">=</span> <span class="token function">stol</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
        stringstream st<span class="token punctuation">;</span>
        st <span class="token operator">&lt;&lt;</span> hex <span class="token operator">&lt;&lt;</span> uppercase <span class="token operator">&lt;&lt;</span> n<span class="token punctuation">;</span>  <span class="token comment">// 用 hex + uppercase 进行转换</span>
        string <span class="token function">s</span><span class="token punctuation">(</span>st<span class="token punctuation">.</span><span class="token function">str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> <span class="token string">'1'</span> <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">"ERROR"</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'0'</span><span class="token punctuation">)</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'O'</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'1'</span><span class="token punctuation">)</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'I'</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">return</span> s<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>
<h1 id="问题-2"><a href="#问题-2" class="headerlink" title="问题 2"></a>问题 2</h1><p><a href="https://leetcode.com/problems/remove-interval/">题目链接</a></p>
<p>解法：遍历判断与每个 interval 起始/结束时间的关系。<br>复杂度：时间复杂度 O(n)，空间复杂度 O(n)。</p>
<p>Python<br><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">removeInterval</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> intervals<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                       toBeRemoved<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

        s<span class="token punctuation">,</span> e <span class="token operator">=</span> toBeRemoved

        <span class="token keyword">for</span> i<span class="token punctuation">,</span> interval <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>intervals<span class="token punctuation">)</span><span class="token punctuation">:</span>
            i_s<span class="token punctuation">,</span> i_e <span class="token operator">=</span> interval
            <span class="token keyword">if</span> s <span class="token operator">>=</span> i_e <span class="token keyword">or</span> e <span class="token operator">&lt;=</span> i_s<span class="token punctuation">:</span>
                res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>interval<span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> i_s <span class="token operator">&lt;</span> s <span class="token operator">&lt;=</span> i_e<span class="token punctuation">:</span>
                    res<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span>i_s<span class="token punctuation">,</span> s<span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span> i_s <span class="token operator">&lt;=</span> e <span class="token operator">&lt;</span> i_e<span class="token punctuation">:</span>
                    res<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span>e<span class="token punctuation">,</span> i_e<span class="token punctuation">]</span><span class="token punctuation">)</span>

        <span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>
<p>C++<br><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token function">removeInterval</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&amp;</span> intervals<span class="token punctuation">,</span>
                                       vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> toBeRemoved<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> res<span class="token punctuation">;</span>

        <span class="token keyword">int</span> s <span class="token operator">=</span> toBeRemoved<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> e <span class="token operator">=</span> toBeRemoved<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> intervals<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            <span class="token keyword">int</span> i_s <span class="token operator">=</span> intervals<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> i_e <span class="token operator">=</span> intervals<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">>=</span> i_e <span class="token operator">||</span> e <span class="token operator">&lt;=</span> i_s<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                res<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token punctuation">&#123;</span>i_s<span class="token punctuation">,</span> i_e<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>i_s <span class="token operator">&lt;</span> s <span class="token operator">&amp;&amp;</span> s <span class="token operator">&lt;=</span> i_e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    res<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token punctuation">&#123;</span>i_s<span class="token punctuation">,</span> s<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>i_s <span class="token operator">&lt;=</span> e <span class="token operator">&amp;&amp;</span> e <span class="token operator">&lt;</span> i_e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    res<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token punctuation">&#123;</span>e<span class="token punctuation">,</span> i_e<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>

        <span class="token punctuation">&#125;</span>

        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>
<h1 id="问题-3"><a href="#问题-3" class="headerlink" title="问题 3"></a>问题 3</h1><p><a href="https://leetcode.com/problems/can-make-palindrome-from-substring/">题目链接</a></p>
<p>解法：DFS，利用返回值计数。</p>
<p>复杂度：时间复杂度 O(n)，空间复杂度 O(n)。</p>
<p>Python<br><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">deleteTreeNodes</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nodes<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> parent<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        nei <span class="token operator">=</span> collections<span class="token punctuation">.</span>defaultdict<span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span>

        <span class="token keyword">for</span> i<span class="token punctuation">,</span> x <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> x <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>
                nei<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>n <span class="token operator">=</span> nodes

        <span class="token keyword">def</span> <span class="token function">dfs</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">:</span>
            res <span class="token operator">=</span> value<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
            ces <span class="token operator">=</span> <span class="token number">1</span>
            <span class="token keyword">for</span> x <span class="token keyword">in</span> nei<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">:</span>
                s<span class="token punctuation">,</span> c <span class="token operator">=</span> dfs<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
                res <span class="token operator">+=</span> s
                ces <span class="token operator">+=</span> c <span class="token keyword">if</span> s <span class="token operator">!=</span> <span class="token number">0</span> <span class="token keyword">else</span> <span class="token number">0</span>

            <span class="token keyword">return</span> <span class="token punctuation">(</span>res<span class="token punctuation">,</span> ces<span class="token punctuation">)</span> <span class="token keyword">if</span> res <span class="token operator">!=</span> <span class="token number">0</span> <span class="token keyword">else</span> <span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

        s<span class="token punctuation">,</span> c <span class="token operator">=</span> dfs<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

        <span class="token keyword">return</span> c<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>
<p>C++<br><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">nodeNum</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> value<span class="token punctuation">,</span> <span class="token keyword">int</span> node<span class="token punctuation">,</span> unordered_map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&amp;</span> nei<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">int</span> sum <span class="token operator">=</span> value<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">,</span> count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>child <span class="token operator">:</span> nei<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> res <span class="token operator">=</span> <span class="token function">nodeNum</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> child<span class="token punctuation">,</span> nei<span class="token punctuation">)</span><span class="token punctuation">;</span>
            sum <span class="token operator">+=</span> res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            count <span class="token operator">+=</span> <span class="token punctuation">(</span>res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> res<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>sum<span class="token punctuation">,</span> sum <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> count<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">int</span> <span class="token function">deleteTreeNodes</span><span class="token punctuation">(</span><span class="token keyword">int</span> nodes<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> parent<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">int</span> root <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        unordered_map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> nei<span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> parent<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            nei<span class="token punctuation">[</span>parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> root <span class="token operator">=</span> i<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> res <span class="token operator">=</span> <span class="token function">nodeNum</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> root<span class="token punctuation">,</span> nei<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> res<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>
<h1 id="问题-4"><a href="#问题-4" class="headerlink" title="问题 4"></a>问题 4</h1><p><a href="https://leetcode.com/problems/number-of-ships-in-a-rectangle/">题目链接</a><br>解法：两个坐标二分搜索。</p>
<p>Python<br><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">countShips</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> sea<span class="token punctuation">:</span> <span class="token string">'Sea'</span><span class="token punctuation">,</span> P<span class="token punctuation">:</span> <span class="token string">'Point'</span><span class="token punctuation">,</span> Q<span class="token punctuation">:</span> <span class="token string">'Point'</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        res <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">if</span> P<span class="token punctuation">.</span>x <span class="token operator">>=</span> Q<span class="token punctuation">.</span>x <span class="token keyword">and</span> P<span class="token punctuation">.</span>y <span class="token operator">>=</span> Q<span class="token punctuation">.</span>y <span class="token keyword">and</span> sea<span class="token punctuation">.</span>hasShips<span class="token punctuation">(</span>P<span class="token punctuation">,</span> Q<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> P<span class="token punctuation">.</span>x <span class="token operator">==</span> Q<span class="token punctuation">.</span>x <span class="token keyword">and</span> P<span class="token punctuation">.</span>y <span class="token operator">==</span> Q<span class="token punctuation">.</span>y<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token number">1</span>
            mx<span class="token punctuation">,</span> my <span class="token operator">=</span> <span class="token punctuation">(</span>P<span class="token punctuation">.</span>x <span class="token operator">+</span> Q<span class="token punctuation">.</span>x<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>P<span class="token punctuation">.</span>y <span class="token operator">+</span> Q<span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>
            res <span class="token operator">+=</span> self<span class="token punctuation">.</span>countShips<span class="token punctuation">(</span>sea<span class="token punctuation">,</span> P<span class="token punctuation">,</span> Point<span class="token punctuation">(</span>mx <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> my <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            res <span class="token operator">+=</span> self<span class="token punctuation">.</span>countShips<span class="token punctuation">(</span>sea<span class="token punctuation">,</span> Point<span class="token punctuation">(</span>mx<span class="token punctuation">,</span> P<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">,</span> Point<span class="token punctuation">(</span>Q<span class="token punctuation">.</span>x<span class="token punctuation">,</span> my <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            res <span class="token operator">+=</span> self<span class="token punctuation">.</span>countShips<span class="token punctuation">(</span>sea<span class="token punctuation">,</span> Point<span class="token punctuation">(</span>mx<span class="token punctuation">,</span> my<span class="token punctuation">)</span><span class="token punctuation">,</span> Q<span class="token punctuation">)</span>
            res <span class="token operator">+=</span> self<span class="token punctuation">.</span>countShips<span class="token punctuation">(</span>sea<span class="token punctuation">,</span> Point<span class="token punctuation">(</span>P<span class="token punctuation">.</span>x<span class="token punctuation">,</span> my<span class="token punctuation">)</span><span class="token punctuation">,</span> Point<span class="token punctuation">(</span>mx <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> Q<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>
<p>C++<br><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> <span class="token function">countShips</span><span class="token punctuation">(</span>Sea sea<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> topRight<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> bottomLeft<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>topRight<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">>=</span> bottomLeft<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> topRight<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">>=</span> bottomLeft<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> 
            <span class="token operator">&amp;&amp;</span> sea<span class="token punctuation">.</span><span class="token function">hasShips</span><span class="token punctuation">(</span>topRight<span class="token punctuation">,</span> bottomLeft<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>topRight<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> bottomLeft<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> topRight<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> bottomLeft<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token keyword">int</span> mx <span class="token operator">=</span> <span class="token punctuation">(</span>topRight<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> bottomLeft<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> my <span class="token operator">=</span> <span class="token punctuation">(</span>topRight<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> bottomLeft<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
            res <span class="token operator">+=</span> <span class="token function">countShips</span><span class="token punctuation">(</span>sea<span class="token punctuation">,</span> topRight<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>mx<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> my<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            res <span class="token operator">+=</span> <span class="token function">countShips</span><span class="token punctuation">(</span>sea<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>mx<span class="token punctuation">,</span> topRight<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>bottomLeft<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> my<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            res <span class="token operator">+=</span> <span class="token function">countShips</span><span class="token punctuation">(</span>sea<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>mx<span class="token punctuation">,</span> my<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> bottomLeft<span class="token punctuation">)</span><span class="token punctuation">;</span>
            res <span class="token operator">+=</span> <span class="token function">countShips</span><span class="token punctuation">(</span>sea<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>topRight<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> my<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>mx<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> bottomLeft<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>

        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>
]]></content>
      
        <categories>
            
            <category> 工作 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> LeetCode </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[目标检测中的样本不平衡问题]]></title>
      <url>http://tommyjiang.github.io/2019/2019-09-01-imbalance-in-detection/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
处理 imbalance 的方法。
</div>

<a id="more"></a>
<h1 id="目标检测中的样本不平衡问题"><a href="#目标检测中的样本不平衡问题" class="headerlink" title="目标检测中的样本不平衡问题"></a>目标检测中的样本不平衡问题</h1><p>目标检测中的样本不平衡问题，是指对于目标检测模型，负样本的个数远多于正样本(比例约为 10000:1)，同时，负样本中简单负样本的个数也远多于困难负样本。模型训练过程中，需要避免这种不平衡对模型性能的影响，以免模型将所有样本都判断为负样本。</p>
<ul>
<li>单阶段网络：目前绝大多数单阶段网络仍然基于 anchor 。网络 anchor 的正负样本和困难/简单负样本不平衡问题十分突出。</li>
<li>两阶段网络：两阶段网络中第一阶段的 RPN 与单阶段网络类似，但第二阶段 proposal 的不平衡问题得到了很大缓解，这主要是由于 RPN 处理(top N_pre + nms + top N_pos)后，proposal 中的简单负样本大大减少，从而同时减轻了正负样本和困难/简单负样本的不平衡问题。</li>
</ul>
<h1 id="解决样本不平衡的方法"><a href="#解决样本不平衡的方法" class="headerlink" title="解决样本不平衡的方法"></a>解决样本不平衡的方法</h1><h2 id="按比例随机采样"><a href="#按比例随机采样" class="headerlink" title="按比例随机采样"></a>按比例随机采样</h2><p>Faster R-CNN 中，第一阶段 RPN 采用按比例随机采样，图片 batch size 为 1，anchor batch size 为 256，正负样本比例为 1 比 1，如果正样本不足 128(256 的 1/2)，则用负样本凑。</p>
<blockquote>
<p>We randomly sample 256 anchors in an image to compute the loss function of a mini-batch, where the sampled positive and negative anchors have a ratio of up to 1:1. If there are fewer than 128 positive samples in an image, we pad the mini-batch with negative ones.(Faster R-CNN 3.1.3 Training RPN)</p>
</blockquote>
<p>第二阶段 Fast R-CNN 同样采用按比例随机采样，正负样本比例为 1:3。</p>
<blockquote>
<p>We take 25% of the RoIs from object proposals that have intersection over union (IoU) overlap with a ground truth bounding box of at least 0:5. These RoIs comprise the examples labeled with a foreground object class. The remaining RoIs are sampled from object proposals that have a maximum IoU with ground truth in the interval [0:1; 0:5), following [11].(Fast R-CNN 2.3 Mini-batch sampling)</p>
</blockquote>
<h2 id="在线难样本挖掘-OHEM-Online-Hard-Example-Mining"><a href="#在线难样本挖掘-OHEM-Online-Hard-Example-Mining" class="headerlink" title="在线难样本挖掘(OHEM, Online Hard Example Mining)"></a>在线难样本挖掘(OHEM, Online Hard Example Mining)</h2><p>按比例随机采样控制了正负样本的比例，基本解决了正负样本不平衡的问题，但负样本的随机采样会导致简单负样本占绝大多数。SSD 在训练时加入了难样本挖掘，选出负样本中 loss 最大的进行训练，同时仍然保证正负样本比例为 1:3，以解决简单/困难负样本不平衡的问题。</p>
<blockquote>
<p>Instead of using all the negative examples, we sort them using the highest confidence loss for each default box and pick the top ones so that the ratio between the negatives and positives is at most 3:1. We found that this leads to faster optimization and a more stable training.(SSD 2.2 Training Hard negative mining)</p>
</blockquote>
<h2 id="Focal-Loss"><a href="#Focal-Loss" class="headerlink" title="Focal Loss"></a>Focal Loss</h2><p>Focal loss 应该是最有名的处理不平衡问题的 paper 了，文中提出了一种新的 loss 即 focal loss：</p>
<script type="math/tex; mode=display">\mathrm{FL}(p_t) = -\alpha_{t}(1-p_t)^{\gamma}\mathrm{log}(p_t)</script><p>其中 $ \alpha_t $ 作用是平衡正负样本权重，$ \gamma $ 作用是平衡简单/困难负样本权重，所以 focal loss 理论上能同时解决上面提到的两方面不平衡问题。原 paper 中给出的结果，$\alpha_t = 0.25, \gamma = 2 $ 时效果最好。注意，使用 focal loss 后，不需要再保证正负样本比例，原文中使用了所有 anchor 进行训练。</p>
<blockquote>
<p>We emphasize that when training RetinaNet, the focal loss is applied to all ~100k anchors in each sampled image.(Focal loss 4.1 Inference and Training Focal Loss)</p>
</blockquote>
<h2 id="IoU-平衡采样"><a href="#IoU-平衡采样" class="headerlink" title="IoU 平衡采样"></a>IoU 平衡采样</h2><p>OHEM 存在以下两个问题：</p>
<ol>
<li>需要计算所有 anchor 的 loss，付出额外的空间和时间代价。</li>
<li>标注如果有 noise label，会影响模型性能。</li>
</ol>
<p>IoU 平衡采样是 Libra R-CNN 中提出的，作者发现 60% 的困难负样本与 GT 的 IoU 都大于 0.05，而随机采样时与 GT IoU 大于 0.05 的 anchor 只占 30%，说明困难负样本不容易被选中。这个方法的核心思想是根据 anchor 与 GT 的 IoU 划分不同区间，在每个区间中进行均匀采样，保证与 GT IoU 大的负样本(很多是困难负样本)能够以较大的概率被选中。</p>
<blockquote>
<p>To raise the selected probability of hard negatives, we evenly split the sampling interval into K bins according to IoU. N demanded negative samples are equally distributed to each bin. Then we select samples from them uniformly.</p>
</blockquote>
<h2 id="GHM"><a href="#GHM" class="headerlink" title="GHM"></a>GHM</h2><p>GHM 文章首先根据梯度的模和样本的 label 将样本分为难易不同的样本，梯度的模越接近 0 说明越简单，越接近 1 则说明越困难。文章发现对于训练好的 detection 模型，仍然存在相当比例的困难样本，需要解决的具体问题是如何适当降低这部分困难样本的权重，提升模型性能。</p>
<p>为此，文中首先定义了梯度密度的概念，用于刻画一个样本梯度模值附近所有样本的总数，总数越多说明样本处的密度越高。</p>
<ul>
<li>分类 loss：采用加权交叉熵，权重为梯度密度的倒数，即降低密集样本的权重，这样就同时降低了非常密集的简单样本和同样密集的困难样本的权重。</li>
<li>回归 loss：采用改进的 Smooth L1 loss($\sqrt{d^2 + \mu ^ 2} - \mu$)，类似分类 loss 同样采用加权平均，同时降低简单和困难样本的权重。</li>
</ul>
]]></content>
      
        <categories>
            
            <category> 工作 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> CV </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[LeetCode Weekly Contest 152]]></title>
      <url>http://tommyjiang.github.io/2019/2019-09-01-LC-weekly-contest-152/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
LeetCode Weekly Contest 152.
</div>

<a id="more"></a>
<h1 id="问题-1"><a href="#问题-1" class="headerlink" title="问题 1"></a>问题 1</h1><p><a href="https://leetcode.com/problems/prime-arrangements/">题目链接</a></p>
<p>思路：从 1 到 n 质数和合数分别计数，结果为<code>质数阶乘 * 合数阶乘 % MOD</code>。<br>复杂度：时间复杂度 O(n^2)，空间复杂度 O(1)。</p>
<p>Python<br><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">numPrimeArrangements</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        <span class="token keyword">def</span> <span class="token function">is_prime</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> n <span class="token operator">//</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> n <span class="token operator">%</span> i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                    <span class="token keyword">return</span> <span class="token boolean">False</span>

            <span class="token keyword">return</span> <span class="token boolean">True</span>

        p <span class="token operator">=</span> <span class="token number">0</span>
        c <span class="token operator">=</span> <span class="token number">1</span>
        mod <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">**</span> <span class="token number">9</span> <span class="token operator">+</span> <span class="token number">7</span>

        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> is_prime<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">:</span>
                p <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                c <span class="token operator">+=</span> <span class="token number">1</span>

        <span class="token keyword">return</span> math<span class="token punctuation">.</span>factorial<span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token operator">%</span> mod <span class="token operator">*</span> math<span class="token punctuation">.</span>factorial<span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">%</span> mod<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>
<p>C++<br><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">bool</span> <span class="token function">prime</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">*</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">%</span> i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">int</span> <span class="token function">numPrimeArrangements</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> <span class="token keyword">int</span> MOD <span class="token operator">=</span> <span class="token number">1e9</span> <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">;</span>
        <span class="token keyword">long</span> <span class="token keyword">long</span> res <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> p <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">prime</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                p <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
                c <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> p<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            res <span class="token operator">=</span> res <span class="token operator">*</span> i <span class="token operator">%</span> MOD<span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> c<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            res <span class="token operator">=</span> res <span class="token operator">*</span> i <span class="token operator">%</span> MOD<span class="token punctuation">;</span>

        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>
<h1 id="问题-2"><a href="#问题-2" class="headerlink" title="问题 2"></a>问题 2</h1><p><a href="https://leetcode.com/problems/diet-plan-performance/">题目链接</a></p>
<p>解法：计算前缀和，每次去掉一个元素，加入一个元素。<br>复杂度：时间复杂度 O(n)，空间复杂度 O(1)。</p>
<p>Python<br><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">dietPlanPerformance</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> A<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span>
                            lower<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> upper<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        res <span class="token operator">=</span> <span class="token number">0</span>
        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span>

        s <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>A<span class="token punctuation">[</span><span class="token punctuation">:</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span>

        <span class="token keyword">if</span> s <span class="token operator">></span> upper<span class="token punctuation">:</span>
            res <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">elif</span> s <span class="token operator">&lt;</span> lower<span class="token punctuation">:</span>
            res <span class="token operator">-=</span> <span class="token number">1</span>

        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token operator">-</span>k<span class="token punctuation">)</span><span class="token punctuation">:</span>
            s <span class="token operator">-=</span> A<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
            s <span class="token operator">+=</span> A<span class="token punctuation">[</span>i<span class="token operator">+</span>k<span class="token punctuation">]</span>

            <span class="token keyword">if</span> s <span class="token operator">></span> upper<span class="token punctuation">:</span>
                res <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">elif</span> s <span class="token operator">&lt;</span> lower<span class="token punctuation">:</span>
                res <span class="token operator">-=</span> <span class="token number">1</span>

        <span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>
<p>C++<br><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> <span class="token function">dietPlanPerformance</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> A<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">,</span> <span class="token keyword">int</span> lower<span class="token punctuation">,</span> <span class="token keyword">int</span> upper<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> n <span class="token operator">=</span> A<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> s <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> k<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            s <span class="token operator">+=</span> A<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">></span> upper<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                res <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">&lt;</span> lower<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                res <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token operator">-</span>k<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            s <span class="token operator">-=</span> A<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            s <span class="token operator">+=</span> A<span class="token punctuation">[</span>i<span class="token operator">+</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">></span> upper<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                res <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">&lt;</span> lower<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                res <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>

        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>
<h1 id="问题-3"><a href="#问题-3" class="headerlink" title="问题 3"></a>问题 3</h1><p><a href="https://leetcode.com/problems/can-make-palindrome-from-substring/">题目链接</a></p>
<p>解法：26 个字母出现个数用前缀哈希存储，查询和比较 key 的差异为 O(1)，注意可以 rearrange，所以字母出现次数差异只保留 % 2 的值，最后对字符串奇偶长度做判断。</p>
<p>复杂度：时间复杂度 O(n)，空间复杂度 O(n)。</p>
<p>Python<br><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">canMakePaliQueries</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span>
                           queries<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span><span class="token builtin">bool</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>

        f <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

        <span class="token keyword">for</span> c <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token operator">+</span> c<span class="token punctuation">)</span><span class="token punctuation">:</span>
                    f<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> f<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    f<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> f<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

        <span class="token keyword">for</span> q <span class="token keyword">in</span> queries<span class="token punctuation">:</span>
            l<span class="token punctuation">,</span> r<span class="token punctuation">,</span> k <span class="token operator">=</span> q<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> q<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> q<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
            odd <span class="token operator">=</span> <span class="token number">0</span>

            <span class="token keyword">for</span> c <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>f<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">-</span> f<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">:</span>
                    odd <span class="token operator">+=</span> <span class="token number">1</span>

            res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>odd <span class="token operator">&lt;=</span> <span class="token number">2</span> <span class="token operator">*</span> k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>
<p>C++<br><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">></span> <span class="token function">canMakePaliQueries</span><span class="token punctuation">(</span>string s<span class="token punctuation">,</span>
                                    vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&amp;</span> queries<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token function">freq</span><span class="token punctuation">(</span><span class="token number">26</span><span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> c <span class="token operator">&lt;</span> <span class="token number">26</span><span class="token punctuation">;</span> c<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
                freq<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> freq<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'a'</span> <span class="token operator">+</span> c <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">></span> answer<span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>query <span class="token operator">:</span> queries<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">int</span> l <span class="token operator">=</span> query<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> r <span class="token operator">=</span> query<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> k <span class="token operator">=</span> query<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token keyword">int</span> odd <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> c <span class="token operator">&lt;</span> <span class="token number">26</span><span class="token punctuation">;</span> c<span class="token operator">++</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>freq<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">-</span> freq<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
                    odd<span class="token operator">++</span><span class="token punctuation">;</span>

            answer<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>odd <span class="token operator">&lt;=</span> <span class="token number">2</span> <span class="token operator">*</span> k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>

        <span class="token keyword">return</span> answer<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>
<h1 id="问题-4"><a href="#问题-4" class="headerlink" title="问题 4"></a>问题 4</h1><p><a href="https://leetcode.com/problems/number-of-valid-words-for-each-puzzle/">题目链接</a><br>解法：参考<a href="https://leetcode.com/problems/number-of-valid-words-for-each-puzzle/discuss/371864/Python-Find-all-Sub-Puzzles">寒神的解答</a>。利用 26 位整数的 bit 存储是否包含某个字母状态(状态压缩)，遍历 puzzles 中的元素，枚举包括第一个字母的所有子 string 组合，然后求和。</p>
<p>复杂度：时间复杂度 O(max(W, P))，空间复杂度 O(W)。</p>
<p>Python<br><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">findNumOfValidWords</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> words<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                            puzzles<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        count <span class="token operator">=</span> collections<span class="token punctuation">.</span>Counter<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> w <span class="token keyword">in</span> words<span class="token punctuation">:</span>
            m <span class="token operator">=</span> <span class="token number">0</span>
            <span class="token keyword">for</span> c <span class="token keyword">in</span> w<span class="token punctuation">:</span>
                m <span class="token operator">|</span><span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            count<span class="token punctuation">[</span>m<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>

        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

        <span class="token keyword">for</span> p <span class="token keyword">in</span> puzzles<span class="token punctuation">:</span>
            bfs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span>p<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
            <span class="token keyword">for</span> c <span class="token keyword">in</span> <span class="token builtin">set</span><span class="token punctuation">(</span>p<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                bfs <span class="token operator">+=</span> <span class="token punctuation">[</span>m <span class="token operator">|</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">for</span> m <span class="token keyword">in</span> bfs<span class="token punctuation">]</span>
            res<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">(</span>count<span class="token punctuation">[</span>m<span class="token punctuation">]</span> <span class="token keyword">for</span> m <span class="token keyword">in</span> bfs<span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>
<p>C++<br><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">findNumOfValidWords</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>string<span class="token operator">></span><span class="token operator">&amp;</span> words<span class="token punctuation">,</span>
                                    vector<span class="token operator">&lt;</span>string<span class="token operator">></span><span class="token operator">&amp;</span> puzzles<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        unordered_map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> count<span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> w<span class="token operator">:</span> words<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">int</span> mask <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> c <span class="token operator">:</span> w<span class="token punctuation">)</span>
                mask <span class="token operator">|=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>c <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            count<span class="token punctuation">[</span>mask<span class="token punctuation">]</span> <span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>

        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> res<span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> p <span class="token operator">:</span> puzzles<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> mask_p<span class="token punctuation">;</span>
            vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> mask_new<span class="token punctuation">;</span>

            mask_p<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>p<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> p<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                mask_new <span class="token operator">=</span> mask_p<span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> m <span class="token operator">:</span> mask_p<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    mask_new<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>m <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
                mask_p <span class="token operator">=</span> mask_new<span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>

            <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> m <span class="token operator">:</span> mask_p<span class="token punctuation">)</span>
                cnt <span class="token operator">+=</span> count<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">;</span>

            res<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>cnt<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>

        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>
]]></content>
      
        <categories>
            
            <category> 工作 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> LeetCode </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[老妹儿婚礼]]></title>
      <url>http://tommyjiang.github.io/2019/2019-08-26-old-sister-wedding/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
恭贺草原王子大婚。
</div>

<a id="more"></a>
<p>周末两天时间，特意请假去了趟科尔沁草原的明珠——白城，参加草原王子——老妹儿的婚礼。</p>
<p>老妹儿是东北方言，使用灵活广泛，能想到和这个词比较接近的，应该是天津方言中的“小姐姐”。和鄙班第一次打交道的朋友，第一次听到鄙班一系列乱中有序的昵称(包括但不限于妹妹、叔叔、奶夫等)时一般都会崩溃，老妹儿自然也在其中。值得一提的是，一般的昵称都是一个人独有，而老妹儿和我两个人则是互称老妹儿。</p>
<h1 id="出发"><a href="#出发" class="headerlink" title="出发"></a>出发</h1><p>周六一大早萌嫂开车亲自送萌哥、学哥和我到南苑机场，大兴机场今年 9 月底就要投入使用了，这次也算和中国第一个机场——南苑机场(IATA 代码：NAY；ICAO 代码：ZBNY)道个别。每周二、四、六，南苑都有飞白城的航班，省得再去内蒙兴安盟首府乌兰浩特折腾一趟了。</p>
<p>在登机口遇到了老妹儿的伴郎靖哥哥。我们三个都是 2012 年 7 月广东佛山南海区博士生实践的队员，他俩都分到了南海区最北面的偏远地带，以至于老妹儿周末来找我的时候连住的地方都没有，还和我挤一张床睡了两晚。</p>
<p>航班正点起飞，沿着跑道向北起飞后一个 180 度转弯掉头向南，第一次在空中看到大兴机场。飞机 12 点降落在白城长安机场，降落时拍了一张机场附近的照片：</p>

<img src="/images/2019/2019-08-24-白城降落.jpg" width="500px"/>

<h1 id="预热"><a href="#预热" class="headerlink" title="预热"></a>预热</h1><p>下飞机先到一个饭馆吃正宗东北菜。虽然在北京吃饭的标准至少是人均一个菜，但考虑到东北菜的分量，人均 0.8 个菜都不一定能吃完，再配上独特的甜品：拔丝地瓜，连主食都可以省了。席上新娘亲自介绍一整桌亲朋好友，在见识了新娘的高端朋友后，我果断建议就不要再继续介绍新郎朋友了。老妹儿在席上发表重要讲话，欢迎大家来草原“见识”他们的婚礼。</p>
<p>酒足饭饱，本该是午休时间，作为长期中午只能在单位眯一小觉的人，热切地期盼能在草原宾馆的床上好好睡一觉。但同学们兴致不减，放下包就出发去 K 歌了。我和萌哥看了一会儿 TI 9 LGD 和 OG 的比赛，略有耽搁，两个人打车过去，起步价 5 元到地方才 7 元，强烈地感受到草原人民的幸福。</p>
<p>既然到草原 K 歌，当然要点草原歌曲，也不枉我之前去过十几次草原，一图胜千言，秀一下航线图，最密集的就是北京——通辽航线：</p>

<img src="/images/2019/2019-08-24-白城航线图.jpg" width="300px"/>

<p>第一次去通辽还是在 2012 年 3 月，有幸当时有老妹儿同行，原因是我的小老板是老妹儿大老板的博士，虽然毕业了还和原来的课题组一起做项目。算起来那是我第一次出差，北京——通辽来回都是硬卧，睡一晚上才到，虽然北京 3 月已经不算冷了，但草原还是冷得够呛，出差回来我就发烧了。</p>
<p>晚上安排了蒙餐烤全羊，我之前出差吃过不少，没什么特别的感觉。席上高导亲自回答各种娱乐八卦问题，长了不少见识。酒足饭饱后第二场开始，选在老金家烧烤，其实前面那顿大家吃得都差不多了，但第二天还要接亲，所以不能喝太多，简单觥筹交错之后，11 点就回宾馆休息了。</p>
<h1 id="接亲"><a href="#接亲" class="headerlink" title="接亲"></a>接亲</h1><p>周日早上起来，7 点 50 从酒店出发到老妹儿家楼下，步行 5 分钟就到了。楼下除了一个大彩虹门，还有一排小门，样子让我想起了京都伏见稻荷大社的千本鸟居。</p>
<p>早上 8 点 18 分，车队准时前往新娘住的威尼斯水上乐园。众所周知，白城是一个国际大都市，拥有威尼斯水上乐园、西雅图精品假日酒店、胜利基辅宾馆等一系列国际化建筑，丝毫不比 2012 年夏天我和老妹儿一起去开会的加州圣迭戈差。除了我们这帮同学，老妹儿的家人有不少也跟车一起过来了。</p>
<p>第一个项目自然是传统的撞门，这次酒店的门比较特殊，是往外开的，所以里面的兄弟们没法堵，只能往里拽。撞门环节还算顺利，但门打开之后新娘没有同意老妹儿进屋，于是在老妹儿的带领下，同学们分别用中英文表达了诚意：</p>
<blockquote>
<p>中：我来接你了。<br>英：I’m coming for you.</p>
</blockquote>
<p>高级知识分子的婚礼，没点文化水平还真不敢来。</p>
<p>进屋后先做三个游戏，抖甩乒乓球、诸葛帽吃糖、脸撕保鲜膜。</p>
<ol>
<li><p>抖甩乒乓球：老妹儿参加的唯一一个游戏。盒子装满乒乓球，绑在腰后面，不许用手，把所有乒乓球跳出来，老妹儿跳的劲太大，别的花都跳掉了。</p>
</li>
<li><p>诸葛帽吃糖：新娘不让老妹儿继续玩了，只能我们这群同学上了。这个游戏如果只允许自己吃自己的，还是很有难度的，好在可以几个人互换吃糖。</p>
</li>
<li><p>脸撕保鲜膜：这个游戏很熟悉，去年我婚礼的时候就玩过，重点是不能靠脸用蛮力弄破，要用头顶破。</p>
</li>
</ol>
<p>游戏做完就到了喜闻乐见的找鞋环节。在围观第一个游戏的时候我就在看后面窗帘架上面有没有，最后揭晓后发现是别在两个窗帘中间了，另外一只藏到了岳父岳母坐的沙发后面。</p>
<p>出门之前，按照新娘当地的习俗，新郎还需要面向父母和新娘家乡方向磕头，老妹儿干净利落地完成，赢得了在场群众的纷纷喝彩。顺利接亲归来，在家里合影留念，前往典礼现场。</p>
<h1 id="典礼"><a href="#典礼" class="headerlink" title="典礼"></a>典礼</h1><p>典礼开始前，亲朋好友就已经就位了。音乐造足了氛围后，主持人先上来了……张老师千呼万唤始出来，出来后一个急转弯踩着音乐的节拍径直往楼上走，步伐和十几年前初见时并无二致。</p>
<p>典礼过程中印象最深的是新娘说，感谢你能理解我做的事的意义(大意)，这一句话想必击中了在场绝大多数研究生尤其是各位博士的内心。因为每个研究生毕业答辩的时候，最害怕的问题应该就是答辩评委问，你做的工作有什么意义？</p>
<p>现在想起来，2015 年初我和老妹儿一起写博士论文的时候，和老妹儿互怼了好几次。当时老妹儿就说他家在草原，我不相信，后来一查，果然白城是科尔沁草原的明珠，为此我还专门把老妹的手机铃声调成了凤凰传奇的《我从草原来》。当时老妹儿还说博士论文的参考文献不能低于多少，说他师兄都是这样的，我就下载了他师兄的论文然后一个一个统计，最后把数据甩给他啪啪打脸。我认为自己博士课题的唯一意义，就是让我赶快毕业滚蛋。</p>
<p>典礼快结束终于发了筷子，虽然是婚宴，但菜品的味道还不错，我连着吃了好几个大虾。吃得正开心时，抬眼一看，其他桌的亲朋好友已经走了不少，看来我们桌应该是消灭得最干净的一桌了。</p>
<h1 id="返程"><a href="#返程" class="headerlink" title="返程"></a>返程</h1><p>中午典礼结束，回酒店休息，一觉睡到快 3 点，LGD 败者组决赛不敌 Liquid，总决赛也不用看了。老妹儿中午参加完典礼，下午还过来给我们送水果，着实让人感动。带的李子确实甜，不过沙果太酸了，咬了一口就放下了。和高师兄一唱一和，老妹儿又带我们去吃了老金家烧烤，5 点 20 多的火车，吃到了 4 点 55 才出发，到了取票直接检票上车，去长春的路上还拍到了白城的风车(手机相机效果不好，凑合看吧)。</p>

<img src="/images/2019/2019-08-25-白城风车.jpg" width="600px"/>

<p>到长春已经是晚上 8 点多了，在蔡爷带领下我们一行四人又到车站附近的饺子馆来了一顿晚餐，俗话说：上车饺子下车面，还吃了东北特色的锅包肉，应该是这次来吃到的最好吃的锅包肉了。</p>
<p>晚上回京的车次是 Z62 的软卧，四个人一个包厢。这个车非常好，长春始发，8 小时一站直达北京站，软卧包厢四个人一起也不用受熄灯影响，果断开始双升，从长春打到四平打到沈阳北，1 点中才睡，最终 8 比 Q 憾负。车上睡了 5 个小时，睡梦中经过了秦皇岛和唐山，5 点半列车员过来喊起床，又眯了一会儿，再一睁眼已经过建国门，列车很快停在了北京站的站台，草原王子的婚礼之旅也算正式落下了帷幕。</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 婚礼 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[陈天奇《机器学习科研的十年》读后感]]></title>
      <url>http://tommyjiang.github.io/2019/2019-07-19-chen-tianqi-zhihu-post-thought/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
见贤思齐。
</div>

<a id="more"></a>
<p>读了陈天奇最新的文章<a href="https://zhuanlan.zhihu.com/p/74249758">《机器学习科研的十年》</a>，写写感想。</p>
<h1 id="良好的外部环境"><a href="#良好的外部环境" class="headerlink" title="良好的外部环境"></a>良好的外部环境</h1><p>陈天奇在文中分享了他的主要经历：本科上海交大 ACM、实习 MSRA、交换香港、博士 UW、实习 Google、教职 CMU。文中也列出了他的主要合作者，戴文渊(第四范式创始人)、李航(统计学习方法一书的作者、字节跳动人工智能实验室总监)、Carlos、Ian Goodfellow(GAN 发明人、Apple 机器学习总监)，还有其他一些文中没有名字的同学。</p>
<h1 id="勤勉的个人努力"><a href="#勤勉的个人努力" class="headerlink" title="勤勉的个人努力"></a>勤勉的个人努力</h1><p>陈天奇在文中多次提到了各种想法和尝试的具体情景：</p>
<blockquote>
<p>再到时不时在树下踱步想如何加旋转不变的模型的尝试</p>
<p>我在排队参观西雅图艺术博物馆的 infinity mirror 展览的途中把加速器内存拷贝支持的第一个方案写在了一张星巴克的餐巾纸上</p>
<p>在去加州的飞机上，我尝试在纸上画出为了优化矩阵乘法可能的循环变换</p>
</blockquote>
<p>能在个人生活中穿插这么多努力，可见确实非常喜欢自己所做的事情，还记得之前电网领导问我能给自己打多少分，做到这样绝对超过 100 分了。</p>
]]></content>
      
        <categories>
            
            <category> 工作 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 选择 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[CV DL Object Detection Paper 汇总]]></title>
      <url>http://tommyjiang.github.io/2019/2019-04-30-CV-DL-OD-papers/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
CV DL OD 文献引用关系图
</div>

<a id="more"></a>


<div id="refs" style="width: 100%;height: 1000px;margin: 0 auto"></div>
<script src="https://cdn.bootcss.com/echarts/4.2.1-rc1/echarts.js"></script>
<script src="https://cdn.bootcss.com/echarts/4.2.1-rc1/extension/dataTool.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.js"></script>
<script src="https://cdn.rawgit.com/apache/incubator-echarts/master/theme/vintage.js"></script>

<script type="text/javascript">
    // 查找函数
    function findArray(array, feature, all = true) {
        for(let index in array){
            let cur = array[index];
            if(feature instanceof Object){
                let allRight = true;
                for(let key in feature){
                    let value = feature[key];
                    if(cur[key] == value && !all) return index;
                    if(all && cur[key] != value){
                        allRight = false;
                        break;
                    }
                }
                if(allRight) return index;
            }else{
                if(cur == feature){
                    return index;
                }
            }
        }
        return -1;
    }
    var myChart = echarts.init(document.getElementById('refs'), 'vintage');
    myChart.showLoading();
$.get('https://raw.githubusercontent.com/ecomfe/echarts-examples/gh-pages/public/data/asset/data/les-miserables.gexf', function (xml) {
    myChart.hideLoading();

    // TODO 点击节点跳转到论文 arxiv 链接
    // TODO 节点 symbolSize 随年份衰减
    // TODO 根据 link 两篇文章年份设定权重
    var graph = {
        "nodes":[
        // TODO Mask-RCNN
        // Object Detection
        {"id":"R-CNN", "name":"2013-R-CNN", "symbolSize":10, "category":1}, // 1311.2524
        {"id":"SPPNet", "name":"2014-SPPNet", "symbolSize":10, "category":1}, // 1406.4729
        {"id":"Fast-RCNN", "name":"2015-Fast-RCNN", "symbolSize":10, "category":1}, // 1504.08083
        {"id":"Faster-RCNN", "name":"2015-Faster-RCNN", "symbolSize":10, "category":1}, // 1506.01497
        {"id":"ResNet", "name":"2015-ResNet", "symbolSize":10, "category":0}, // 1512.03385
        {"id":"FPN", "name":"2016-FPN", "symbolSize":10, "category":1}, // 1612.03144
        {"id":"Cascade RetinaNet", "name":"2019-Cascade-RetinaNet", "symbolSize":10, "category":2}, // 1907.06881
        ],
        "links":[
        // 2014-SPPNet
        {"source":"SPPNet", "target":"R-CNN"}, // Ref 7
        // 2015-Fast-RCNN
        {"source":"Fast-RCNN", "target":"R-CNN"}, // Ref 9
        {"source":"Fast-RCNN", "target":"SPPNet"}, // Ref 11
        // 2015-Faster-RCNN
        {"source":"Faster-RCNN", "target":"SPPNet"}, // Ref 1
        {"source":"Faster-RCNN", "target":"Fast-RCNN"}, // Ref 2
        {"source":"Faster-RCNN", "target":"R-CNN"}, // Ref 5
        // 2015-ResNet
        {"source":"ResNet", "target":"Fast-RCNN"}, // Ref 7
        {"source":"ResNet", "target":"R-CNN"}, // Ref 8
        // 2016-FPN
        {"source":"FPN", "target":"Fast-RCNN"}, // Ref 11
        {"source":"FPN", "target":"R-CNN"}, // Ref 12
        {"source":"FPN", "target":"SPPNet"}, // Ref 15
        // {"source":"FPN", "target":"SSD"}, // Ref 22
        {"source":"FPN", "target":"Faster-RCNN"}, // Ref 29
        // 2019-Cascade-RetinaNet
        // {"source":"Cascade RetinaNet", "target":"DSSD"}, // Ref 8
        {"source":"Cascade RetinaNet", "target":"Fast-RCNN"}, // Ref 10
        // {"source":"Cascade RetinaNet", "target":"Mask R-CNN"}, // Ref 11
        {"source":"Cascade RetinaNet", "target":"ResNet"}, // Ref 12
        ]
    }
    var categories = [{'name': '基础网络'},
                      {'name': '两阶段网络'},
                      {'name': '单阶段网络'}
                     ];
    // TODO 根据 link 修改 symbolSize / 根据年份加权
    graph.links.forEach(function (link) {
        link.id = link.source + "-" + link.target
        var cur_link = link.target
        var index = findArray(graph.nodes, {id: link.target});
        graph.nodes[index]['symbolSize'] += 2
        console.log(link)
        // console.log(graph.nodes[0]['id'])
    });
    graph.nodes.forEach(function (node) {
        node.itemStyle = null;
        node.value = node.symbolSize;
        node.label = {
            normal: {
                show: node.symbolSize > 0
            }
        };
    });
    option = {
        title: {
            text: 'CV refs',
            subtext: 'Circular layout',
            top: 'bottom',
            left: 'right'
        },
        tooltip: {},
        legend: [{
            // selectedMode: 'single',
            data: categories.map(function (a) {
                return a.name;
            })
        }],
        animation: false,
        // animationDurationUpdate: 1500,
        // animationEasingUpdate: 'quinticInOut',
        series : [
            {
                name: 'CV refs',
                type: 'graph',
                // layout: 'circular',
                layout: 'force',
                force: {
                    repulsion: 2000,
                    gravity: 0.2
                },
                circular: {
                    rotateLabel: true
                },
                edgeSymbol: [null, 'arrow'],  // 有向图, edgeSymbol 为 arrow
                data: graph.nodes,
                links: graph.links,
                categories: categories,
                roam: true,
                focusNodeAdjacency: true,
                itemStyle: {
                    normal: {
                        borderColor: '#fff',
                        borderWidth: 1,
                        shadowColor: 'rgba(0, 0, 0, 0.3)'
                    }
                },
                label: {
                    normal: {
                        position: 'right',
                        formatter: '{b}'
                    }
                },
                lineStyle: {
                    normal: {
                        color: 'source',
                        curveness: 0.3
                    }
                }
            }
        ]
    };

    myChart.setOption(option);
}, 'xml');
</script>


]]></content>
      
        <categories>
            
            <category> 技术 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> CV </tag>
            
            <tag> DL </tag>
            
            <tag> 目标检测 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[多买高性价比东西]]></title>
      <url>http://tommyjiang.github.io/2019/2019-03-25-high-cost-effective-things/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
总结过去几年买的高性价比的东西。
</div>

<a id="more"></a>
<p>买东西应该秉承不买贵的，只买对的的原则，但绝大多数情况下，贵的东西肯定更好，所以更应该衡量的是性价比。在能够承担的范围内，可以优先考虑性价比高的，哪怕贵一点也没关系。比如最近几年买的这些东西：</p>
<ul>
<li><p>Cherry 原厂机械键盘(红轴和茶轴)：转行之前在电网，经常要写汇报材料，用机械键盘打字绝对是一种享受，现在需要敲代码，就更离不开机械键盘了。这两个键盘买了四、五年了，还是一如既往地好用，只是定期需要把键都卸下来擦一擦，不然都是灰尘。</p>
</li>
<li><p>Retina MacBook Pro：15 年初托小哥从香港带回来的，学生优惠价不到 14000，大陆行货要 18000。用到现在已经四年了，只换了一次电池和一个电源适配器，看 paper 写代码神器，争取再用四年。美中不足的是升级了 Mojave 系统以后，Mac 没有官方授权的 N 卡驱动，只能在 Win 下打游戏了。</p>
</li>
<li><p>iPhone：14 年底入手的，也用了四年多了，中间换过一次电池，现在电池又不行了。不过 iPhone 最近几年的品控越来越差，性价比也越来越低，下一个手机可能考虑换小米或者华为的拍照手机了。</p>
</li>
</ul>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 感想 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[炉石记录]]></title>
      <url>http://tommyjiang.github.io/2019/2019-02-20-hearthstone/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
炉石老玩家
</div>

<a id="more"></a>

<div id="hs" style="height:400px"></div>

<h1 id="2019"><a href="#2019" class="headerlink" title="2019"></a>2019</h1><ul>
<li>2019-02-21：<ul>
<li>亚服：分解部门准备退环境的卡，合伊瑟拉和玛里苟斯。</li>
<li>欧服：战士经典卡补齐，合哈里森。</li>
<li>美服：开暴龙王、合哈里森，补齐除猎人外 8 职业经典卡。</li>
</ul>
</li>
</ul>

<!-- 引入 ECharts -->
<script src="https://cdn.bootcss.com/echarts/4.1.0/echarts.js"></script>
<script src="https://cdn.rawgit.com/apache/incubator-echarts/master/theme/macarons.js"></script>
<script type="text/javascript">
hs();

function hs(ec){
    var hs = echarts.init(document.getElementById('hs'), 'macarons');
    <!-- 填空 -->
    var data = [["2019-02-20", 3865, 18545, 4005, 21610, 3985, 22645],
                ["2019-02-21", 3925, 19705, 3940, 19230, 3985, 19520],
                ["2019-02-22", 3995, 19705, 4150, 19230, 4130, 19650],
                ["2019-02-23", 3995, 19500, 4200, 20420, 4240, 19040],
                ["2019-02-24", 4115, 19500, 4200, 20420, 4045, 19225]
               ]
    var option = {
         title: {text: '炉石'},
         legend: {
             data: ['亚服金币', '亚服尘', '欧服金币', '欧服尘', '美服金币', '美服尘']
         },
         tooltip: {
             trigger: 'axis',
             formatter: function(params) {
                 return params[0].name + '<br/>'
                        + params[0].seriesName + ' : ' + params[0].value + '<br/>'
                        + params[2].seriesName + ' : ' + params[2].value + '<br/>'
                        + params[4].seriesName + ' : ' + params[4].value + '<br/>'
                        + params[1].seriesName + ' : ' + params[1].value + '<br/>'
                        + params[3].seriesName + ' : ' + params[3].value + '<br/>'
                        + params[5].seriesName + ' : ' + params[5].value
                        ;
             }
         },
         toolbox: {
             show: false
         },
         xAxis: {
             data: data.map(function (item) {
                 return item[0];
             })
         },
         yAxis: [
             {
                 name: '金币',
                 min: 2500,
                 max: 4500,
                 splitLine: {
                     show: false
                 }
             },
             {
                 name: '奥术之尘',
                 min: 18000,
                 max: 25000,
                 splitLine: {
                     show: false
                 }
             }
         ],
         dataZoom: [{
             startValue: '2019-02-20'
         }, {
             type: 'inside'
         }],
        series: [
            {
                name: '亚服金币',
                type: 'line',
                itemStyle: {
                    normal: {
                        color: '#faff72'
                    }
                },
                data: data.map(function (item) {
                    return item[1];
                })
            },
            {
                name: '亚服尘',
                type: 'line',
                itemStyle: {
                    normal: {
                        color: '#fff143'
                    }
                },
                yAxisIndex: 1,
                data: data.map(function (item) {
                    return item[2];
                })
            },
            {
                name: '欧服金币',
                type: 'line',
                itemStyle: {
                    normal: {
                        color: '#44cef6'
                    }
                },
                data: data.map(function (item) {
                    return item[3];
                })
            },
            {
                name: '欧服尘',
                type: 'line',
                itemStyle: {
                    normal: {
                        color: '#3eede7'
                    }
                },
                yAxisIndex: 1,
                data: data.map(function (item) {
                    return item[4];
                })
            },
            {
                name: '美服金币',
                type: 'line',
                itemStyle: {
                    normal: {
                        color: '#f00056'
                    }
                },
                data: data.map(function (item) {
                    return item[5];
                })
            },
            {
                name: '美服尘',
                type: 'line',
                itemStyle: {
                    normal: {
                        color: '#ff2121'
                    }
                },
                yAxisIndex: 1,
                data: data.map(function (item) {
                    return item[6];
                })
            },
        ]
    };
    hs.setOption(option, true); //当setOption第二个参数为true时，会阻止数据合并
}

</script>

]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 炉石 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[2019-01 随想]]></title>
      <url>http://tommyjiang.github.io/2019/2019-01-24-some-thought/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
老来多健忘
</div>

<a id="more"></a>
<p>读博之后感觉记忆力比巅峰状态差了很多，现在很多事儿不记在手机上很容易就忘了，一些想法也是，在这随时记下来。</p>
<ol>
<li>元旦以来将近一个月的时间，已经减了 5 斤，体重降到 74 以下。大学入学体检的时候，是 9 开头的两位数的体重，大一一年瘦到了 140，减了 40+ 斤。当年曾经被人嘲笑的小胖子，如今出现了逆生长，体重控制得还不错。反观当年身材还算正常的各位，一部分已经发福到没法看了。笑到最后才是笑得最好的，继续努力。</li>
<li>公司发了放假暂行规定，发现只有入职以后领证才能休婚假，之前在国网提了离职被领导忽悠，说在这就别休了，也没当回事儿就没休，现在到了这边休不了了，白白损失 10 天假期。本以为博士毕业就不会再忽悠了，没想到临走还是被电网坑了。</li>
<li>有些时候该放弃就要放弃，遇到困难也要及时和人沟通，别都自己扛着。现在还清楚地记得本科毕设答辩是 2010.6.22，和高考出分整整差了 4 年。由于毕设没做好，很狼狈地被取消了优良毕业生的称号。大四毕设答辩完还和萌哥吃了顿饭，当时他建议我把遇到的情况和老板反映，虽然我知道反映了也没用，但做和没做之间的差别还是挺大的，有问题应该及时和别人反映。而且话说回来，从那时候起就应该对博士的整个过程及时调低预期，也不会被坑这么惨了，更何况，从博士论文送审的时候就已经注定以后不会在电力行业混了，竟然还投入了两年半的沉没成本，教训深刻。</li>
<li>知乎上拿到了电气工程的优秀回答者，下一步准备往深度学习优秀回答者努力，正在写计算机视觉相关问题的回答。写的过程中发现，我的强项还是搜集整理资料，并且能用比较容易理解的方式讲给不懂的人，以后选行业可以试试教育方面。</li>
<li>网申了两次 + 找业务员申浦发 AE 白都被秒拒，前几天浦发竟然还厚着脸皮给我打电话，让我申请浦发男人卡，问能否直接办 AE 白，答曰不能，果断挂电话。网上看别人申额度给了 4k，果然是猴子行。</li>
</ol>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 计划 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[海鲜宴]]></title>
      <url>http://tommyjiang.github.io/2019/2019-01-12-seafood/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
许久不见的美食。
</div>

<a id="more"></a>
<p><img src="/images/2019/2019-01-12-海鲜宴.jpg" alt=""></p>
<h2 id="菜单"><a href="#菜单" class="headerlink" title="菜单"></a>菜单</h2><ul>
<li>清蒸扇贝</li>
<li>辣炒海蛏</li>
<li>凉拌土豆丝</li>
<li>萝卜土豆丸子</li>
<li>辣炒生菜</li>
</ul>
<h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><h2 id="寄语"><a href="#寄语" class="headerlink" title="寄语"></a>寄语</h2><p>大厨寄语：买的海鲜一定要放在水里吐沙子两小时。小猪最爱吃这样爆炒的海鲜啦。海鲜还是带着壳吃比较有感觉！希望丰富的蛋白质可以保佑大厨减肥顺利进行，加油呀！</p>
<p><img src="/images/2019/2019-01-12-海鲜宴大厨.png" alt=""></p>
<p>小厨寄语：最近大小厨都在减肥，特意选择了海鲜，好吃不胖型。辛苦大厨把每个扇贝都冲了一遍，吃的时候完全不牙碜，好吃实惠。特意从董那拿来了土豆丝和丸子，相得益彰。很久没在家做饭了，怀念晚上早回来在家做饭的日子，以后争取回家做饭！</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 海鲜 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Mac 系统降级]]></title>
      <url>http://tommyjiang.github.io/2019/2019-01-09-Mac-downgrade/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
工作电脑不要轻易升级系统！
</div>

<a id="more"></a>
<p>上午在知乎看了一篇<a href="https://www.zhihu.com/question/305613293/answer/569592293">回答</a>，跟风升级了 Mojave 系统，升级完发现 Apple 和 NVIDIA 干架，Mac 全线产品从 N 卡换成了 A 卡，现在竟然连 N 卡的驱动也不批准了，导致像我这种老 Mac 用户升级后没法用显卡。</p>
<p>想回退系统，发现只能抹掉重装，太麻烦了，网上还有一种方法是 Command + Alt + Shift + R，可以装 Mac 初始带的系统，但 10.13 开始磁盘格式从 HFS+ 转到了 APFS，这个方法也不行了。</p>
<p>总结：</p>
<ol>
<li>升级前一定要用 Time Machine 备份，可以随时降级。</li>
<li>工作电脑不要轻易升级系统，省得耽误干活。</li>
</ol>
<p>折腾过程中的收获：</p>
<ul>
<li><a href="http://blog.topspeedsnail.com/archives/6603">Ubuntu 16.04 无线热点方法</a></li>
<li>Mac 启动时卡在进度条：启动后按住 Command + Option + P + R</li>
<li><a href="https://blog.csdn.net/toopoo/article/details/84765391">Emacs 升级后无法正常打开解决方法</a></li>
</ul>
]]></content>
      
        <categories>
            
            <category> 工作 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Mac </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[提出离职一周年]]></title>
      <url>http://tommyjiang.github.io/2019/2019-01-02-resign-SGCC-one-year/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
2018 年 1 月 2 日，正式向领导提出辞职。
</div>

<a id="more"></a>
<p>迎新年的第二天，也迎来了从电网提离职一周年的纪念。</p>
<p>去年的这个时候，刚和领导提完离职回到家。那天下午，领导又组织我们技术攻坚小组开会，会上说今年我们的干劲要保持和去年一样。还说到其他部门领导说，不能培养这些博士，培养完他们都走了，说完还哈哈大笑了几声。等同事们都离开之后，我和领导汇报了我的动态——我也准备换个地方干了。然后又是和单位纠缠了两个月，3 月 7 号才正式离职。</p>
<p>回顾离职这一年，也曾经犹豫和彷徨过，想着如果不离职，晚上还能早点下班，6 点半就到家了，也能和大宝晚上出去转一转，不会像现在这么辛苦。但转念一想，确实没法忍受电网的诸多问题，如果继续干，最好的策略就是在里面混，可惜我又不想混。既来之，则安之，这两年多努力，以后争取轻松点。</p>
<p>新年在家看了央视的 MV <a href="https://www.bilibili.com/video/av39532478/?redirectFrom=h5">《我和我的祖国》</a>，里面记录的基本都是大国企，比如：</p>
<ul>
<li>北京市消防总队故宫特勤中队</li>
<li>C919 飞机设计研发团队</li>
<li>中国电力建设集团 赞比亚下凯富峡水电站</li>
<li>航天科技集团一院 长征三号甲系列运载火箭研制团队</li>
<li>中国女排</li>
<li>塞罕坝机械林场</li>
<li>中交天津航道局有限公司 天鲲号建设者</li>
<li>中交四航局 港珠澳大桥岛隧工程建设者</li>
<li>雪龙2号 建设团队</li>
<li>墨子号量子科学实验卫星团队</li>
<li>中国铁路北京局集团有限公司 复兴号列车工作人员</li>
</ul>
<p>之前在大国企的时候，也没干什么了不起的事儿，成就感和自豪感没有，又看到各种扯淡的情况，比如各种糊弄报奖、提拔领导孩子之类的，终于选择了离开，希望以后能越走越好吧。</p>
]]></content>
      
        <categories>
            
            <category> 工作 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 电网 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[2019 新年计划]]></title>
      <url>http://tommyjiang.github.io/2019/2019-01-01-2019-plan/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
一笔“狗”销，“猪”事顺利。
</div>

<a id="more"></a>
<p>2019 年的元旦，我和老婆回家，好好计划新一年。</p>
<h1 id="健康"><a href="#健康" class="headerlink" title="健康"></a>健康</h1><ul>
<li>体检<ul>
<li>✅ 3 月牙周复诊(2019-04-02，牙周状况还可以，需要补牙)</li>
<li>🗸 9 月牙周复诊</li>
<li>🗸 10 月年体检</li>
</ul>
</li>
<li>作息<ul>
<li>每天 0 点 15 睡觉，7 点 15 起床，保证 7 小时睡眠，中午午休半小时</li>
</ul>
</li>
<li>减肥<ul>
<li>体重减到 72 公斤</li>
</ul>
</li>
</ul>

<div id="weight2019" style="height:400px"></div>

<h1 id="大宝"><a href="#大宝" class="headerlink" title="大宝"></a>大宝</h1><ul>
<li>和大宝相亲相爱</li>
</ul>

<div id="relationship2019" style="height:200px"></div>

<h1 id="专业"><a href="#专业" class="headerlink" title="专业"></a>专业</h1><ul>
<li>技术栈<ul>
<li>算法 + 数据结构(2019-01-01~2019-03-31)<ul>
<li>刷 Leetcode 题目 400 道(2019-01-01 完成 219 题，年底需要完成 619 题)</li>
<li>集中刷 LeetCode 题，LeetCode Weekly Contest 130(2019-03-31) 第一次四道题 AC。3 月 31 日已完成 500 道，精力重点转移到 C++ 方向。</li>
</ul>
</li>
<li>C++ 语言<ul>
<li>✅ C++ Primer 中文第五版(主要内容看完)</li>
<li>🗸 C++ 程序设计(第 8、9、11、12 章，面向对象相关内容)<h1 id="阅读"><a href="#阅读" class="headerlink" title="阅读"></a>阅读</h1></li>
</ul>
</li>
</ul>
</li>
<li>国学<ul>
<li>汉字来源<ul>
<li>🗸 《白鱼解字》流沙河</li>
<li>🗸 《细说汉字》左民安</li>
</ul>
</li>
<li>诗经<ul>
<li>🗸 《诗经注析》程俊英、蒋见元</li>
<li>🗸 《诗经十三经注疏》毛亨/毛苌，郑玄笺注，孔颖达疏</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="进度记录"><a href="#进度记录" class="headerlink" title="进度记录"></a>进度记录</h2><h3 id="Leetcode"><a href="#Leetcode" class="headerlink" title="Leetcode"></a>Leetcode</h3>
<div id="lc" style="height:400px"></div>


<!-- 引入 ECharts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/4.1.0/echarts.js"></script>
<script src="https://cdn.rawgit.com/apache/incubator-echarts/master/theme/macarons.js"></script>
<script type="text/javascript">
weight2019();
relationship2019();
leetcode();

<!-- 体重 -->
function weight2019(ec){
    var weight2019 = echarts.init(document.getElementById('weight2019'), 'macarons');
    <!-- 填空 体重 -->
    var data = [["2019-01-01", 76.2], ["2019-01-02", 75.5], ["2019-01-03", 75.6], ["2019-01-04", 75.4],
                ["2019-01-05", 75.4], ["2019-01-06", 75.8], ["2019-01-07", 75.7], ["2019-01-08", 75.8],
                ["2019-01-09", 76.2], ["2019-01-10", 75.6], ["2019-01-11", 75.4], ["2019-01-12", 75.0],
                ["2019-01-13", 75.4], ["2019-01-14", 74.9], ["2019-01-15", 75.0], ['2019-01-16', 74.8],
                ['2019-01-17', 75.0], ['2019-01-18', 74.6], ['2019-01-19', 73.9], ['2019-01-20', 73.5],
                ['2019-01-21', 74.1], ['2019-01-22', 74.0], ['2019-01-23', 73.6], ['2019-01-24', 73.3],
                ['2019-01-25', 73.5], ['2019-01-26', 73.3], ['2019-01-27', 73.8], ['2019-01-28', 73.7],
                ['2019-01-29', 73.5], ['2019-01-30', 73.4], ['2019-01-31', 73.6], ['2019-02-01', 73.9],
                ['2019-02-02', 74.1], ['2019-02-03', 73.9], ['2019-02-04', 74.2], ['2019-02-05', 74.5],
                ['2019-02-06', 75.1], ['2019-02-07', 74.8], ['2019-02-08', 74.9], ['2019-02-09', 75.1],
                ['2019-02-10', 75.5], ['2019-02-11', 75.3], ['2019-02-12', 74.3], ['2019-02-13', 74.2],
                ['2019-02-14', 73.7], ['2019-02-15', 74.7], ['2019-02-16', 74.2], ['2019-02-17', 73.9],
                ['2019-02-18', 73.6], ['2019-02-19', 73.7], ['2019-02-20', 73.4], ['2019-02-21', 73.7],
                ['2019-02-22', 73.6], ['2019-02-23', 73.7], ['2019-02-24', 73.6], ['2019-02-25', 73.7],
                ['2019-02-26', 73.7], ['2019-02-27', 73.8], ['2019-02-28', 73.7], ['2019-03-01', 73.3],
                ['2019-03-02', 73.6], ['2019-03-03', 73.7], ['2019-03-04', 74.0], ['2019-03-05', 73.8],
                ['2019-03-06', 73.8], ['2019-03-07', 74.0], ['2019-03-08', 73.6], ['2019-03-09', 73.8],
                ['2019-03-10', 73.8], ['2019-03-11', 73.5], ['2019-03-12', 73.4], ['2019-03-13', 73.1],
                ['2019-03-14', 73.5], ['2019-03-15', 73.5], ['2019-03-16', 73.8], ['2019-03-17', 73.3],
                ['2019-03-18', 74.0], ['2019-03-19', 73.7], ['2019-03-20', 73.5], ['2019-03-21', 73.5],
                ['2019-03-22', 73.6], ['2019-03-23', 73.2], ['2019-03-24', 73.2], ['2019-03-25', 73.6],
                ['2019-03-26', 73.8], ['2019-03-27', 73.9], ['2019-03-28', 73.7], ['2019-03-29', 73.6],
                ['2019-03-30', 74.4], ['2019-03-31', 74.0], ['2019-04-01', 73.8], ['2019-04-02', 73.8],
                ['2019-04-03', 73.9], ['2019-04-04', 73.6], ['2019-04-05', 73.7], ['2019-04-06', 74.0],
                ['2019-04-07', 74.2], ['2019-04-08', 74.0], ['2019-04-09', 73.8], ['2019-04-10', 73.5],
                ['2019-04-11', 73.2], ['2019-04-12', 73.6], ['2019-04-13', 73.9], ['2019-04-14', 73.9],
                ['2019-04-15', 73.5], ['2019-04-16', 73.6], ['2019-04-17', 73.3], ['2019-04-18', 73.6],
                ['2019-04-19', 73.3], ['2019-04-20', 73.8], ['2019-04-21', 73.6], ['2019-04-22', 73.6],
                ['2019-04-23', 73.5], ['2019-04-24', 73.6], ['2019-04-25', 73.7], ['2019-04-26', 73.6],
                ['2019-04-27', 73.5], ['2019-04-28', 73.6], ['2019-04-29', 73.8], ['2019-04-30', 73.6],
                ['2019-05-01', 74.2], ['2019-05-02', 74.1], ['2019-05-03', 73.8], ['2019-05-04', 73.6],
                ['2019-05-05', 73.7], ['2019-05-06', 73.6], ['2019-05-07', 73.8], ['2019-05-08', 73.6],
                ['2019-05-09', 73.4], ['2019-05-10', 73.3], ['2019-05-11', 73.3], ['2019-05-13', 73.8],
                ['2019-05-13', 74.0], ['2019-05-14', 73.4], ['2019-05-15', 73,3], ['2019-05-16', 73.5],
                ['2019-05-17', 72.8], ['2019-05-18', 73.0], ['2019-05-19', 72.9], ['2019-05-20', 72.8],
                ['2019-05-21', 73.0], ['2019-05-22', 72.5], ['2019-05-23', 73.1], ['2019-05-24', 73.1],
                ['2019-05-25', 72.8], ['2019-05-26', 73.2], ['2019-05-27', 73.9], ['2019-05-28', 73.4],
                ['2019-05-29', 72.9], ['2019-05-30', 72.6], ['2019-05-31', 72.7], ['2019-06-01', 72.9],
                ['2019-06-02', 72.7], ['2019-06-03', 73.0], ['2019-06-04', 72.8], ['2019-06-05', 72.6],
                ['2019-06-06', 72.8], ['2019-06-07', 73.0], ['2019-06-08', 72.6], ['2019-06-09', 73.0],
                ['2019-06-11', 73.2], ['2019-06-12', 73.0], ['2019-06-13', 72.9], ['2019-06-14', 72.8],
                ['2019-06-15', 72.8], ['2019-06-16', 73.0], ['2019-06-17', 72.6], ['2019-06-18', 72.8],
                ['2019-06-19', 72.6], ['2019-06-20', 72.8], ['2019-06-21', 72.6], ['2019-06-22', 72.7],
                ['2019-06-23', 72.6], ['2019-06-24', 73.0], ['2019-06-25', 72.8], ['2019-06-22', 72.8],
                ['2019-06-27', 72.6], ['2019-06-28', 72.9], ['2019-06-29', 72.6], ['2019-06-30', 72.6],
                ['2019-07-01', 72.6], ['2019-07-02', 72.5], ['2019-07-03', 72.8], ['2019-07-04', 73.0],
                ['2019-07-05', 72.8], ['2019-07-06', 72.9], ['2019-07-07', 73.2], ['2019-07-08', 73.5],
                ['2019-07-09', 73.6], ['2019-07-10', 73.5], ['2019-07-11', 73.2], ['2019-07-12', 73.0],
                ['2019-07-13', 73.2], ['2019-07-14', 72.8], ['2019-07-15', 72.5], ['2019-07-16', 72.3],
                ['2019-07-17', 72.3], ['2019-07-18', 71.9], ['2019-07-19', 72.2], ['2019-07-20', 72.6],
                ['2019-07-21', 72.5], ['2019-07-22', 72.3], ['2019-07-23', 72.6], ['2019-07-24', 72.3],
                ['2019-07-25', 72.7], ['2019-07-26', 73.2], ['2019-07-27', 72.9], ['2019-07-28', 72.7],
                ['2019-07-29', 72.6], ['2019-07-30', 72.3]
                ]
    var comments = {"2019-01-01": "董董元旦火锅", "2019-01-06": "烤肉乐烧烤自助", "2019-01-13": "海鲜宴",
                    '2019-01-20': '家宴吐了', "2019-02-10": "春节回家", "2019-02-15": "情人节米斯特披萨",
                    '2019-02-17': '董来元宵节', '2019-03-29': "万人香锅(大蔡、萌哥、小牛)",
                    '2019-05-27': '大宝咖喱饭', '2019-07-02': "贪吃一番街"
                   }
    var option = {
         title: {text: '2019 体重'},
         tooltip: {
             trigger: 'axis',
             formatter: function (params, ticket, callback) {
                           var res='时间：' + params[0].name + '<br>'
                           res += '体重：' + params[0].data + '<br>'
                           if(comments[params[0].name] != null){
                               res += '注释：' + comments[params[0].name]
                           }
                           return res
             }
         },
         xAxis: {
             data: data.map(function (item) {
                 return item[0];
             })
         },
         yAxis: {
             min: 70,
             max: 78,
             splitLine: {
                 show: false
             }
         },
         toolbox: {
             left: 'center',
             feature: {
                 dataZoom: {
                     yAxisIndex: 'none'
                 },
                 restore: {},
                 saveAsImage: {}
             }
         },
         dataZoom: [{
             startValue: '2019-01-01'
         }, {
             type: 'inside'
         }],
         visualMap: {
             top: '30%',
             right: 0,
             pieces: [{
                 gt: 70,
                 lte: 72,
                 color: '#096'
             }, {
                 gt: 72,
                 lte: 74,
                 color: '#ffde33'
             }, {
                 gt: 74,
                 lte: 76,
                 color: '#ff9933'
             }, {
                 gt: 76,
                 lte: 78,
                 color: '#cc0033'
             }, {
                 gt: 78,
                 color: '#660099'
             }],
             outOfRange: {
                 color: '#999'
             }
        },
        series: {
            name: '2019 体重',
            type: 'line',
            data: data.map(function (item) {
                return item[1];
            }),
            markLine: {
                symbolSize: 0,
                label: {
                    show: false
                },
                data: [{
                    yAxis: 70
                }, {
                    yAxis: 72
                }, {
                    yAxis: 74
                }, {
                    yAxis: 76
                }, {
                    yAxis: 78
                }]
            }
        }
    };
    weight2019.setOption(option, true); //当setOption第二个参数为true时，会阻止数据合并
}

<!-- 大宝关系 -->
function relationship2019(ec){
    var relationship2019 = echarts.init(document.getElementById('relationship2019'));
    <!-- 填空 关系 -->
    var data = [["2019-01-01", 8], ["2019-01-02", 8], ["2019-01-03", 8], ["2019-01-04", 7],
                ["2019-01-05", 7], ["2019-01-06", 9], ["2019-01-07", 7], ["2019-01-08", 10],
                ["2019-01-09", 10], ["2019-01-10", 9], ["2019-01-11", 10], ["2019-01-12", 10],
                ["2019-01-13", 10], ['2019-01-14', 10], ['2019-01-15', 9], ['2019-01-16', 10],
                ['2019-01-17', 0], ['2019-01-18', 10], ['2019-01-19', 10], ['2019-01-20', 10],
                ['2019-01-21', 10], ['2019-01-22', 10], ['2019-01-23', 10], ['2019-01-24', 10],
                ['2019-01-25', 10], ['2019-01-26', 10], ['2019-01-27', 7], ['2019-01-28', 9],
                ['2019-01-29', 10] , ['2019-01-30', 10], ['2019-01-31', 10], ['2019-02-01', 10],
                ['2019-02-02', 10], ['2019-02-03', 10], ['2019-02-04', 10], ['2019-02-05', 10],
                ['2019-02-06', 10], ['2019-02-07', 10], ['2019-02-08', 10], ['2019-02-09', 10],
                ['2019-02-10', 10], ['2019-02-11', 10], ['2019-02-12', 10], ['2019-02-13', 10],
                ['2019-02-14', 10], ['2019-02-15', 10], ['2019-02-16', 10], ['2019-02-17', 10],
                ['2019-02-18', 10], ['2019-02-19', 10], ['2019-02-20', 10], ['2019-02-21', 5],
                ['2019-02-22', 10], ['2019-02-23', 10], ['2019-02-24', 10], ['2019-02-25', 10],
                ['2019-02-26', 8], ['2019-02-27', 10], ['2019-02-28', 10], ['2019-03-01', 10],
                ['2019-03-02', 10], ['2019-03-03', 7], ['2019-03-04', 10], ['2019-03-05', 10],
                ['2019-03-06', 10], ['2019-03-07', 10], ['2019-03-08', 10], ['2019-03-09', 10],
                ['2019-03-10', 10], ['2019-03-11', 10], ['2019-03-12', 10], ['2019-03-13', 10],
                ['2019-03-14', 10], ['2019-03-15', 4], ['2019-03-16', 10], ['2019-03-17', 10],
                ['2019-03-18', 10], ['2019-03-19', 10], ['2019-03-20', 10], ['2019-03-21', 10],
                ['2019-03-22', 10], ['2019-03-23', 10], ['2019-03-24', 10], ['2019-03-25', 10],
                ['2019-03-26', 10], ['2019-03-27', 10], ['2019-03-28', 10], ['2019-03-29', 4],
                ['2019-03-30', 10], ['2019-03-31', 10], ['2019-04-01', 10], ['2019-04-02', 10],
                ['2019-04-03', 10], ['2019-04-04', 10], ['2019-04-05', 10], ['2019-04-06', 10],
                ['2019-04-07', 10], ['2019-04-08', 10], ['2019-04-09', 10], ['2019-04-10', 10],
                ['2019-04-11', 10], ['2019-04-12', 10], ['2019-04-13', 10], ['2019-04-14', 7],
                ['2019-04-15', 10], ['2019-04-16', 10], ['2019-04-17', 10], ['2019-04-18', 4],
                ['2019-04-19', 10], ['2019-04-20', 10], ['2019-04-21', 10], ['2019-04-22', 7],
                ['2019-04-23', 10], ['2019-04-24', 10], ['2019-04-25', 10], ['2019-04-26', 10],
                ['2019-04-27', 10], ['2019-04-28', 10], ['2019-04-29', 10], ['2019-04-30', 10],
                ['2019-05-01', 10], ['2019-05-02', 10], ['2019-05-03', 10], ['2019-05-04', 10],
                ['2019-05-05', 10], ['2019-05-06', 7], ['2019-05-07', 10], ['2019-05-08', 10],
                ['2019-05-09', 10], ['2019-05-10', 7], ['2019-05-11', 10], ['2019-05-12', 10],
                ['2019-05-13', 10], ['2019-05-14', 10], ['2019-05-15', 10], ['2019-05-16', 10],
                ['2019-05-17', 10], ['2019-05-18', 10], ['2019-05-19', 10], ['2019-05-20', 10],
                ['2019-05-21', 10], ['2019-05-22', 7], ['2019-05-23', 10], ['2019-05-24', 10],
                ['2019-05-25', 10], ['2019-05-26', 10], ['2019-05-27', 10], ['2019-05-28', 10],
                ['2019-05-29', 10], ['2019-05-30', 10], ['2019-05-31', 8], ['2019-06-01', 10],
                ['2019-06-02', 10], ['2019-06-03', 10], ['2019-06-04', 10], ['2019-06-05', 10],
                ['2019-06-06', 10], ['2019-06-07', 10], ['2019-06-08', 10], ['2019-06-09', 10],
                ['2019-06-10', 10], ['2019-06-11', 10], ['2019-06-12', 10], ['2019-06-13', 10],
                ['2019-06-14', 10], ['2019-06-15', 10], ['2019-06-16', 10], ['2019-06-17', 10],
                ['2019-06-18', 10], ['2019-06-19', 10], ['2019-06-20', 10], ['2019-06-21', 10],
                ['2019-06-22', 10], ['2019-06-23', 10], ['2019-06-24', 10], ['2019-06-25', 10],
                ['2019-06-26', 10], ['2019-06-27', 10], ['2019-06-28', 10], ['2019-06-29', 10],
                ['2019-06-30', 10], ['2019-07-01', 10], ['2019-07-02', 10], ['2019-07-03', 10],
                ['2019-07-04', 10], ['2019-07-05', 10], ['2019-07-06', 10], ['2019-07-07', 10],
                ['2019-07-08', 10], ['2019-07-09', 4],  ['2019-07-10', 10], ['2019-07-11', 10],
                ['2019-07-12', 10], ['2019-07-13', 10], ['2019-07-14', 10], ['2019-07-15', 10],
                ['2019-07-16', 10], ['2019-07-17', 10], ['2019-07-18', 10], ['2019-07-19', 10],
                ['2019-07-20', 10], ['2019-07-21', 10], ['2019-07-22', 10], ['2019-07-23', 10],
                ['2019-07-24', 10], ['2019-07-25', 10], ['2019-07-26', 10], ['2019-07-27', 10],
                ['2019-07-28', 10], ['2019-07-29', 10], ['2019-07-30', 10], ['2019-07-31', 10],
                ]

    var comments = {<!-- "2019-01-01": '3(摩擦没告诉大宝) + 5', "2019-01-02": '4 + 4(没给大宝带本回来)', -->
                    <!-- "2019-01-03": '4 + 4(PMS)',  "2019-01-04": '4 + 3(大宝不理我)',  -->
                    <!-- '2019-01-05': '3(不给我买电脑、身体不舒服还想要) + 4', -->
                    <!-- '2019-01-06': '4 + 5', '2019-01-07': '3 + 4', -->
                    <!-- '2019-01-12': '5(s) + 5', '2019-01-13': '5 + 5(狼人杀)', -->
                    <!-- '2019-01-14': '5 + 5(狼人杀视频)', '2019-01-15': '4.5(没捂捂) + 4.5', -->
                    <!-- '2019-01-17': '0(没抱抱吵架) + 0', -->
                    <!-- '2019-01-21': '5 + 5(大宝半夜不睡觉)', '2019-01-22': '5 + 5(三起三落)', -->
                    <!-- '2019-01-24': '5 + 5(新品到货)', '2019-01-27': '2(不买糕点还说我小社恐) + 5', -->
                    <!-- '2019-01-28': '5 + 4(大宝流血)', '2019-02-14': '5(s) + 5', '2019-02-21': '5 + 0(不理大宝)', -->
                    <!-- '2019-02-23': '5(口住) + 5', '2019-03-03': '5 + 2(不照顾大宝)',  -->
                    <!-- '2019-03-15': '2(善给人压 + s) + 2', '2019-03-19': '5(s) + 5', -->
                    <!-- '2019-03-29': '4 + 0(摩擦被大宝发现了)', '2019-04-06': '5 + 5(大热 J)' -->
                    <!-- '2019-04-18': '4 + 0(微博)', '2019-04-22': '5 + 2(说大宝胖)' -->
                    <!-- '2019-05-06': '5 + 2(弄疼兔兔了)', '2019-05-11': '5(s) + 5', -->
                    <!-- '2019-05-12': '5(s) + 5', '2019-05-14': '5(s) + 5', -->
                    <!-- '2019-07-09': '2 + 2(涩谷惨案)' -->
                    }
    var option = {
        tooltip: {
            position: 'top',
            formatter: function (params, ticket, callback) {
                          var res='日期：' + params.data[0] + '<br>'
                          res += '关系指数：' + params.data[1] + '<br>'
                          if(comments[params.data[0]] != null){
                              res += '注释：' + comments[params.data[0]]
                          }
                          return res
            }

        },
        visualMap: {
            min: 0,
            max: 10,
            calculable: true,
            orient: 'horizontal',
            left: 'center',
            top: 'top',
            inRange: {
                color: ['#268bd2', '#cb4b16']
            },
        },
        calendar: {
            range: '2019',
            orient: 'horizontal',
            cellSize: [14.2, 20],
            dayLabel: {
              firstDay: 1, // 从周一开始
              nameMap: 'cn'
            },
            monthLabel: {
              nameMap: 'cn'
            },
        },
        series: {
            type: 'heatmap',
            coordinateSystem: 'calendar',
            data: data
        }
    }
    relationship2019.setOption(option, true); //当setOption第二个参数为true时，会阻止数据合并
}

<!-- Leetcode -->
function leetcode(ec){
    var leetcode = echarts.init(document.getElementById('lc'));

    <!-- 填空 Leetcode -->
    var data = [["2019-01-01", 219], ["2019-01-02", 219], ["2019-01-03", 225], ["2019-01-04", 228],
                ["2019-01-05", 231], ["2019-01-06", 238], ["2019-01-07", 241], ["2019-01-08", 246],
                ["2019-01-09", 248], ["2019-01-10", 251], ["2019-01-11", 253], ["2019-01-12", 255],
                ["2019-01-13", 257], ["2019-01-14", 259], ['2019-01-15', 264], ['2019-01-16', 266],
                ['2019-01-17', 267], ['2019-01-18', 269], ['2019-01-19', 270], ['2019-01-20', 271],
                ['2019-01-21', 273], ['2019-01-22', 276], ['2019-01-23', 278], ['2019-01-24', 281],
                ['2019-01-25', 283], ['2019-01-26', 283], ['2019-01-27', 283], ['2019-01-28', 287],
                ['2019-01-29', 289], ['2019-01-30', 295], ['2019-01-31', 300], ['2019-02-01', 309],
                ['2019-02-02', 309], ['2019-02-03', 309], ['2019-02-04', 312], ['2019-02-05', 312],
                ['2019-02-06', 312], ['2019-02-07', 312], ['2019-02-08', 315], ['2019-02-09', 318],
                ['2019-02-10', 320], ['2019-02-11', 323], ['2019-02-12', 325], ['2019-02-13', 328],
                ['2019-02-14', 329], ['2019-02-15', 330], ['2019-02-16', 331], ['2019-02-17', 332],
                ['2019-02-18', 333], ['2019-02-19', 334], ['2019-02-20', 335], ['2019-02-21', 339],
                ['2019-02-22', 341], ['2019-02-23', 344], ['2019-02-24', 347], ['2019-02-25', 348],
                ['2019-02-26', 350], ['2019-02-27', 351], ['2019-02-28', 353], ['2019-03-01', 357],
                ['2019-03-02', 360], ['2019-03-03', 370], ['2019-03-04', 373], ['2019-03-05', 376],
                ['2019-03-06', 380], ['2019-03-07', 382], ['2019-03-08', 388], ['2019-03-09', 395],
                ['2019-03-10', 397], ['2019-03-11', 399], ['2019-03-12', 401], ['2019-03-13', 403],
                ['2019-03-14', 405], ['2019-03-15', 408], ['2019-03-16', 411], ['2019-03-17', 420],
                ['2019-03-18', 425], ['2019-03-19', 430], ['2019-03-20', 435], ['2019-03-21', 440],
                ['2019-03-22', 445], ['2019-03-23', 450], ['2019-03-24', 455], ['2019-03-25', 460],
                ['2019-03-26', 465], ['2019-03-27', 470], ['2019-03-28', 475], ['2019-03-29', 480],
                ['2019-03-30', 485], ['2019-03-31', 500]]
    var option = {
         title: {text: 'Leetcode'},
         tooltip: {
             trigger: 'axis'
         },
         xAxis: {
             data: data.map(function (item) {
                 return item[0];
             })
         },
         yAxis: {
             min: 200,
             max: 700,
             splitLine: {
                 show: false
             }
         },
         toolbox: {
             left: 'center',
             feature: {
                 dataZoom: {
                     yAxisIndex: 'none'
                 },
                 restore: {},
                 saveAsImage: {}
             }
         },
         dataZoom: [{
             startValue: '2019-01-01'
         }, {
             type: 'inside'
         }],
        series: {
            name: 'Leetcode',
            type: 'line',
            lineStyle: {
                normal: {
                    color: '#F3B13D',
                }
            },
            itemStyle: {
                normal: {
                    color: '#F3B13D',
                }
            },
            data: data.map(function (item) {
                return item[1];
            }),
        }
    };
    leetcode.setOption(option, true); //当setOption第二个参数为true时，会阻止数据合并
}
</script>

]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 计划 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[2018行程总结及个人飞行统计]]></title>
      <url>http://tommyjiang.github.io/2018/2018-12-31-Trip-2018/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
2018 行程总结。
</div>

<a id="more"></a>
<h1 id="2018-行程总结"><a href="#2018-行程总结" class="headerlink" title="2018 行程总结"></a>2018 行程总结</h1><p>2018 年各月飞机里程和火车里程：</p>

<div id="tripSum2018" style="height:400px"></div>

<p>换工作以后，还没出过差，所有的火车和飞机都是旅游和回家探亲。以后要和大宝游遍全世界。</p>
<h1 id="个人飞行统计"><a href="#个人飞行统计" class="headerlink" title="个人飞行统计"></a>个人飞行统计</h1><p>各航空公司的里程对比如下：</p>

<div id="airlineStat" style="height:400px"></div>

<p>国航 7w + ，占比超 60%，但离 100w 的终身白金还有很长一段路……</p>

<!--引入百度地图的jssdk，这里需要使用你在百度地图开发者平台申请的 ak-->
<script src="http://api.map.baidu.com/api?v=2.0&ak=x2V7KanMxVA2GuK7oFHPOiGytFSXWoyN"></script>
<!-- 引入 ECharts -->
<script src="https://cdn.bootcss.com/echarts/4.1.0/echarts.js"></script>
<script src="https://cdn.rawgit.com/apache/incubator-echarts/master/theme/macarons.js"></script>
<!-- 引入百度地图扩展 -->
<script src="https://cdn.bootcss.com/echarts/4.1.0/extension/bmap.js"></script>
<script type="text/javascript">
TripSum2018();
Airline();

function TripSum2018(ec){
    var myTripSum2018 = echarts.init(document.getElementById('tripSum2018'), 'macarons');

    var option = {
        tooltip : {
            trigger: 'axis'
        },
        toolbox: {
            show : true,
            feature : {
                mark : {show: true},
                dataView : {show: true, readOnly: false},
                magicType: {show: true, type: ['bar', 'bar']},
                restore : {show: true},
                saveAsImage : {show: true}
            }
        },
        calculable : true,
        legend: {
            data:['飞机行程','火车行程']
        },
        xAxis : [
            {
                type : 'category',
                data : ['1月','2月','3月','4月','5月','6月','7月','8月','9月','10月','11月','12月']
            }
        ],
        yAxis : [
            {
                type : 'value',
                name : '飞机行程(km)',
                axisLabel : {
                    formatter: '{value}'
                }
            },
            {
                type : 'value',
                name : '火车行程(km)',
                axisLabel : {
                    formatter: '{value}'
                }
            }
        ],
        series : [
            {
                name:'飞机行程',
                type:'bar',
                data:[0, 8514, 0, 0, 0, 3739, 0, 0, 0, 0, 0, 0]
            },
            {
                name:'火车行程',
                type:'bar',
                yAxisIndex: 1,
                data:[595, 0, 354, 0, 0, 0, 372, 574, 0, 297, 0, 0]
            }
        ]
    };
    myTripSum2018.setOption(option,true); //当setOption第二个参数为true时，会阻止数据合并
}

    function Airline(){
        var myAirline = echarts.init(document.getElementById('airlineStat'),'macarons');

        option = {
            title:{
                text:'航空公司&航空联盟飞行里程（飞行总里程：116757 km）',
                x:'center'
            },
            tooltip:{
                trigger:'item',
                formatter:"{b}:{c} km ({d}%)"
            },
            legend:{
                orient:'vertical',
                x:'left',
                data:['国航（CA）','山航（SC）', '深航（ZH）','美联航（UA）','南航（CZ）','东航（MU）','联合航空（KN）','厦航（MF）','上海航空（FM）','达美航空（DL）','海航（HU）','天津航空（GS）','其他']
            },
            toolbox:{
                show: true,
                feature:{
                    mark:{show:true},
                    dataView:{show:true,readOnly:false},
                    magicType:{
                        show:true,
                        type:['pie']
                    }
                },
                restore:{show:true},
                saveAsImage : {show: true}
            },
            calculable:true,
            selectedMode:false,
            series:[
                {
                    name:'航空公司',
                    type:'pie',
                    center:['70%','50%'],
                    radius:[100, 140],
                    data:[
                        {value:70006,name:'国航（CA）'},
                        {value:4250,name:'美联航（UA）'},
                        {value:3834,name:'山航（SC）'},
                        {value:5613,name:'深航（ZH）'},
                        {value:4212,name:'南航（CZ）'},
                        {value:3614,name:'东航（MU）'},
                        {value:1742,name:'厦航（MF）'},
                        {value:1360,name:'联合航空（KN）'},
                        {value:1133,name:'上海航空（FM）'},
                        {value:8689,name:'达美航空（DL）'},
                        {value:2094,name:'海航（HU）'},
                        {value:639,name:'天津航空（GS）'},
                        {value:5123,name:'泰狮航空（GS）'},
                        {value:2675,name:'其他'}
                    ]
                },
                {
                    name:'航空联盟',
                    type:'pie',
                    center:['70%','50%'],
                    radius:[0, 80],
                    itemStyle : {
                        normal : {
                            label : {
                                position : 'inner'
                            },
                        }
                    },
                    data:[
                        {value:83703,name:'星空联盟'},
                        {value:22844,name:'天合联盟'},
                        {value:10210,name:'其他'}
                    ]
                }
            ]
        }

        myAirline.setOption(option);
    }
</script>

]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 旅行 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[PRML 开源]]></title>
      <url>http://tommyjiang.github.io/2018/2018-11-28-PRML-open-source/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
三大圣经之一都开源了。
</div>

<a id="more"></a>
<p>在去年写的<a href="#">Post not found: 2017/2017-07-15-machine-learning 这篇博文</a>里，曾经介绍过机器学习三大圣经：PRML，ESL 和 MLAPP。最近，PRML 作者，微软剑桥研究院实验室负责人 Christopher Bishop 开源了他的经典著作——PRML，可以到<a href="http://link.zhihu.com/?target=https%3A//www.microsoft.com/en-us/research/uploads/prod/2006/01/Bishop-Pattern-Recognition-and-Machine-Learning-2006.pdf">这里</a>下载。</p>
<p>在这本书的前面，Bishop 写了这本书奉献给妻子和孩子，还放了他们一家四口 2006 年 3 月到土耳其安卡拉看日全食的照片。最近也在看菠萝的书《癌症·新知》，书的后记提到，本来想做老师的他，通过写科普书也获得了很多成就感。以后我也要写一本经典的书，也要在前面附上一家人的照片，为了实现这个目标，努力！</p>
]]></content>
      
        <categories>
            
            <category> Geek </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Machine Learning </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Ubuntu 误删 Python 恢复记录]]></title>
      <url>http://tommyjiang.github.io/2018/2018-11-21-ubuntu-delete-python/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
不作死就不会死
</div>

<a id="more"></a>
<p>上午想找个 Kaggle 比赛记录的方法，最后选了 jupyter notebook，自己笔记本里，python 版本装得太多，都乱套了，一不小心卸载了系统自带的 Python，重启之后桌面都消失了，键盘也没法用了。</p>
<p>上网查了解决方案，都是需要先进恢复模式，开机需要按 Shift，由于键盘没法用，这个方法也失效了。查到了 Ubuntu 官网写的，先用 Live USB，也就是 Ubuntu 的安装盘，试用 Ubuntu，然后再进命令行，先 mount 再利用 chroot 切换到电脑硬盘的 Ubuntu，然后执行 <code>sudo apt install ubuntu-minimal ubuntu-standard ubuntu-desktop</code>，关于 chroot 的用法可以参考 archlinux 的 <a href="https://wiki.archlinux.org/index.php/Chroot">wiki</a></p>
<p>这里还有个坑，就是在 chroot 之前，需要先连网，然后将配置文件拷过去，否则 chroot 之后 apt install 会提示无法联网，具体命令为：<code>cp /etc/resolv.conf etc/resolv.conf</code>。</p>
]]></content>
      
        <categories>
            
            <category> Geek </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Ubuntu </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[2018 双十一总结]]></title>
      <url>http://tommyjiang.github.io/2018/2018-11-11-2018-double-eleven/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
又是一年一度的双十一
</div>

<a id="more"></a>
<p>双十一总结。</p>
<h1 id="自己购物"><a href="#自己购物" class="headerlink" title="自己购物"></a>自己购物</h1><h2 id="钢笔"><a href="#钢笔" class="headerlink" title="钢笔"></a>钢笔</h2><p>今年的主力是百利金的 M200 牛奶咖啡。本来生日的时候就想下单，这次双十一满 400 减 50，再加上店铺优惠券减 30，一共省了 180，遂拔草，静待喜提。之前想买的小米机器人，因为买了这支笔，只能割爱了，以后靠我的人工智能负责家里的卫生了。</p>
<h2 id="牙齿护理"><a href="#牙齿护理" class="headerlink" title="牙齿护理"></a>牙齿护理</h2><p>今年双十一的另一大主题是牙齿护理装备，包括松下冲牙器、Gum 牙线、青蛙软毛小头牙刷和小鹿妈妈牙线棒。从小我的牙就不好，9 月去复查牙周，又花了将近 2000 做龈下刮治。这下长记性了，不能再花这冤枉钱了，平时就要注意牙齿的清洁和护理。等冲牙器到了试试效果怎么样。</p>
<h2 id="书"><a href="#书" class="headerlink" title="书"></a>书</h2><p>今年还送了大宝一本书，是三联在公众号推送的西南联大英文课，希望能给大宝提供讲课和辅导的素材。</p>
<h1 id="大宝购物"><a href="#大宝购物" class="headerlink" title="大宝购物"></a>大宝购物</h1><p>待补充</p>
<h1 id="双十一生活"><a href="#双十一生活" class="headerlink" title="双十一生活"></a>双十一生活</h1><p>今年双十一是周日，难得休息一天和大宝在家。上午去家乐福买菜准备中午做饭，一共三个菜，孜然羊肉、鱼香肉丝、辣炒木耳菜。一顿做了两顿的量，准备晚上继续吃。中午米饭放在电饭锅里，忘了取消保温模式，一直插着电，等晚上吃的时候，饭都硬了，吃完之后我俩都不太舒服，吸取教训，下次把插头先拔了。</p>
<p>中午的美食：</p>
<p><img src="/images/2018/2018-11-11-双十一做饭.jpeg" alt=""></p>
<p>晚上把购物车清空了，给淘宝贡献了 5000 的销售额，晚上出发晚，不想挤地铁，选了 80 换 693 的公交路线，没想到 80 路的司机太勇猛，坐车坐得很不舒服，下次还是晚上早点出来吃个饭然后回来，新开辟的公交路线以失败告终。</p>
<p>11.18 补充：时隔一周，和大宝再次坐 80 路，俩人还是非常不舒服，以后不坐这个破玩意儿了，还是坐地铁吧。</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 购物 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[吴军 态度 摘记]]></title>
      <url>http://tommyjiang.github.io/2018/2018-11-10-attitude/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
吴军老师的书都还不错。
</div>

<a id="more"></a>
<h1 id="态度-吴军"><a href="#态度-吴军" class="headerlink" title="态度 吴军"></a>态度 吴军</h1><p>教育首先是关怀备至地、深思熟虑地、小心翼翼地去触及年轻的心灵。</p>
<p><a id="org4b8c6c8"></a></p>
<h2 id="1-乐观的人生态度"><a href="#1-乐观的人生态度" class="headerlink" title="1. 乐观的人生态度"></a>1. 乐观的人生态度</h2><ul>
<li>美国人说，拼命读书能否让将来的生活更好，还是一个未知数，但是快快乐乐地生活18年，这是能够看到的，自己也能够把握；人生能有多少个18年，与其愁眉苦脸地度过少年时光，不如先快快乐乐地过18年。</li>
<li>人如果不能过得快乐，有再多的钱也没有半点儿意义。</li>
<li>有理想并努力实现自己的愿望。</li>
</ul>
<p><a id="org9be5346"></a></p>
<h2 id="3-抵制诱惑"><a href="#3-抵制诱惑" class="headerlink" title="3. 抵制诱惑"></a>3. 抵制诱惑</h2><ul>
<li>当人们对一种简单而强烈的快感上瘾后，对于其他事情就失去了兴趣，这就如同吸毒带来的快感一样。</li>
<li>抵御诱惑最根本的方法是有一个长远的大目标。</li>
<li>做一些有成就感、有回报的事情。</li>
</ul>
<p><a id="org07e68b5"></a></p>
<h2 id="4-成功是成功之母"><a href="#4-成功是成功之母" class="headerlink" title="4. 成功是成功之母"></a>4. 成功是成功之母</h2><ul>
<li>你从四五岁开始就能听完整的严肃音乐会，那个年龄的孩子大多无法安安静静地在音乐厅里坐上两个小时。后来每当旧金山有好的音乐会、芭蕾舞和歌剧演出，你都有极大的兴趣去听去看，去现场体会。随着年龄的增加，你看了世界上很多大师的表演，你的鉴别能力也在提升。</li>
<li>人只有成功过一次，才更容易成功第二次、第三次，因此失败不是成功之母，成功才是成功之母。</li>
</ul>
<p><a id="orgbe689ca"></a></p>
<h2 id="5-最好是更好的敌人"><a href="#5-最好是更好的敌人" class="headerlink" title="5. 最好是更好的敌人"></a>5. 最好是更好的敌人</h2><ul>
<li>很多时候，一些人无所作为不是因为不想做事，而是一根筋地追求最好，最后什么也得不到。</li>
<li>做事情不怕慢，就怕停。</li>
</ul>
<p><a id="orgf369a53"></a></p>
<h2 id="6-好习惯成就一生"><a href="#6-好习惯成就一生" class="headerlink" title="6. 好习惯成就一生"></a>6. 好习惯成就一生</h2><ul>
<li>撒切尔<ul>
<li>注意你的想法，因为它能决定你的言辞和行动。</li>
<li>注意你的言辞和行动，因为它能主导你的行为。</li>
<li>注意你的行为，因为它能变成你的习惯。</li>
<li>注意你的习惯，因为它能塑造你的性格。</li>
<li>注意你的性格，因为它能决定你的命运。</li>
</ul>
</li>
</ul>
<p><a id="org52c6b97"></a></p>
<h2 id="7-格局要大"><a href="#7-格局要大" class="headerlink" title="7. 格局要大"></a>7. 格局要大</h2><ul>
<li>上次你们副校长埃里克·格雷姆松在我们家吃饭时对你说，MIT还在世的本科校友中，有大约1/3是大公司的高管和创始人，也就是说，他们并不是那些满足于赚小钱的人。</li>
</ul>
<p><a id="orgdb83ea7"></a></p>
<h2 id="8-境界要高"><a href="#8-境界要高" class="headerlink" title="8. 境界要高"></a>8. 境界要高</h2><ul>
<li>人一旦习惯获得短期利益，境界就高不起来了，可能永远不会追求更高的境界了。</li>
<li>人的境界高一点儿，多关注长远，少盯着眼前，才能走得更远。</li>
</ul>
<p><a id="org003c371"></a></p>
<h2 id="10-教育改变命运"><a href="#10-教育改变命运" class="headerlink" title="10. 教育改变命运"></a>10. 教育改变命运</h2><ul>
<li>教育能让人有见识</li>
</ul>
<p><a id="orgfd916ed"></a></p>
<h2 id="12-做个好人"><a href="#12-做个好人" class="headerlink" title="12. 做个好人"></a>12. 做个好人</h2><ul>
<li>谷歌非常独特的一点就是不作恶。这对于一家以营利为目的的公司来讲，是非常难得的。</li>
<li>It’s nice to be great, yet it’s great to be nice.</li>
</ul>
<p><a id="org4b9199d"></a></p>
<h2 id="18-第一次投资的建议"><a href="#18-第一次投资的建议" class="headerlink" title="18. 第一次投资的建议"></a>18. 第一次投资的建议</h2><ul>
<li>永远不要相信自己能够打败市场</li>
<li>要对市场有信心</li>
<li>定投指数基金 ETF</li>
</ul>
<p><a id="orgb0f6959"></a></p>
<h2 id="19-投资红线"><a href="#19-投资红线" class="headerlink" title="19. 投资红线"></a>19. 投资红线</h2><ul>
<li>凡事说干就干是一个好习惯</li>
<li>做空股票</li>
<li>杠杆投资</li>
<li>不要眼红别人抓住了投机机会</li>
</ul>
<p><a id="org6a990ae"></a></p>
<h2 id="20-金钱观"><a href="#20-金钱观" class="headerlink" title="20. 金钱观"></a>20. 金钱观</h2><ul>
<li>上大学的意义：能做一些对社会比较有影响力的事，而不是以挣钱多少来衡量。换句话说，在美国，衡量精英的标准不是钱和学历，而是影响力。对于温饱不是问题的人来说，在年轻的时候能够懂得把钱看得淡一点儿，是有必要的。</li>
<li>满足于做一个电脑工程师、华尔街的股票交易员，或者一个家庭医生，挣的钱或许不少，但是从社会影响力来讲，依然没有摆脱穷人的心态。</li>
<li>如果一个人能够在能力水平上晋升一级，不仅贡献多10倍，所做的事情的影响力，包括自己的收入也常常多10倍。做5件5级的事，花的时间可能比做一件三级的事要多，但是收益和影响只有后者的5％。</li>
</ul>
<p><a id="org799b002"></a></p>
<h2 id="21-交友观"><a href="#21-交友观" class="headerlink" title="21. 交友观"></a>21. 交友观</h2><ul>
<li>你在工作之后会发现，有些同事即使共事时间很长，也不一定能深交。在工作中，更多是业务上的关系，难免有点儿功利。但是大学却不同，同学的功利心不会太强，彼此愿意相互照应，这是出于年轻人的善意和天然的交友欲望。</li>
<li>大学交朋友的另一个好处是，同一个班上的同学，不论家境和其他条件相差多大，到了一个班里学习，彼此就是平等的，或者相对平等。</li>
</ul>
<p><a id="orgf5ed320"></a></p>
<h2 id="22-爱情观"><a href="#22-爱情观" class="headerlink" title="22. 爱情观"></a>22. 爱情观</h2><ul>
<li>没有爱情的人是有缺陷的，没有经历真正爱情的人生也是不完整的。</li>
<li>唯一要注意的就是不要凡事太强势。据我观察，很多从名校毕业的人都有这个特点。</li>
</ul>
<p><a id="org1b6b793"></a></p>
<h2 id="25-有效沟通"><a href="#25-有效沟通" class="headerlink" title="25. 有效沟通"></a>25. 有效沟通</h2><ul>
<li>有效的沟通要以对方的确认为准</li>
<li>要以对方听得懂的话来沟通，切忌卖弄自己的知识，把简单的问题讲复杂了。</li>
<li>沟通要简洁，切中要害。</li>
<li>善辩不等于好的沟通，沟通的目的是让对方接受自己的想法，而非把对方驳得哑口无言。</li>
</ul>
<p><a id="org6a254a6"></a></p>
<h2 id="26-体面拒绝别人"><a href="#26-体面拒绝别人" class="headerlink" title="26. 体面拒绝别人"></a>26. 体面拒绝别人</h2><ul>
<li>帮忙四种 case<ul>
<li>能力不及，不能帮上忙，直接在第一时间委婉拒绝。</li>
<li>能帮上忙，但是却不想帮，因为自己的代价太大。如果不想帮，就不要勉强自己，但也要及早通知对方。</li>
<li>不论多困难都愿意帮，而且极有可能办成。这时，就答应对方，然后就全力去做。</li>
<li>虽然愿意帮，有可能帮上，也可能帮不上。这时，要将自己的实际情况告诉对方，千万不要轻易许诺，不要拍胸脯。</li>
</ul>
</li>
<li>切忌不要做的事<ul>
<li>为了显示自己的能耐吹牛皮。</li>
<li>对于做不到的事情，提出给人廉价的补偿。</li>
<li>帮忙别指望回报。</li>
<li>帮违反原则的忙。</li>
</ul>
</li>
</ul>
<p><a id="orgf4c767e"></a></p>
<h2 id="27-上帝喜欢笨人"><a href="#27-上帝喜欢笨人" class="headerlink" title="27. 上帝喜欢笨人"></a>27. 上帝喜欢笨人</h2><ul>
<li>笨人不懂得打擦边球，不懂得把利益最大化，因此凡事要留很大的余量。</li>
</ul>
<p><a id="org1425e8c"></a></p>
<h2 id="28-科学研究方法"><a href="#28-科学研究方法" class="headerlink" title="28. 科学研究方法"></a>28. 科学研究方法</h2><ul>
<li>提出质疑</li>
<li>小心求证</li>
<li>复杂问题分解为多个简单问题</li>
<li>合理地解释结果，上升到结论并推广</li>
</ul>
<p><a id="org3a89dbf"></a></p>
<h2 id="29-读名著"><a href="#29-读名著" class="headerlink" title="29. 读名著"></a>29. 读名著</h2><ul>
<li>读一部经典的介绍，或简写本和精彩章节的节选，慢慢了解了它的内容，再整篇研读。</li>
<li>先快速通读一遍，了解大致内容，在重要的地方做一个标记，回来再仔细读。</li>
</ul>
<p><a id="org54e7c21"></a></p>
<h2 id="31-学好数学"><a href="#31-学好数学" class="headerlink" title="31. 学好数学"></a>31. 学好数学</h2><ul>
<li>数学是所有自然科学的基础，甚至对经济学这样的人文学科也至关重要</li>
<li>数学能培养人的逻辑推理能力</li>
<li>学习数学可以提高你的阅读理解能力</li>
</ul>
<p><a id="orgfa36dab"></a></p>
<h2 id="32-大学学什么"><a href="#32-大学学什么" class="headerlink" title="32. 大学学什么"></a>32. 大学学什么</h2><ul>
<li>学习一生要用的科学常识和人文素养</li>
<li>学习做事情的方法，并掌握自我学习的能力</li>
<li>培养协作精神</li>
</ul>
<p><a id="orge508b46"></a></p>
<h2 id="33-选大学"><a href="#33-选大学" class="headerlink" title="33. 选大学"></a>33. 选大学</h2><ul>
<li>导师比学校重要</li>
<li>他不仅能让你在学术界迅速站稳脚跟，而且可能对你一辈子的职业发展都有帮助。</li>
<li>好的导师会告诉学生哪些事情不要做，这样就能给博士省很多时间。平庸的导师则要求学生按照自己的想法去做，这就抑制了学生的兴趣和创造力。</li>
<li>一个年轻的博士靠自己的努力被整个学术界认可，要花很长时间，甚至是不太可能的事情。</li>
</ul>
<p><a id="org0b2c978"></a></p>
<h2 id="34-科技论文技巧"><a href="#34-科技论文技巧" class="headerlink" title="34. 科技论文技巧"></a>34. 科技论文技巧</h2><ul>
<li>四部分必须写清楚<ul>
<li>问题的提出和前人的工作综述</li>
<li>自己的工作想得到什么样的结论</li>
<li>比较自己工作和相关工作的优劣</li>
<li>实验所用的数据，要尽可能地使用那些同行能够得到的。可比性对科学研究非常重要</li>
</ul>
</li>
</ul>
<p><a id="org71e468f"></a></p>
<h2 id="35-做事前不要过分算概率"><a href="#35-做事前不要过分算概率" class="headerlink" title="35. 做事前不要过分算概率"></a>35. 做事前不要过分算概率</h2><ul>
<li>在大学时，需要尝试自己喜欢做的事情。</li>
<li>只有很少的人每天所做的事情都是他们非常喜欢的工作。一个人是否会喜欢一件事，也是要尝试一下才知道的，特别是在年轻的时候。人的格局不能太小，不能完全用利益来衡量自己该做什么事情。</li>
<li>往前走，去闯/别灰心，继续闯/随缘，别后悔</li>
<li>年轻人在做任何决定之前应该做好准备，三思而行，但是对于想清楚的事情，做起来就不要犹豫。</li>
</ul>
<p><a id="org96fbe71"></a></p>
<h2 id="36-专业和业余的区别"><a href="#36-专业和业余的区别" class="headerlink" title="36. 专业和业余的区别"></a>36. 专业和业余的区别</h2><ul>
<li>专业特点<ul>
<li>发挥稳定</li>
<li>很好地控制自己的情绪</li>
<li>对小事处理认真</li>
<li>遵守流程规范</li>
<li>成体系的领域知识</li>
</ul>
</li>
</ul>
<p><a id="orga4971f6"></a></p>
<h2 id="38-服从是学会领导的第一步"><a href="#38-服从是学会领导的第一步" class="headerlink" title="38. 服从是学会领导的第一步"></a>38. 服从是学会领导的第一步</h2><ul>
<li>领导力从学会服从开始</li>
<li>当你没有接受过和执行过别人给你的命令时，很难理解被领导者的心理。</li>
<li>服从、合作、当好助手</li>
</ul>
<p><a id="orgaf7d62e"></a></p>
<h2 id="39-捡重要的先做"><a href="#39-捡重要的先做" class="headerlink" title="39. 捡重要的先做"></a>39. 捡重要的先做</h2><ul>
<li>事实上，你几乎没有时间做完所有需要完成的工作，因此只能捡最重要的先做。不要因为任务简单就开始干，遇到事情先要强迫自己慢三拍，想清楚任务的优先级，先去做那些特别重要的工作。这样才不会被大量简单重复的劳动占去全部时间，致使重要的工作没有时间做。公司里有一个词叫伪工作（pseudo work），就是指那些花了时间做却没有影响力的工作。</li>
</ul>
<p><a id="orge94a355"></a></p>
<h2 id="40-主动心态"><a href="#40-主动心态" class="headerlink" title="40. 主动心态"></a>40. 主动心态</h2><ul>
<li>所谓主动，就是指你有自己的想法和规划，并且随时和他进行沟通，得到他甚至其他同事的反馈。</li>
<li>公司里的工程师或者研究员通常不会像大学教授那样给你布置作业，并且给你细节指导，因为他们通常会忙于自己的工作。</li>
</ul>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 读书 </tag>
            
            <tag> 教育 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[2018 程序员节]]></title>
      <url>http://tommyjiang.github.io/2018/2018-10-24-first-coders-day/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
第一个程序员节
</div>

<a id="more"></a>
<p>2018.10.24，31 岁的我，度过了第一个程序员节。今天的北京艳阳高照，天暖宜人，有小阳春的感觉，也算应景。</p>
<p>我和代码的缘分，最早可以追溯到念小学的时候。当时家里买了一台裕兴学习机，可以用 Logo 语言画图，也能打游戏，可以改 BASIC 代码，不过当时我不会，都是我爸改的。</p>
<p>高中的时候，我也去听过一两节信息学竞赛课，其实就是计算机编程竞赛。当时教的语言是 PASCAL，老师号召买教材的时候，我还冲上去抢了一本，不到 20 块钱。由于初中没有任何基础，后来也就放弃了。</p>
<p>到了大学，开始正式接触编程。大一上的第一门课，就是五教 5103 的 C 语言，第一节课上，老师提到：<code>程序=数据结构+算法</code>，可惜当时我完全不理解这句话。有一节课老师教 printf 语句，要打印几行内容，临下课前还卖个关子，说其实有更简单的方法，后来我才知道所谓更简单的方法是用循环(loop)。大一小学期学了所谓的 C++，其实就等于把 C 的 struct 换成了 class，没学到什么 C++ 更深层的内容。 大二下，选修了 Java，同时也学 MATLAB，当时觉得 MATLAB 真好用，不用声明变量，可以直接做矩阵乘法，还有各种插值、优化算法，当然了，用的都是破解版。大二小学期学了 VHDL，被戏称为 Very hard language，主要用于控制 FPGA。</p>
<p>博士阶段，一年级下学期选修了数据结构，用 C 实现了马踏棋盘程序，用到了栈结构，当时没用贪心算法，试图暴力破解，发现完全不可能，才渐渐明白了<code>程序=数据结构+算法</code>这句话。博士用的最多的是仿真软件，包括 MATLAB/Simulink、PSCAD、PowerFactory，前两个分别对应 MATLAB 和 Fortran 语言，PF 最开始是自己的 DSL 语言，在大概 2014 年的时候开放了 API，可以通过 Python 调用。博士阶段我觉得做的最成功的一件事儿，就是用 Python 实现了 PF 和 MATLAB 的联合优化仿真，PF 负责计算电力系统动态，MATLAB/CPLEX 负责求解优化问题，Python 负责将两者连起来，当然了，即使实现了也没什么用，因为根本没人 care。</p>
<p>毕业到了电科院，和小哥在工作闲暇的时候用 Python 实现了数据爬虫和数据分析，还画了带区间交易量的 K 线图，虽然最后也没实际应用，但自己实现一个个功能的感觉还是很爽的，因为都是实实在在的，不像工作整天忽悠。当时不知道 Python 的 <code>pickle</code> 模块，每次读取结果都用 txt 格式，I/O 浪费了很多时间……</p>
<p>转行以后，主要用 Python 进行算法迭代和模型训练，C++ 写线上部署逻辑，虽然水平和周围 top 的同事比还有很大差距，但至少在不断积累了，希望以后能越来越好吧。</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Coding </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Google Scholar 0 引用文章邮件提醒]]></title>
      <url>http://tommyjiang.github.io/2018/2018-09-21-google-scholar-alert/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
继续学术。
</div>

<a id="more"></a>
<p>Google Scholar 是学术研究的有力助手，可以快速搜索文章，查看引用文献。有个很有用的功能是，当一篇文章有新引用的时候，自动发邮件提醒。</p>
<p>之前设置的提醒，都是针对已经有引用的文章，方法是直接点下面的 Cited by，再点左下角的 Create alert。今天想把最新的文章也设上提醒，发现没法直接点 Cited by，因为还没有引用，上 Stack Overflow 找到答案，记录如下。</p>
<ul>
<li>新建 Google Scholar Profile，已经有可跳过该步骤。</li>
<li>在自己的 Profile 页面，点中间的加号，选 Add articles。</li>
<li>搜索想要添加 alert 的文献，鼠标移到上面，右键，拷贝链接(Chrome 浏览器可用)。</li>
<li>将链接中，cluster= 后面的 20 位数字复制。</li>
<li>粘贴到 <code>https://scholar.google.com/scholar?oi=bibs&amp;hl=en&amp;cites=</code> 的最后面。</li>
<li>打开粘贴好的链接，可以 create alert 了。</li>
</ul>
]]></content>
      
        <categories>
            
            <category> 工作 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Trick </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[2018.09 微言]]></title>
      <url>http://tommyjiang.github.io/2018/2018-09-03-2018-09-weiyan/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
2018.09 微言
</div>

<a id="more"></a>
<span class="label label-primary">北京</span>
<span class="label label-info">2018-09-03 16:14:04</span>

<span class="label label-default"><a href="https://www.douban.com/people/tommyjiang/status/2216765808/" target="_blank" rel="noopener" style="color:#FFFFFF">豆瓣</a></span>

<blockquote>
<p>今天 9 点多坐地铁，人比往常少了不少，车厢都不挤了。8 月来北京游玩的外地小孩儿回家了，北京本地小孩儿今天一大早开学了，希望每天都能像今天这样，上班省不少力气。</p>
</blockquote>
<span class="label label-primary">深度学习</span>
<span class="label label-info">2018-09-05 15:56:55</span>

<span class="label label-default"><a href="https://www.douban.com/people/tommyjiang/status/2216765808/" target="_blank" rel="noopener" style="color:#FFFFFF">豆瓣</a></span>

<blockquote>
<p>看 ShuffleNet V2 论文看得热泪盈眶，这才是清华学生该有的论文水平。只要有合适的环境和领路人，清华人不会让人失望的，“压力之下，毫无惧色”，怕就怕入错行和跟错人。</p>
</blockquote>
<span class="label label-primary">转行</span>
<span class="label label-info">2018-09-25 20:02:57</span>

<span class="label label-default"><a href="https://www.douban.com/people/tommyjiang/status/2254012240/" target="_blank" rel="noopener" style="color:#FFFFFF">豆瓣</a></span>

<blockquote>
<p>看知乎的一个回答，说到“在中国的公务员体制内，制约成员升职的有两大因素，平台和背景”，深以为然。之前在电网基层单位，又没有背景加成，不转行难道坐以待毙么。</p>
</blockquote>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 微言 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[而立之年，成家立业]]></title>
      <url>http://tommyjiang.github.io/2018/2018-09-01-31-birthday/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
雄关漫道真如铁，而今迈步从头越。
</div>

<a id="more"></a>
<p>今年 8 月 31 号是我 30 岁的最后一天，当天适逢周五，当我 10 点半拖着疲惫的身躯回到家，打开门后，发现电视上显示着 happy birthday 的图片，老婆在家等我回来一起庆祝生日。</p>
<p>这次的生日礼物很特别，一共有三大件 + 一小件。</p>
<p>三大件的第一件，是我出生那天的光明日报。我看了头版的报道，是国家教委和劳动人事部联合发布通知，大学生毕业后要到基层见习一年。</p>
<p>三大件的第二件，是维舟老师亲笔签名的一本书《时钟突然拨快——生于 70 年代》。</p>
<p>三大件的最后一件，是我老婆亲手制作的 2018-2019 一整年的周历卡片。</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 生日 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[沉住气，还能翻]]></title>
      <url>http://tommyjiang.github.io/2018/2018-08-26-TI8/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
DotA 如人生。
</div>

<a id="more"></a>
<p>TI 8 决赛日的最后几天，本科博士同学群里也开始出现对中国队能否夺得总冠军，保住偶数年魔咒的讨论。从 DotA 1 上古时代(6.38-6.43)就开始玩的兄弟们，都希望 LGD 能够捍卫 CN DotA 的荣耀。</p>
<p>周日凌晨 1 点半看了 LGD 对 EG 败者组决赛第一局，结束之后实在太困了，睡了一觉起来看 LGD 对 OG 的总决赛4、5 两局。第四局 AME 水人的一个波浪怒送一波，还连累了 Maybe，第五局团灭之后不 Roshan，蝙蝠去抓先知扑了个空，送 OG 一个黑血 Ro，开局 18 比 4 的大优被翻盘，偶数年魔咒破灭。</p>
<p>我是 2007 年 9 月入坑，一直打到 2015 年博士毕业吧，一直打的 DotA 1。后面短暂地玩过 DotA 2 的乱战先锋模式，沙漠 15 人局，5 V 5 V 5，时间短，打得爽，不用操心补兵控线，属于过瘾型的。DotA 应该是目前电竞界奖金最高的游戏，也让无数玩家留下了青春记忆。最近又在家里的 iMac 上装了 D2，没事儿打打乱战先锋过过瘾。</p>
<p>优势稳，劣势拼，沉住气，还能翻。想当年拼了命一样读个博，却沦落为现在这样，只能沉住气，等待翻盘！玩局 DotA 也能联想到人生，这大概就是这个游戏的魅力吧。</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> DotA </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[2018.08 微言]]></title>
      <url>http://tommyjiang.github.io/2018/2018-08-15-2018-08-weiyan/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
2018.08 微言
</div>

<a id="more"></a>
<p>微言，有微言大义和人微言轻两方面意思，用来记录我自己的一些想法。</p>
<span class="label label-primary">深度学习</span>
<span class="label label-info">2018-08-15 13:54:09</span>

<span class="label label-default"><a href="https://www.douban.com/people/tommyjiang/status/2216765808/" target="_blank" rel="noopener" style="color:#FFFFFF">豆瓣</a></span>

<blockquote>
<p>在看南大魏秀参博士写的《解析卷积神经网络 深度学习实践手册》。都是博士，差距咋这么大呢……之前学了 LaTeX，倒是可以写类似的小册子，可惜我自己对老本行没什么热情——受众少，圈子又封闭……人生目标加一项：写本书，而且自序里必须感谢老婆的支持。</p>
</blockquote>
<span class="label label-primary">博士不如狗</span>
<span class="label label-info">2018-08-15 19:28:10</span>

<span class="label label-default"><a href="https://www.douban.com/people/tommyjiang/status/2217097075/" target="_blank" rel="noopener" style="color:#FFFFFF">豆瓣</a></span>

<blockquote>
<p>转行了，想办个浦发的AE白，网申和线下专员进件都被秒拒，同事收到卡还过来和我通报了一声……又被老婆嘲笑了，其实也就接送机和积分换里程还有点用处，等我以后挣钱的，一句话送给猴子行：“今天对我爱搭不理，明天让你高攀不起。”</p>
</blockquote>
<span class="label label-primary">博士不如狗</span>
<span class="label label-info">2018-08-15 19:34:46</span>

<span class="label label-default"><a href="https://www.douban.com/people/tommyjiang/status/2217104210/" target="_blank" rel="noopener" style="color:#FFFFFF">豆瓣</a></span>

<blockquote>
<p>看好声音迷上了李健，今天看了我想和你唱第三季第10集，嘉宾就是李健。现场邀请了长郡中学的四名报送清华北大的学生，分别进了清华物理系，清华经管学院，清华交叉信息研究员和北大化学学院。祝物理和化学的小同学一切顺利吧，你们应该没上过知乎，都是劝退专业……</p>
</blockquote>
<span class="label label-primary">深度学习</span>
<span class="label label-info">2018-08-21 19:25:37</span>

<span class="label label-default"><a href="https://www.douban.com/people/tommyjiang/status/2217104210/" target="_blank" rel="noopener" style="color:#FFFFFF">豆瓣</a></span>

<blockquote>
<p>本来想整理深度学习论文笔记，发现还是要搞清目标人群。如果是科普性质的，就是主要写给不会的人，确实太难了。看论文时间如果是1小时，写笔记的时间至少得2小时。深度学习入门的课程基本都是美国著名高校的，国内的老师大多忙着捞钱，没人有闲工夫愿意搞这些看似没用的教学工作。</p>
</blockquote>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 微言 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[笑兔美食杂记]]></title>
      <url>http://tommyjiang.github.io/2018/2018-08-04-restaurant-I/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
逛吃逛吃
</div>

<a id="more"></a>
<h1 id="不是烧烤-马连道店"><a href="#不是烧烤-马连道店" class="headerlink" title="不是烧烤(马连道店)"></a>不是烧烤(马连道店)</h1><p>时间:2018.08.04 19:00-20:00</p>
<p>难得的周末，LTE 到不是烧烤(马连道店)周末 happy。这家店号称汉口老味道，纯肉串一般(瘦肉串、蜜汁小排)，猪蹄、鸡爪、大蒜五花肉和蔬菜还可以。</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 美食 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[RMBP 更换电池记]]></title>
      <url>http://tommyjiang.github.io/2018/2018-08-01-RMBP-change-battery/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
喜提苹果电脑一台
</div>

<a id="more"></a>
<p>用了三年半的 Mac，前几天右下角的螺丝突然掉出来了，发现后盖明显凸出。从外面苹果手机维修小哥那花 5 块买了个梅花改锥，打开后盖看看，手法不行还把一颗螺丝拧花了……发现电池明显鼓胀，也到年头该换了。</p>
<p>网上看很多人都是自己买电池换的，动手能力一向不行的我本来想尝试一下，后来又看到网上有换电池冒烟的<a href="https://v.youku.com/v_show/id_XOTQ0NTQ4ODA0.html">视频</a>，果断决定在苹果官方天才吧(网上调侃称蠢材吧)换。</p>
<ul>
<li>2018.8.1 老婆帮把 RMBP 送至西单大悦城苹果店。</li>
<li>2018.8.3 上午9点接到苹果店电话，已经换好可取，果断上班路上顺道去喜提，RMB 1475，把键盘、触控板、电池整个都换了，感觉焕然一新。</li>
</ul>
<p>苹果店喜提留念：</p>
<p><img src="/images/2018/2018-08-03-喜提RMBP.jpeg" alt=""></p>
<p>到单位后本来想留个电池循环计数为 0 的图片留念，但开机时卡在进度条画面打不开，插上电源折腾了一会儿才打开，只能留下循环计数为 1 的图了：</p>
<p><img src="/images/2018/2018-08-03-循环计数1.png" alt=""></p>
<p>这台电脑2年前曾经去换过屏幕(<a href="https://tommyjiang.github.io/2016/2016-08-28-Apple-xidan-joy-city-retina-display/">链接</a>)，争取这台电脑再用三年！</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Mac </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[大厨新作：肘子卷饼]]></title>
      <url>http://tommyjiang.github.io/2018/2018-07-23-pancake-shank/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
大厨创意新作，一如既往地高水准。
</div>

<a id="more"></a>
<p>周末到眉州东坡吃饭，点了招牌的东坡肘子，不太受欢迎，剩了不少。大厨当时建议点中份，我坚持点大份，作为直接责任人负责回来继续消灭。</p>
<p>但是现在每天上班中午和晚上都在单位吃，只能早上消灭，肘子又这么腻……还要大厨及时出马，想出了肘子卷饼的吃法。</p>
<p>肘子卷饼模仿春饼的做法，用小薄饼卷肘子、鸡蛋、黄瓜和小葱，大厨又创造性地加入了榨菜，使口感清爽，也可以中和肘子的油腻。用了四天，终于消灭了带回来的肘子。</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 大厨 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Emacs Lisp 计算数九天和伏天]]></title>
      <url>http://tommyjiang.github.io/2018/2018-07-18-lisp-cal-china/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
第一个用 Emacs Lisp 实现的小功能。
</div>

<a id="more"></a>
<p>Lisp 诞生于 1958 年，发明人是 John McCarthy，是目前仍在使用的第二古老的高级语言(最早的是 Fortran，诞生于 1957 年)。</p>
<p>Lisp 来源于 <code>LISt Processing</code>(有调侃说是 <code>Lots of Isolated Stupid Parentheses</code>)，这个古老的语言和目前主流语言例如 C++，Python 和 Java 等有显著区别，下面是一段代码示例：</p>
<pre class="line-numbers language-elisp" data-language="elisp"><code class="language-elisp"><span class="token punctuation">(</span><span class="token defun"><span class="token keyword">defun</span> <span class="token function">cal-china-x-winter-solstice-date</span> <span class="token punctuation">(</span><span class="token arguments"><span class="token argument variable">date</span></span><span class="token punctuation">)</span></span>
  <span class="token string">"Return winter solstice(冬至) date in Gregorian form.

If <span class="token argument">MONTH</span> = 12, return current year's date
Else return last year's date"</span>
  <span class="token punctuation">(</span><span class="token keyword">let*</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token car">cyear</span> <span class="token punctuation">(</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token car">=</span> <span class="token punctuation">(</span><span class="token car">calendar-extract-month</span> date<span class="token punctuation">)</span> <span class="token number">12</span><span class="token punctuation">)</span>
                    <span class="token punctuation">(</span><span class="token car">calendar-extract-year</span> date<span class="token punctuation">)</span>
                  <span class="token punctuation">(</span><span class="token car">1-</span> <span class="token punctuation">(</span><span class="token car">calendar-extract-year</span> date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">(</span><span class="token car">car</span> <span class="token punctuation">(</span><span class="token car">rassoc</span> '<span class="token string">"冬至"</span> <span class="token punctuation">(</span><span class="token car">cal-china-x-solar-term-alist-new</span> cyear<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>Emacs</code> 也许是用 Lisp 编写的最著名的软件了。<code>Emacs</code> 自带了日历功能，<a href="https://github.com/xwl/cal-china-x"><code>cal-china-x</code></a> 扩展实现了阴历、节气、生肖等的计算，但没有实现数九天和伏天的计算功能。正好借这个机会实现下功能，练练手。</p>
<h1 id="数九天计算"><a href="#数九天计算" class="headerlink" title="数九天计算"></a>数九天计算</h1><p>数九天的计算相对比较简单。从冬至当天开始算一九第一天，每过九天加一九，一直到九九第九天。</p>
<p>思路也比较清楚，对于某一个 <code>date</code>，先计算其与冬至的天数差。由于冬至始终在阳历的十二月，因此可以分情况讨论：</p>
<ul>
<li>阳历非十二月，计算与去年冬至的天数差。</li>
<li>阳历为十二月，计算与今年冬至的天数差。此时若 <code>date</code> 在冬至前则差为负数，但负数情况可以不管，因为不属于数九天。</li>
</ul>
<p>如果天数差在 0~80 天内，则需要显示数九天，具体显示格式为<code>一九(1)</code>，整个代码如下：<br><pre class="line-numbers language-lisp" data-language="lisp"><code class="language-lisp"><span class="token punctuation">(</span><span class="token defvar"><span class="token keyword">defconst</span> <span class="token variable">cal-china-x-nine-characters</span></span>  <span class="token comment">; 数九天 array</span>
  <span class="token punctuation">[</span><span class="token string">"一九"</span> <span class="token string">"二九"</span> <span class="token string">"三九"</span> <span class="token string">"四九"</span> <span class="token string">"五九"</span> <span class="token string">"六九"</span> <span class="token string">"七九"</span> <span class="token string">"八九"</span> <span class="token string">"九九"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token defun"><span class="token keyword">defun</span> <span class="token function">cal-china-x-winter-solstice-date</span> <span class="token punctuation">(</span><span class="token arguments"><span class="token argument variable">date</span></span><span class="token punctuation">)</span></span>  <span class="token comment">; 计算冬至日期(1-11月为去年，12月为今年)</span>
  <span class="token string">"Return winter solstice(冬至) date in Gregorian form.

If <span class="token argument">MONTH</span> = 12, return current year's date
Else return last year's date"</span>
  <span class="token punctuation">(</span><span class="token keyword">let*</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token car">cyear</span> <span class="token punctuation">(</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token car">=</span> <span class="token punctuation">(</span><span class="token car">calendar-extract-month</span> date<span class="token punctuation">)</span> <span class="token number">12</span><span class="token punctuation">)</span>
                    <span class="token punctuation">(</span><span class="token car">calendar-extract-year</span> date<span class="token punctuation">)</span>
                  <span class="token punctuation">(</span><span class="token car">1-</span> <span class="token punctuation">(</span><span class="token car">calendar-extract-year</span> date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">(</span><span class="token car">car</span> <span class="token punctuation">(</span><span class="token car">rassoc</span> '<span class="token string">"冬至"</span> <span class="token punctuation">(</span><span class="token car">cal-china-x-solar-term-alist-new</span> cyear<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token defun"><span class="token keyword">defun</span> <span class="token function">winter-solstice-day-diff</span> <span class="token punctuation">(</span><span class="token arguments"><span class="token argument variable">date</span></span><span class="token punctuation">)</span></span>  <span class="token comment">; 计算与指定冬至的天数差</span>
  <span class="token punctuation">(</span><span class="token car">cal-china-x-days-diff</span> date <span class="token punctuation">(</span><span class="token car">cal-china-x-winter-solstice-date</span> date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token defun"><span class="token keyword">defun</span> <span class="token function">cal-china-x-get-several-nines-string</span> <span class="token punctuation">(</span><span class="token arguments"><span class="token argument variable">date</span></span><span class="token punctuation">)</span></span>  <span class="token comment">; 生成数九天的 string</span>
  <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token car">daygap</span> <span class="token punctuation">(</span><span class="token car">winter-solstice-day-diff</span> date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">(</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">or</span> <span class="token punctuation">(</span><span class="token car">&lt;</span> daygap <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token car">></span> daygap <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token string">""</span>
      <span class="token punctuation">(</span><span class="token keyword">concat</span> <span class="token punctuation">(</span><span class="token car">aref</span> cal-china-x-nine-characters <span class="token punctuation">(</span><span class="token car">/</span> daygap <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
              <span class="token string">"("</span>
              <span class="token punctuation">(</span><span class="token car">number-to-string</span> <span class="token punctuation">(</span><span class="token car">1+</span> <span class="token punctuation">(</span><span class="token car">%</span> daygap <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
              <span class="token string">")"</span>
              <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>
<h1 id="伏天计算"><a href="#伏天计算" class="headerlink" title="伏天计算"></a>伏天计算</h1><p>民间有“头伏饺子二伏面，三伏烙饼摊鸡蛋”的习俗，看到这么多面食可以判断这基本是华北、黄淮一带的风俗。伏天计算比较复杂，原因是涉及到两个节气(夏至和立秋)，以及每日的干支。具体计算方法是：</p>
<blockquote>
<p>从夏至开始，依照干支纪日的排列，第3个庚日出现时，为初伏第一天(夏至三庚数头伏)，第4个庚日为中伏第一天，立秋后第1个庚日为末伏第一天。当夏至与立秋之间出现4个庚日时中伏为10天，出现5个庚日则为20天。</p>
</blockquote>
<pre class="line-numbers language-lisp" data-language="lisp"><code class="language-lisp"><span class="token punctuation">(</span><span class="token defun"><span class="token keyword">defun</span> <span class="token function">cal-china-x-solar-term-date</span> <span class="token punctuation">(</span><span class="token arguments"><span class="token argument variable">date</span> <span class="token argument variable">solar-term</span></span><span class="token punctuation">)</span></span>
  <span class="token string">"Return solar-term date in Gregorian form."</span>
  <span class="token punctuation">(</span><span class="token keyword">let*</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token car">cyear</span> <span class="token punctuation">(</span><span class="token car">calendar-extract-year</span> date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">(</span><span class="token car">car</span> <span class="token punctuation">(</span><span class="token car">rassoc</span> solar-term <span class="token punctuation">(</span><span class="token car">cal-china-x-solar-term-alist-new</span> cyear<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token defun"><span class="token keyword">defun</span> <span class="token function">cal-china-x-chinese-day-celestial-stem-number</span> <span class="token punctuation">(</span><span class="token arguments"><span class="token argument variable">date</span></span><span class="token punctuation">)</span></span>
  <span class="token string">"String of Chinese date of Gregorian <span class="token argument">DATE</span>.
Defaults to today's date if <span class="token argument">DATE</span> is not given."</span>
  <span class="token punctuation">(</span><span class="token keyword">let*</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token car">a-date</span> <span class="token punctuation">(</span><span class="token car">calendar-absolute-from-gregorian</span> date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">(</span><span class="token car">%</span> <span class="token punctuation">(</span><span class="token car">+</span> a-date <span class="token number">15</span><span class="token punctuation">)</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token defun"><span class="token keyword">defun</span> <span class="token function">cal-china-x-solar-term-celestical-stem</span> <span class="token punctuation">(</span><span class="token arguments"><span class="token argument variable">date</span> <span class="token argument variable">solar-term</span></span><span class="token punctuation">)</span></span>
  <span class="token punctuation">(</span><span class="token car">cal-china-x-chinese-day-celestial-stem-number</span>
   <span class="token punctuation">(</span><span class="token car">cal-china-x-solar-term-date</span> date solar-term<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token defun"><span class="token keyword">defun</span> <span class="token function">cal-china-x-day-diff-from-solar-term</span> <span class="token punctuation">(</span><span class="token arguments"><span class="token argument variable">date</span> <span class="token argument variable">solar-term</span></span><span class="token punctuation">)</span></span> <span class="token comment">; 庚日</span>
  <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token car">ss-stem</span> <span class="token punctuation">(</span><span class="token car">-</span> <span class="token number">7</span> <span class="token punctuation">(</span><span class="token car">cal-china-x-solar-term-celestical-stem</span> date solar-term<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">(</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token car">&lt;</span> ss-stem <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token car">+</span> ss-stem <span class="token number">10</span><span class="token punctuation">)</span>
      ss-stem<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token defun"><span class="token keyword">defun</span> <span class="token function">cal-china-x-chufu-date</span> <span class="token punctuation">(</span><span class="token arguments"><span class="token argument variable">date</span></span><span class="token punctuation">)</span></span>
  <span class="token punctuation">(</span><span class="token keyword">let*</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token car">ss-date</span> <span class="token punctuation">(</span><span class="token car">cal-china-x-solar-term-date</span> date <span class="token string">"夏至"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
         <span class="token punctuation">(</span><span class="token car">ss-year</span> <span class="token punctuation">(</span><span class="token car">calendar-extract-year</span> ss-date<span class="token punctuation">)</span><span class="token punctuation">)</span>
         <span class="token punctuation">(</span><span class="token car">ss-day</span> <span class="token punctuation">(</span><span class="token car">calendar-extract-day</span> ss-date<span class="token punctuation">)</span><span class="token punctuation">)</span>
         <span class="token punctuation">(</span><span class="token car">day-diff</span> <span class="token punctuation">(</span><span class="token car">+</span> <span class="token number">20</span> <span class="token punctuation">(</span><span class="token car">cal-china-x-day-diff-from-solar-term</span> date <span class="token string">"夏至"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
         <span class="token punctuation">(</span><span class="token car">chufu-day</span> <span class="token punctuation">(</span><span class="token car">-</span> day-diff <span class="token punctuation">(</span><span class="token car">-</span> <span class="token number">30</span> ss-day<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">(</span><span class="token car">list</span> <span class="token number">7</span> chufu-day ss-year<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token defun"><span class="token keyword">defun</span> <span class="token function">cal-china-x-zhongfu-date</span> <span class="token punctuation">(</span><span class="token arguments"><span class="token argument variable">date</span></span><span class="token punctuation">)</span></span>
  <span class="token punctuation">(</span><span class="token car">list</span> <span class="token number">7</span> <span class="token punctuation">(</span><span class="token car">+</span> <span class="token punctuation">(</span><span class="token car">calendar-extract-day</span> <span class="token punctuation">(</span><span class="token car">cal-china-x-chufu-date</span> date<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token number">10</span><span class="token punctuation">)</span>
        <span class="token punctuation">(</span><span class="token car">calendar-extract-year</span> date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token defun"><span class="token keyword">defun</span> <span class="token function">cal-china-x-mofu-date</span> <span class="token punctuation">(</span><span class="token arguments"><span class="token argument variable">date</span></span><span class="token punctuation">)</span></span>
  <span class="token punctuation">(</span><span class="token keyword">let*</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token car">ss-date</span> <span class="token punctuation">(</span><span class="token car">cal-china-x-solar-term-date</span> date <span class="token string">"立秋"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
         <span class="token punctuation">(</span><span class="token car">ss-year</span> <span class="token punctuation">(</span><span class="token car">calendar-extract-year</span> ss-date<span class="token punctuation">)</span><span class="token punctuation">)</span>
         <span class="token punctuation">(</span><span class="token car">ss-day</span> <span class="token punctuation">(</span><span class="token car">calendar-extract-day</span> ss-date<span class="token punctuation">)</span><span class="token punctuation">)</span>
         <span class="token punctuation">(</span><span class="token car">day-diff</span> <span class="token punctuation">(</span><span class="token car">cal-china-x-day-diff-from-solar-term</span> date <span class="token string">"立秋"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
         <span class="token punctuation">(</span><span class="token car">mofu-day</span> <span class="token punctuation">(</span><span class="token car">+</span> day-diff ss-day<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">(</span><span class="token car">list</span> <span class="token number">8</span> mofu-day ss-year<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token defun"><span class="token keyword">defun</span> <span class="token function">cal-china-x-get-futian-string</span> <span class="token punctuation">(</span><span class="token arguments"><span class="token argument variable">date</span></span><span class="token punctuation">)</span></span>
  <span class="token punctuation">(</span><span class="token keyword">let*</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token car">chufu</span> <span class="token punctuation">(</span><span class="token car">cal-china-x-chufu-date</span> date<span class="token punctuation">)</span><span class="token punctuation">)</span>
         <span class="token punctuation">(</span><span class="token car">zhongfu</span> <span class="token punctuation">(</span><span class="token car">cal-china-x-zhongfu-date</span> date<span class="token punctuation">)</span><span class="token punctuation">)</span>
         <span class="token punctuation">(</span><span class="token car">mofu</span> <span class="token punctuation">(</span><span class="token car">cal-china-x-mofu-date</span> date<span class="token punctuation">)</span><span class="token punctuation">)</span>
         <span class="token punctuation">(</span><span class="token car">chufu-gap</span> <span class="token punctuation">(</span><span class="token car">cal-china-x-days-diff</span> date chufu<span class="token punctuation">)</span><span class="token punctuation">)</span>
         <span class="token punctuation">(</span><span class="token car">zhongfu-gap</span> <span class="token punctuation">(</span><span class="token car">cal-china-x-days-diff</span> date zhongfu<span class="token punctuation">)</span><span class="token punctuation">)</span>
         <span class="token punctuation">(</span><span class="token car">mofu-gap</span> <span class="token punctuation">(</span><span class="token car">cal-china-x-days-diff</span> date mofu<span class="token punctuation">)</span><span class="token punctuation">)</span>
         <span class="token punctuation">)</span>
    <span class="token punctuation">(</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">or</span> <span class="token punctuation">(</span><span class="token car">&lt;</span> chufu-gap <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token car">></span> mofu-gap <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token string">""</span>
      <span class="token punctuation">(</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token car">>=</span> chufu-gap <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token car">&lt;</span> zhongfu-gap <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
          <span class="token punctuation">(</span><span class="token keyword">concat</span> <span class="token string">"初伏("</span>
                  <span class="token punctuation">(</span><span class="token car">number-to-string</span> <span class="token punctuation">(</span><span class="token car">1+</span> chufu-gap<span class="token punctuation">)</span><span class="token punctuation">)</span>
                  <span class="token string">")"</span><span class="token punctuation">)</span>
        <span class="token punctuation">(</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token car">>=</span> zhongfu-gap <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token car">&lt;</span> mofu-gap <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">(</span><span class="token keyword">concat</span> <span class="token string">"中伏("</span>
                    <span class="token punctuation">(</span><span class="token car">number-to-string</span> <span class="token punctuation">(</span><span class="token car">1+</span> zhongfu-gap<span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token string">")"</span><span class="token punctuation">)</span>
          <span class="token punctuation">(</span><span class="token keyword">concat</span> <span class="token string">"末伏("</span>
                  <span class="token punctuation">(</span><span class="token car">number-to-string</span> <span class="token punctuation">(</span><span class="token car">1+</span> mofu-gap<span class="token punctuation">)</span><span class="token punctuation">)</span>
                  <span class="token string">")"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>注意如果夏至当天是庚日，则算第一个庚日，相当于初伏在夏至20天之后。</p>
<p>另外，<code>cal-china-x</code> 中月和日的天干地支计算有点问题，需要用 <code>Emacs</code> 自带的计算。</p>
]]></content>
      
        <categories>
            
            <category> Geek </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Lisp </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[2018 世界杯]]></title>
      <url>http://tommyjiang.github.io/2018/2018-07-16-2018-world-cup/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
成王败寇。
</div>

<a id="more"></a>
<p>2018 年世界杯结束了。</p>
<p>决赛和老婆在家附近的串吧看的，我本人是希望克罗地亚赢，因为我支持的比利时在半决赛被法国干掉了。第一次和老婆见面的时候，我问她喜欢哪个球队，她说德国队，我就说比利时挺厉害的，球员身价加起来很高。半决赛的时候，我还半夜爬起来看了下半场最后 20 分钟的比赛，表达对比利时的支持。看到比赛最后，姆巴佩在比利时球权的时候把球往场内带，也是气得够呛，不过最后比利时还是 0:1 憾负。</p>
<p>决赛踢到 4:1 的时候其实就已经失去了悬念，要不是洛里玩火可能会是近几十年最悬殊的决赛比分。虽然法国踢得不好看，但是成王败寇，功利足球最终拿到了冠军，只能祝比利时在两年后的欧洲杯好运了。</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 足球 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[从头再来]]></title>
      <url>http://tommyjiang.github.io/2018/2018-07-01-new-start/</url>
      <content type="html"><![CDATA[
<div class="alert alert-info"><i class="fa fa-info"></i>
2006-2018，从头再来。
</div>

<a id="more"></a>
<p>今天是 2018 年下半年的第一天。</p>
<p>昨天晚上结束的世界杯八分之一决赛，31 岁的梅西率领的阿根廷在八分之一决赛被法国队 4:3 淘汰，球迷期待的梅罗世界杯对决终究没能成为现实，这也很可能是梅西的最后一场世界杯比赛了。</p>
<p>时间回到 2006 年 6 月 16 日，梅西的第一场世界杯比赛，段暄的解说：</p>
<blockquote>
<p>19 号梅西准备上场了，小将梅西迎来了他世界杯的第一场比赛。在下半场比赛进行到将近 30 分钟的时候，佩克尔曼给了梅西参加世界杯的机会。马拉多纳也是为梅西的上场而振臂高呼，这是阿根廷队新一代的偶像。</p>
</blockquote>
<p>2006-2018，12 年的时间，梅西经过了四届世界杯。2014 年决赛 0:1 输给德国，那是他离冠军最近的一次。花有重开日，人无再少年，足球是竞技体育最具代表性的运动，技术和天赋也没法弥补年龄大了导致的体力不足，梅西昨晚精彩的人球分过之后也无力再奉献一记劲射，只能遗憾出局。</p>
<p>12 年前的 6 月 8 号，我高考完回家看德国世界杯揭幕战，第二天和小道一起在家看 NBA 总决赛，小牛对热火，当时他支持的是小牛，因为后卫是特里(Terry)。时间过了一旬，我又回到了原点，今天回家准备材料，明天到公司签合同入职。</p>
<p>现在我做的工作是计算机视觉相关的，需要打交道的是图像，而这本来是我最不擅长的。幼儿园的时候报兴趣班，有音乐和美术可以选，我选的音乐，其实就是电子琴。结果花了爸妈 2 个月工资买了一个电子琴，没学 2 个月就闲置了，原因是幼儿园说不挣钱不办了。初中时候上美术课，老师先讲了徐悲鸿喜欢画马，然后问大家知不知道黄冑喜欢画什么，我正和同学说话没听课，随口说了“驴”，没想到竟然蒙对了。造化弄人，对美术最没兴趣的我现在竟然天天要和图片打交道。</p>
<p>2006 年高考我进了清华电机系，到今天算彻底告别了电力行业，完成了个人的转型。用刘欢老师的一首歌《从头再来》自勉吧：</p>
<blockquote>
<p>昨天所有的荣誉<br>已变成遥远的回忆<br>辛辛苦苦已度过半生<br>今夜重又走进风雨<br>我不能随波浮沉<br>为了我挚爱的亲人<br>再苦再难也要坚强<br>只为那些期待眼神</p>
<p>心若在梦就在<br>天地之间还有真爱<br>看成败人生豪迈<br>只不过是从头再来</p>
</blockquote>
]]></content>
      
        <categories>
            
            <category> 工作 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> CS </tag>
            
            <tag> CV </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[2018 端午港澳行]]></title>
      <url>http://tommyjiang.github.io/2018/2018-05-20-HK-Macau/</url>
      <content type="html"><![CDATA[<p>再游珠三角。</p>
<a id="more"></a>
<!-- markdown-toc start - Don't edit this section. Run M-x markdown-toc-refresh-toc -->
<p><strong>Table of Contents</strong></p>
<ul>
<li><a href="#行程安排">行程安排</a><ul>
<li><a href="#2018-06-16">2018-06-16</a><ul>
<li><a href="#北京">北京</a></li>
<li><a href="#深圳">深圳</a></li>
<li><a href="#香港">香港</a></li>
</ul>
</li>
<li><a href="#2018-06-17">2018-06-17</a></li>
<li><a href="#2018-06-18">2018-06-18</a></li>
<li><a href="#2018-06-19">2018-06-19</a></li>
</ul>
</li>
</ul>
<!-- markdown-toc end -->
<h1 id="行程安排"><a href="#行程安排" class="headerlink" title="行程安排"></a>行程安排</h1><h2 id="2018-06-16"><a href="#2018-06-16" class="headerlink" title="2018-06-16"></a>2018-06-16</h2><h3 id="北京"><a href="#北京" class="headerlink" title="北京"></a>北京</h3><ul>
<li>早饭：早 8:00 出发，李小丰解决早餐。</li>
<li>值机：10:10 到首都机场准备值机，需要办理行李托运和登机牌，不需要打印行程单。</li>
<li>安检：头等舱过优先安检，支付宝送一次 CIP 服务，也可以直接过安检。</li>
</ul>
<h3 id="深圳"><a href="#深圳" class="headerlink" title="深圳"></a>深圳</h3><p>地铁：下午 4 点前降落，机场坐 11 号线，后海站换 2 号线，登良站 A 口出，后海滨路口转 m299/m506 路，坐 1 站到深圳湾口岸下车。<br>过关：深圳湾口岸排队过关，提前准备好港澳通行证</p>
<h3 id="香港"><a href="#香港" class="headerlink" title="香港"></a>香港</h3><p>深圳湾——尖沙咀：过关后坐 B2 路到元朗站，西铁线到尖东 Airbnb 房间入住，稍事休息前往港岛。</p>
<ul>
<li>九记牛腩：名不虚传，外面排的队都到台阶下面了，盛的碗看上去不大，吃一碗还挺饱的。</li>
<li>桥底辣蟹：湾仔骆克道，3 家挨着，点了中份蟹，炸蒜味道不错。</li>
</ul>


<table border="1px" align="center">
  <tr>
    <th style="text-align:center">序号</th>
    <th style="text-align:center">名称</th>
    <th style="text-align:center">地址</th>
    <th style="text-align:center">营业时间</th>
  </tr>
  <tr>
    <td style="text-align:center">1</td>
    <td style="text-align:center">九记牛腩</td>
    <td style="text-align:center">上环 A2 口 歌赋街 21 号</td>
    <td style="text-align:center">12:30-22:30</td>
  </tr>
  <tr>
    <td style="text-align:center">2</td>
    <td style="text-align:center">桥底辣蟹</td>
    <td style="text-align:center">铜锣湾 C 口，骆克道 421-425 号</td>
    <td style="text-align:center">18:00-06:00</td>
  </tr>
</table>

<br />

<div style="min-height: 500px; width: 100%;" id="6-16"></div>

<script type="text/javascript" src="https://webapi.amap.com/maps?v=1.4.4&key=78b4d9401faf42bd388b9bbf4aa3bfd0"></script>

<script>
    var map = new AMap.Map('6-16', {
        resizeEnable: true,
        center: [114.179851,22.2931], // 尖东
        zoom: 13
    });

    map.clearMap();  // 清除地图覆盖物

    var markers = [{
        position: [114.157536,22.281589],
        label: '九记牛腩'
    }, {
        position: [114.185632,22.27748],
        label: '桥底辣蟹'
    }
    ];

    var infoWindow = new AMap.InfoWindow({offset: new AMap.Pixel(0, -30)});
    for (var i = 0, marker; i < markers.length; i++) {
        var marker = new AMap.Marker({
            icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b' + (i+1).toString() + '.png',
            position: markers[i].position,
            map: map,
            offset: new AMap.Pixel(0, -46),
            clickable: true
        });

        marker.content = markers[i].label
        marker.on('click', markerClick);
        marker.emit('click', {target: marker});
    }

    function markerClick(e) {
        infoWindow.setContent(e.target.content);
        infoWindow.open(map, e.target.getPosition());
    }

    // map.setFitView();
</script>


<h2 id="2018-06-17"><a href="#2018-06-17" class="headerlink" title="2018-06-17"></a>2018-06-17</h2><p>香港美食 + 购物</p>
<ul>
<li>海港城购物：专柜多，人也多，资生堂专柜断货，到旁边的崇光 SOGO 资生堂专柜，下次可以考虑到西九龙圆方。</li>
<li>Lady M：</li>
<li>稻香：</li>
<li>一兰拉面：</li>
</ul>
<p>香港——澳门：上环港澳码头——澳门氹仔码头，做银河免费巴士到银河，前台寄存行李，然后步行到官也街吃晚饭。晚饭后到威尼斯人赌场看看，结束后坐巴士回酒店 check in</p>
<h2 id="2018-06-18"><a href="#2018-06-18" class="headerlink" title="2018-06-18"></a>2018-06-18</h2><ul>
<li>早餐：新鸿发茶餐厅吃早午餐</li>
<li>中午：新葡京酒店赌场地下一层寄存行李，然后到新马路、大三巴逛</li>
<li>晚餐：失误，没有提前查好，去了一个本地葡国菜茶餐厅</li>
<li>返程：外港码头——深圳蛇口港，下车没零钱，蹭了接驳大巴到蛇口港站，2 号线 2 站到水湾站下车入住 Airbnb</li>
<li>夜宵：南水村无国界烧烤</li>
</ul>
<h2 id="2018-06-19"><a href="#2018-06-19" class="headerlink" title="2018-06-19"></a>2018-06-19</h2><p>Airbnb - 点都德：m518 蛇口戏院-学府中学</p>
<p>点都德：海岸城店，南山区海德三道199号天利中央广场F3，可以吃到 11 点半。</p>
<p>点都德-机场：步行至 11 号线后海站，坐 11 号线到 机场，约 50 分钟。</p>
<p>返程：深圳-石家庄 9C8906 14:40-17:35，提前2小时到宝安机场，12 点 40 之前到。降落后坐摆渡车到高铁正定机场站，乘坐 G6710 21:05 正定机场-北京西返京，回家看球。</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 香港 </tag>
            
            <tag> 澳门 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Linus 自传读后感]]></title>
      <url>http://tommyjiang.github.io/2018/2018-05-15-linus/</url>
      <content type="html"><![CDATA[<p>Talk is cheap, show me the code.</p>
<a id="more"></a>
<p>最近读完了 Linux 和 git 的作者 Linus Torvalds 的自传，很喜欢他书里的一些话，做个摘录，也写写我的体会。</p>
<blockquote>
<p>坦白说，我对 Unix 的热情从来没有淡过，我希望你们也能对某些事情说出同样的话。(Frankly, it’s never subsided. I hope you can say the same about something.)</p>
</blockquote>
<p>对一件事情有热情，有兴趣，是做好一件事最基本的前提。很多人做的工作都是自己不喜欢的，甚至不认可的，这样怎么能把工作做好呢？我之前在电网工作的时候，上班和上坟一样，想做点成果吧，觉得当领导也不靠这个，没动力；和其他单位沟通吧，啥都不愿意告诉你，一共就这么多精力还被各种开会扯淡消耗了一大半。出来之后感觉做的东西至少是看得见摸得着的，CV 也有很多开源的东西可以学习。</p>
<blockquote>
<p>但我偏不，我就是想要高配。(But no, I wanted top of the line.)</p>
</blockquote>
<p>这点和我特别像，处女座的完美主义倾向，什么都想要最好的。工作的时候想做得好一点是优点，生活中就得注意点了，容易吹毛求疵惹人讨厌。</p>
<blockquote>
<p>我发布操作系统的一个主要原因，是为了证明我不是在说大话，我是实实在在做了这件事。(One of the main reasons I distributed the operating system was to prove that it wasn’t all just hot air, that I had actually done something.)</p>
</blockquote>
<p>Linux 现在肯定是开源世界里最知名的产品了，Linus 也希望得到别人的认可，不想被别人怀疑光说不做。联想到之前的电气行业，研究的学者都把模型捂得严严实实的，这种氛围是做不出好的研究的。科研文章中也有很多是无法复现的，让别人认可的前提是别人得相信你做的东西是真的，这样自己也能获得成就感。</p>
<blockquote>
<p>作为领导者，最好最有效的做事方法，并不是让下属去完成领导吩咐的工作，而是让他们做真正想做的工作。好的领导者自己出了错的时候能够随时自知，并且懂得如何及时补救。此外，他们还会听取他人意见，把决策权交给他人。</p>
</blockquote>
<p>怎么才能让下属做真正想做的工作？除了刚才说的，要做一些踏踏实实的，看得见摸得着的工作之外，还有一点是领导者要知人善用，因材施教。每个人都有长处和短板，应该尽可能扬长避短，而不是苛求下属成为通才。国企领导的一大特点是不会承认自己犯了错误，这样会很没面子，没法在下属面前立威信，可谓现实版皇帝的新衣。但他们不知道，知错能改，善莫大焉，不承认自己的错误并不能掩饰或遮盖，反而会遭到别人的鄙视。</p>
<blockquote>
<p>成为领导不是难事，而那些缺乏主见的，就会倾向于让别人来为他们做决定，听别人的指挥做事。</p>
</blockquote>
<p>这是我的一大缺点，很多事儿自己决定不了就倾向于放任自流，不具备当领导的气质。好的领导应该具备出色的协调能力，平衡各方利益，团结各方力量，需要重点加强学习。</p>
]]></content>
      
        <categories>
            
            <category> 读书 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Geek </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[婚礼指南]]></title>
      <url>http://tommyjiang.github.io/2018/2018-05-05-wedding/</url>
      <content type="html"><![CDATA[<p>婚礼指南</p>
<a id="more"></a>


<table border="1px" align="center">
  <tr>
    <th style="text-align:center">序号</th>
    <th style="text-align:center">名称</th>
    <th style="text-align:center">作用</th>
    <th style="text-align:center">地址</th>
  </tr>
  <tr>
    <td style="text-align:center">1</td>
    <td style="text-align:center">凤凰园铂悦山店</td>
    <td style="text-align:center">婚礼酒店</td>
    <td style="text-align:center">路北区长虹道与大里路交叉口东行100米</td>
  </tr>
  <tr>
    <td style="text-align:center">2</td>
    <td style="text-align:center">尚座花园</td>
    <td style="text-align:center">新房</td>
    <td style="text-align:center">路北区西山道与学院路交叉口东行200米</td>
  </tr>
  <tr>
    <td style="text-align:center">3</td>
    <td style="text-align:center">紫天鹅大酒店</td>
    <td style="text-align:center">新娘酒店</td>
    <td style="text-align:center">路南区南湖生态城，近唐山世界园艺博览会2号门</td>
  </tr>
</table>

<br/>

<div style="min-height: 500px; width: 100%;" id="container"></div>

<script type="text/javascript" src="http://webapi.amap.com/maps?v=1.4.4&key=78b4d9401faf42bd388b9bbf4aa3bfd0"></script>

<script>
    var map = new AMap.Map('container', {
        resizeEnable: true,
        center: [118.160456,39.63028], // 尚座
        zoom: 14
    });

    map.clearMap();  // 清除地图覆盖物

    var markers = [{
        position: [118.15145,39.650079],
        label: '婚礼酒店（凤凰园铂悦山店）'
    }, {
        position: [118.160456,39.63028],
        label: '新房（尚座花园）'
    }, {
        position: [118.173403,39.581195],
        label: '新娘酒店（紫天鹅酒店）'
    }
    ];

    var infoWindow = new AMap.InfoWindow({offset: new AMap.Pixel(0, -30)});
    for (var i = 0, marker; i < markers.length; i++) {
        var marker = new AMap.Marker({
            icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b' + (i+1).toString() + '.png',
            position: markers[i].position,
            map: map,
            offset: new AMap.Pixel(0, -46),
            clickable: true
        });

        marker.content = markers[i].label
        marker.on('click', markerClick);
        marker.emit('click', {target: marker});
    }

    function markerClick(e) {
        infoWindow.setContent(e.target.content);
        infoWindow.open(map, e.target.getPosition());
    }

    // map.setFitView();
</script>


]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 爱情 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[2018春节泰国游]]></title>
      <url>http://tommyjiang.github.io/2018/2018-02-14-Thailand-trip/</url>
      <content type="html"><![CDATA[<p>30年第一次不在家过春节。</p>
<a id="more"></a>
<!-- markdown-toc start - Don't edit this section. Run M-x markdown-toc-refresh-toc -->
<p><strong>目录</strong></p>
<ul>
<li><a href="#总结">总结</a><ul>
<li><a href="#出国前准备">出国前准备</a></li>
</ul>
</li>
<li><a href="#各天行程">各天行程</a><ul>
<li><a href="#2-13-出发-用尽所有力气终于入境">2-13 出发-用尽所有力气终于入境</a></li>
<li><a href="#2-14-清迈-宁曼路夜市">2-14 清迈-宁曼路夜市</a></li>
<li><a href="#2-15-清迈-寺庙-按摩-长康路夜市">2-15 清迈-寺庙 按摩 长康路夜市</a></li>
<li><a href="#2-16-清迈-夜间动物园-宁曼路夜市">2-16 清迈-夜间动物园 宁曼路夜市</a></li>
<li><a href="#2-17-清迈-普吉-瓦洛洛市场-曼谷转机前往普吉">2-17 清迈 普吉-瓦洛洛市场 曼谷转机前往普吉</a></li>
<li><a href="#2-18-普吉-芭东海滩">2-18 普吉-芭东海滩</a></li>
<li><a href="#2-1920-普吉-斯米兰岛">2-19/20 普吉-斯米兰岛</a></li>
<li><a href="#2-21-普吉">2-21 普吉</a></li>
<li><a href="#2-22-普吉">2-22 普吉</a></li>
<li><a href="#2-23-返京">2-23 返京</a></li>
</ul>
</li>
</ul>
<!-- markdown-toc end -->
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><h2 id="出国前准备"><a href="#出国前准备" class="headerlink" title="出国前准备"></a>出国前准备</h2><ol>
<li>签证：淘宝上到处都是，建议至少提前1个月准备，费用250左右。落地签也可以，据说排队时间会比较长。</li>
<li>换汇：参考这篇<a href="http://tommyjiang.coding.me/2018/2018-02-05-cash-BOC/">博文</a>。</li>
</ol>
<h2 id="清迈"><a href="#清迈" class="headerlink" title="清迈"></a>清迈</h2><ol>
<li>感觉清迈3天行程足够了，1天上午素贴山双龙寺+下午晚上夜间动物园，1天白天帕辛寺契迪龙寺+按摩/SPA，晚上宁曼路夜市，1天白天瓦洛洛市场+晚上长康路夜市，如果赶上周六/周日夜市会更热闹。</li>
<li>清迈温差比较大，2月份晚上还是很凉快的，非常舒服，建议12、1和2月来。</li>
</ol>
<h2 id="普吉"><a href="#普吉" class="headerlink" title="普吉"></a>普吉</h2><ol>
<li>普吉实在是太热了，要备好感冒和腹泻药，防止水土不服。</li>
</ol>
<h1 id="各天行程"><a href="#各天行程" class="headerlink" title="各天行程"></a>各天行程</h1><h2 id="2-13-出发-用尽所有力气终于入境"><a href="#2-13-出发-用尽所有力气终于入境" class="headerlink" title="2-13 出发-用尽所有力气终于入境"></a>2-13 出发-用尽所有力气终于入境</h2><p>为图便宜，买了天津到曼谷的泰国狮航。到天津机场值机排队的时候，有一个操着天津口音一看就是个痞子的中年男性 SB 要插队，被制止后站在我们后面各种难听话骂了半天。狮航的前序航班晚了两个小时，到泰国已经5点多了，定了8点20从曼谷到清迈的航班，结果入关就用了将近3个小时。前面又是一个芦台话和天津话混搭的大妈，一直在插队和吵吵，最后愣是把一家人的护照拿过去插队先办的入境手续。本来以为读了书不用和这群 SB 搅和在一起了，没想到还是遇到了各种 SB。总结下教训：</p>
<ol>
<li>还是要多挣钱，去中国人少的地方，至少是没有这么多 SB 会去的地方。如果一定要来，还是选人少的时候来，避开春节假期这种时间。</li>
<li>能直飞尽量直飞，转机太耽误时间而且也累，如果要转就多留点时间，保守估计也要留5个小时以上。</li>
<li>廊曼机场环境还可以，没有网上说的那么不堪。</li>
</ol>
<h2 id="2-14-清迈-宁曼路夜市"><a href="#2-14-清迈-宁曼路夜市" class="headerlink" title="2-14 清迈-宁曼路夜市"></a>2-14 清迈-宁曼路夜市</h2><p>由于入境耽误了转机，只能重新买曼谷-清迈的机票，还是选择了廉价的泰狮，下午3点抵达清迈，从清迈打车到酒店稍做歇息，前往宁曼路夜市吃吃喝喝。由于太饿了，一到宁曼路就选择了路边的 B.o.5，感觉一般吧。继续往前走，到宁曼一号吃了青木瓜沙拉和烤肠，到 MAYA Center 对面的夜市买了椰子汁，吃了一路逛了一路回酒店休息。</p>
<h2 id="2-15-清迈-寺庙-按摩-长康路夜市"><a href="#2-15-清迈-寺庙-按摩-长康路夜市" class="headerlink" title="2-15 清迈-寺庙 按摩 长康路夜市"></a>2-15 清迈-寺庙 按摩 长康路夜市</h2><p>在清迈的第二天，白天逛了两座古城内的寺庙——帕辛寺和契迪龙寺，晚上去了长康路夜市。</p>
<p>帕辛寺就在我们住的酒店旁边，步行1分钟就能到，门票20泰铢，着装要求短裤和短裙过膝。转了一圈号称清迈并列等级最高的帕辛寺，没有想象中的那么大，不到1个小时就转完出来了。直奔第二个寺庙——契迪龙寺，感觉上契迪龙寺比帕辛寺还要大一点，特别是寺内有一棵参天大树，是清迈的地标性建筑。</p>
<p>中午继续回酒店休息，下午出发，到 Let’s Relax 做了传统泰式按摩，刚开始还觉得有点疼，后面慢慢身体放松了，感觉还挺舒服的。做完按摩到长康路夜市吃晚饭，选择了草垛夜市，之前做攻略没查到，没想到还有意外惊喜，点了一大盘海鲜才399泰铢，辛辣口吃的很爽。长康路这边店铺相对少一点，小摊比较多，属于亲民风。</p>
<h2 id="2-16-清迈-夜间动物园-宁曼路夜市"><a href="#2-16-清迈-夜间动物园-宁曼路夜市" class="headerlink" title="2-16 清迈-夜间动物园 宁曼路夜市"></a>2-16 清迈-夜间动物园 宁曼路夜市</h2><p>上午出来在古城里逛了逛，想找个地方喝咖啡顺便把下午的清迈夜间动物园的行程定了，结果大年初一飞猪上很多商家都不上班，问了好几家都没回话。无奈之下，只能在酒店附近的旅行社打探打探，找了个中国大叔，买了两个动物园的门票，一张500泰铢。</p>
<p>下午用的东南亚的 Uber - Grab 打车去的夜间动物园，用的优惠码<code>Grabstart</code>，两单每单便宜100泰铢，不错的羊毛。3点出发，3点40就到了，进园后先围着步行区转了一圈，等到五点半想去看 Tiger Show，才发现又被人山人海的国人同胞们占领了。在外圈稍微站了一会儿，直接去肉食动物区和草食动物区坐车游览了，印象最深的是草食动物区里的长颈鹿把脖子伸进来要吃的，大晚上还挺瘆人的。</p>
<p>晚上出来继续去宁曼路夜市逛吃，在宁曼一号吃了日本料理 Fin 寿司（Fin premium sushi bar）和乳酪（SuperCheese），从清迈大学中穿过回古城，路上被关着的门拦住，旁边值班的保安大叔好心为我们开门，没有再走回头路，顺利地回到酒店。</p>
<h2 id="2-17-清迈-普吉-瓦洛洛市场-曼谷转机前往普吉"><a href="#2-17-清迈-普吉-瓦洛洛市场-曼谷转机前往普吉" class="headerlink" title="2-17 清迈 普吉-瓦洛洛市场 曼谷转机前往普吉"></a>2-17 清迈 普吉-瓦洛洛市场 曼谷转机前往普吉</h2><p>早上吃完早饭前往瓦洛洛市场，相当于中国县城的大集市，和宁曼路、长康路不同，来这边逛的有不少本地人，东西的价格更加亲民。在市场买了一袋芒果干，这边的芒果太甜了，做成芒果干还是觉得有点腻。</p>
<p>中午到瓦洛洛市场附近的 tripadvisor 推荐的清迈排名第12的法餐厅 Le Bistrot de Chiang Mai 吃饭，这样在清迈吃了泰国菜、日料，又吃了西餐，把主要的菜都吃全了。点了海鲜沙拉、图卢兹香肠（本来想要芥末酱肠包肚，可惜没有了）、沙朗牛排、肉酱意大利面，可以用支付宝直接付，非常方便，味道很不错，推荐。</p>
<p>中午回到酒店稍事休息，坐清迈著名的突突车前往机场，花费150泰铢，继续坐廉价狮航到曼谷转机前往普吉。5点多到机场后，在廊曼机场的 Magic Garden 吃了晚饭，坐到9点多才值机，又在登机口等了2个多小时，上飞机11点半多，起飞12点半，降落1点半，出了机场有接机，快3点才到酒店，又一次体会到直飞的好处。</p>
<h2 id="2-18-普吉-芭东海滩"><a href="#2-18-普吉-芭东海滩" class="headerlink" title="2-18 普吉-芭东海滩"></a>2-18 普吉-芭东海滩</h2><p>早上休整到11点才出发，普吉比清迈热多了，而且又潮，体感很不舒服。上午先沿街逛了逛，去了著名的江西冷购物中心，在底下的超市买了点吃的，又到旁边的美食广场坐了一会，才发现芭东已被中国人占领。出来后直奔芭东海滩，好多老外在沙滩上租了躺椅和遮阳伞，两把躺椅+一把遮阳伞全天只要200泰铢，就是太热了……到旁边的 Long bar 点了果汁和啤酒，老婆喝完感觉有点不舒服，这两天吃的比较多，而且气候不太适应，回酒店休息。</p>
<p>晚上老婆还是不舒服，我先去楼下吃了云吞面，又去7-11和药店分别买了早饭和发烧药，晚上就在宾馆休息了。</p>
<h2 id="2-19-20-普吉-斯米兰岛"><a href="#2-19-20-普吉-斯米兰岛" class="headerlink" title="2-19/20 普吉-斯米兰岛"></a>2-19/20 普吉-斯米兰岛</h2><p>早上5点40起床，收拾东西准备出发去斯米兰。车6点半来接，睡了一路，8点半到了出发的码头。坐快艇出海，用了将近2小时才到斯米兰群岛附近，还晕船了……</p>
<h2 id="2-21-22-普吉-江西冷购物中心"><a href="#2-21-22-普吉-江西冷购物中心" class="headerlink" title="2-21/22 普吉-江西冷购物中心"></a>2-21/22 普吉-江西冷购物中心</h2><p>普吉外面实在太热了，只能到江西冷里面避暑。</p>
<h2 id="2-23-返京"><a href="#2-23-返京" class="headerlink" title="2-23 返京"></a>2-23 返京</h2><p>到普吉机场坐的国航直飞北京的航班，凌晨1:40起飞，又是红眼航班，太累了，到北京还发烧了，以后尽量避开红眼航班……</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 旅游 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[换外币现汇/现钞攻略]]></title>
      <url>http://tommyjiang.github.io/2018/2018-02-05-cash-BOC/</url>
      <content type="html"><![CDATA[<p>继去年香港刷卡被 DCC 坑，又被中行换现钞坑了一波。</p>
<a id="more"></a>
<p>先放工具，可以直接查现汇/现钞牌价的<a href="http://www.kuaiyilicai.com/bank/rmbfx.html">网站</a>。</p>
<p>一直听说中行汇率低，结果今天去换泰铢，发现中行的现汇卖出价和现钞卖出价差了足足3%，现汇和工行、平安并列最低，都是0.2009，现钞工行和平安也是0.2009，中行竟然是0.2071。根据网友的反映，中行换汇服务比较全，但北京不存在这个问题，肯定所有银行都能换的，所以下次换要先看好汇率。</p>
<ul>
<li>人民币换外国钞票（现钞）：现钞购汇最低。</li>
<li>人民币换外汇（境外取钞票或汇款）：现汇购汇最低。</li>
<li>外汇换人民币：现汇结汇最高。</li>
<li>外国钞票（现钞）换人民币：现钞结汇最高。</li>
</ul>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Tips </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Hexo-tag-bootstrap 示例]]></title>
      <url>http://tommyjiang.github.io/2018/2018-01-29-hexo-tag-bootstrap-examples/</url>
      <content type="html"><![CDATA[<p>让博客更丰富多彩。</p>
<a id="more"></a>
<h1 id="Syntax"><a href="#Syntax" class="headerlink" title="Syntax"></a>Syntax</h1><p class="text-muted">Fusce dapibus, tellus ac cursus commodo, tortor mauris nibh.</p>
<p class="text-primary">Nullam id dolor id nibh ultricies vehicula ut id elit.</p>
<p class="text-success">Duis mollis, est non commodo luctus, nisi erat porttitor ligula.</p>
<p class="text-info">Maecenas sed diam eget risus varius blandit sit amet non magna.</p>
<p class="text-warning">Etiam porta sem malesuada magna mollis euismod.</p>
<p class="text-danger">Donec ullamcorper nulla non metus auctor fringilla.</p>
<h1 id="Buttons"><a href="#Buttons" class="headerlink" title="Buttons"></a>Buttons</h1><a class="btn btn-default" href="http://hahack.com">hahack</a>
<a class="btn btn-primary" href="http://hahack.com">hahack</a>
<a class="btn btn-success" href="http://hahack.com">hahack</a>
<a class="btn btn-warning" href="http://hahack.com">hahack</a>
<a class="btn btn-danger" href="http://hahack.com">hahack</a>
<a class="btn btn-info" href="http://hahack.com">hahack</a>
<h1 id="Labels"><a href="#Labels" class="headerlink" title="Labels"></a>Labels</h1><span class="label label-default">default</span>
<span class="label label-warning">warinng</span>
<span class="label label-success">success</span>
<span class="label label-danger">danger</span>
<span class="label label-primary">primary</span>
<span class="label label-info">info</span>
<h1 id="Badges"><a href="#Badges" class="headerlink" title="Badges"></a>Badges</h1><span class="badge">42</span>
<h1 id="Alerts"><a href="#Alerts" class="headerlink" title="Alerts"></a>Alerts</h1><div class="alert alert-warning"><i class="fa fa-bell"></i>  Best check yo self, you're not looking too good.</div>
<div class="alert alert-danger"><i class="fa fa-bug"></i>  Change a few things up and try submitting again.</div>
<div class="alert alert-success"><i class="fa fa-lightbulb-o"></i>  You successfully read this important alert message.</div>
<div class="alert alert-info"><i class="fa fa-info"></i>  This alert needs your attention, but it's not super important.</div>
]]></content>
      
        <categories>
            
            <category> Geek </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[天气数据统计网站 Weather Spark]]></title>
      <url>http://tommyjiang.github.io/2018/2018-01-28-weather-spark/</url>
      <content type="html"><![CDATA[<p>全球各地气候统计数据可视化分析，旅游出行好帮手。</p>
<a id="more"></a>
<p>之前忘了在哪看到过 <a href="https://weatherspark.com/">Weather Spark 这个网站</a>，觉得统计数据非常全，而且展现方式也很漂亮。这次特意记下来，出去旅游的话可以参考。</p>
<h1 id="整体介绍"><a href="#整体介绍" class="headerlink" title="整体介绍"></a>整体介绍</h1><p>以<a href="https://weatherspark.com/y/131055/Average-Weather-in-Beijing-China-Year-Round">北京全年天气</a>为例，看看这个网站都有哪些内容。</p>
<ul>
<li>天气概述</li>
<li>温度</li>
<li>云量</li>
<li>降水概率</li>
<li>昼夜时长</li>
<li>湿度</li>
<li>风况</li>
<li>最佳旅游时间</li>
<li>生长季节</li>
<li>太阳能</li>
<li>地形</li>
<li>数据源</li>
</ul>
<p>除全年天气外，还可以看每日天气，例如<a href="https://weatherspark.com/d/112821/1/28/Average-Weather-on-January-28-in-Chiang-Mai-Thailand#Sections-Temperature">北京1月28日天气</a>。</p>
<h1 id="具体信息"><a href="#具体信息" class="headerlink" title="具体信息"></a>具体信息</h1><h2 id="天气概述"><a href="#天气概述" class="headerlink" title="天气概述"></a>天气概述</h2><p>全年季节描述，温度范围，最重要的是<code>tourism score</code>，说明什么时候旅游最好，关于这个指标后面还有详细的叙述。</p>
<h2 id="温度"><a href="#温度" class="headerlink" title="温度"></a>温度</h2><p>最热/最冷季节的时间和温度，全年平均温度折线图，全年时刻平均温度热力图（标准：frigid &lt; -9°C &lt; freezing &lt; 0°C &lt; very cold &lt; 7°C &lt; cold &lt; 13°C &lt; cool &lt; 18°C &lt; comfortable &lt; 24°C &lt; warm &lt; 29°C &lt; hot &lt; 35°C &lt; sweltering），世界上距离最远气候最接近的城市。</p>
<h2 id="云量"><a href="#云量" class="headerlink" title="云量"></a>云量</h2><p>云量最多/最少时期和云量，全年云量图(标准：clear &lt; 20% &lt; mostly clear &lt; 40% &lt; partly cloudy &lt; 60% &lt; mostly cloudy &lt; 80% &lt; overcast)</p>
<h2 id="降水概率"><a href="#降水概率" class="headerlink" title="降水概率"></a>降水概率</h2><p>降水量最多/最少时期和降水概率，降雨/雪时期和概率，全年降水概率图。</p>
<h2 id="降雨量"><a href="#降雨量" class="headerlink" title="降雨量"></a>降雨量</h2><p>多雨/少雨时期累积31天降雨量，全年降水量图。</p>
<h2 id="昼夜时长"><a href="#昼夜时长" class="headerlink" title="昼夜时长"></a>昼夜时长</h2><p>白昼时长最长和最短时间/日期，全年白昼时长图。</p>
<h2 id="湿度"><a href="#湿度" class="headerlink" title="湿度"></a>湿度</h2><p>最湿润/干燥时期和日期，极端湿度，全年平均湿度图（标准：dry &lt; 13°C &lt; comfortable &lt; 16°C &lt; humid &lt; 18°C &lt; muggy &lt; 21°C &lt; oppressive &lt; 24°C &lt; miserable 均为露点温度）。</p>
<h2 id="风况"><a href="#风况" class="headerlink" title="风况"></a>风况</h2><p>风大/风小时期和风速，平均风速图和风向图。</p>
<h2 id="最佳旅游时间"><a href="#最佳旅游时间" class="headerlink" title="最佳旅游时间"></a>最佳旅游时间</h2><p>包括最佳旅游指数和海岸指数，具体计算方法下面有详细说明，摘录如下：</p>
<blockquote>
<p>For each hour between 8:00 AM and 9:00 PM of each day in the analysis period (1980 to 2016), independent scores are computed for perceived temperature, cloud cover, and total precipitation. Those scores are combined into a single hourly composite score, which is then aggregated into days, averaged over all the years in the analysis period, and smoothed.</p>
<p>Our cloud cover score is 10 for fully clear skies, falling linearly to 9 for mostly clear skies, and to 1 for fully overcast skies.</p>
<p>Our precipitation score, which is based on the three-hour precipitation centered on the hour in question, is 10 for no precipitation, falling linearly to 9 for trace precipitation, and to 0 for 1 millimeter of precipitation or more.</p>
<p>Our tourism temperature score is 0 for perceived temperatures below 10°C, rising linearly to 9 for 18°C, to 10 for 24°C, falling linearly to 9 for 27°C, and to 1 for 32°C or hotter.</p>
<p>Our beach/pool temperature score is 0 for perceived temperatures below 18°C, rising linearly to 9 for 24°C, to 10 for 28°C, falling linearly to 9 for 32°C, and to 1 for 38°C or hotter.</p>
</blockquote>
<p>后面的几个信息相对没那么重要，不再赘述。</p>
<p>需要注意，各地的气象数据都是根据相邻机场的气象数据加权计算得到的，但还是相当有参考价值的。</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 数据 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[2017 年终总结]]></title>
      <url>http://tommyjiang.github.io/2017/2017-12-31-2017-summary/</url>
      <content type="html"><![CDATA[<p>2017年是收获的一年。</p>
<a id="more"></a>
<p>又一年过去了，岁末的时候人总会有很多感慨，简单对即将过去的2017年做个总结吧。</p>
<p>最大的收获，是成功摆脱了30年的未婚状态，进入已婚行列。去年这时候还不敢想象今年一年就能完成脱单到领证一系列的动作，明年举办婚礼，结婚后要更多的承担起家庭的责任，照顾好老婆，也要孝敬双方父母。</p>
<p>工作方面，从3月开始着手准备转行，现在也算有个初步的结果了。希望新的一年能够顺利转正，工作上不断进步，当然，再忙也不能不顾家，该承担的责任要勇于承担。</p>
<p>希望2018年年终总结的时候，多些欣喜，少些遗憾。</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 总结 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[网站转 RSS 订阅]]></title>
      <url>http://tommyjiang.github.io/2017/2017-12-13-website-to-rss/</url>
      <content type="html"><![CDATA[<p>为别人的网站添加 RSS 订阅。</p>
<a id="more"></a>
<p>最近用<code>Spacemacs</code>的<code>elfeed</code>作为 RSS 阅读器，想订阅 <a href="https://hsreplay.net/articles/">HSReplay</a> 的技术分析文章，无奈网站不提供 RSS，自己动手，丰衣足食。</p>
<p>不写详细教程了，直接贴一篇文章吧，<a href="https://sspai.com/post/34320">少数派 利用 Feed43，将任意网页制作成 RSS 订阅源 | 一日一技</a></p>
]]></content>
      
        <categories>
            
            <category> 技术 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> RSS </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[内网开放 BT 端口 51413]]></title>
      <url>http://tommyjiang.github.io/2017/2017-12-05-port-forwarding/</url>
      <content type="html"><![CDATA[<p>内网开放 BT 端口方法。</p>
<a id="more"></a>
<p>家里联通猫 + TP-LINK 路由上网，内网电脑 BT 端口无法被外网电脑看到，处于<code>passive</code>状态，需要分别设置。</p>
<h1 id="TP-LINK"><a href="#TP-LINK" class="headerlink" title="TP-LINK"></a>TP-LINK</h1><p>转发规则-虚拟服务器：外部端口51413，内部端口51413，IP 地址填内网电脑IP，协议 ALL</p>
<h1 id="联通猫"><a href="#联通猫" class="headerlink" title="联通猫"></a>联通猫</h1><p>应用-高级 NAT 配置-虚拟主机配置：外部开始/结束和内部开始/结束端口都填51413，内部主机填路由 IP。</p>
]]></content>
      
        <categories>
            
            <category> 技术 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[北京集体户口迁入住房]]></title>
      <url>http://tommyjiang.github.io/2017/2017-12-04-hukou-transfer/</url>
      <content type="html"><![CDATA[<p>咱也是北京人了。</p>
<a id="more"></a>
<p>北京集体户口迁入住房，所需材料：</p>
<ul>
<li>房产证：原件，复印件（前3页，不含封面）</li>
<li>集体户口：首页复印件（盖红章），个人信息页原件、复印件</li>
<li>身份证：原件，复印件</li>
</ul>
<p>直接到迁入地派出所办理，一周七天上班，上午9-12点，下午2-5点。符合条件直接办理，可以将集体户口换成户口本。</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Tips </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[北京美食]]></title>
      <url>http://tommyjiang.github.io/2017/2017-11-21-delicious-food-beijing/</url>
      <content type="html"><![CDATA[<p>待吃 list。</p>
<a id="more"></a>


<table border="1px" align="center">
  <tr>
    <th style="text-align:center">序号</th>
    <th style="text-align:center">名称</th>
    <th style="text-align:center">位置</th>
    <th style="text-align:center">菜系</th>
  </tr>
  <tr>
    <td style="text-align:center">1</td>
    <td style="text-align:center">馋人小馆</td>
    <td style="text-align:center">达官营 红居北街生活之本市场9号</td>
    <td style="text-align:center">北京菜</td>
  </tr>
  <tr>
    <td style="text-align:center">2</td>
    <td style="text-align:center">不老溪贵州菜</td>
    <td style="text-align:center">广华轩小区1号楼105</td>
    <td style="text-align:center">贵州菜</td>
  </tr>
  <tr>
    <td style="text-align:center">3</td>
    <td style="text-align:center">三味缘牛蛙火锅</td>
    <td style="text-align:center">马连道南街2号院8号楼二层</td>
    <td style="text-align:center">火锅</td>
  </tr>
  <tr>
    <td style="text-align:center">4</td>
    <td style="text-align:center">青年餐厅（六里桥店）</td>
    <td style="text-align:center">华源1街4号楼(安安市场东)</td>
    <td style="text-align:center">火锅</td>
  </tr>
</table>

<div style="min-height: 500px; width: 100%;" id="container"></div>

<script type="text/javascript" src="http://webapi.amap.com/maps?v=1.4.4&key=78b4d9401faf42bd388b9bbf4aa3bfd0"></script>

<script>
    var map = new AMap.Map('container', {
        resizeEnable: true,
        center: [116.336455, 39.889884], // 达官营
        zoom: 15
    });

    map.clearMap();  // 清除地图覆盖物

    var markers = [{
        position: [116.338811, 39.884653],
        label: '馋人小馆（准五星）'
    }, {
        position: [116.339856,39.890235],
        label: '不老溪贵州菜（四星）'
    }, {
        position: [116.328807,39.884378],
        label: '三味缘牛蛙火锅（五星）'
    }, {
        position: [116.31635,39.882147],
        label: '青年餐厅（准五星）'
    },
    ];

    var infoWindow = new AMap.InfoWindow({offset: new AMap.Pixel(0, -30)});
    for (var i = 0, marker; i < markers.length; i++) {
        var marker = new AMap.Marker({
            icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b' + (i+1).toString() + '.png',
            position: markers[i].position,
            map: map,
            offset: new AMap.Pixel(-12, -36),
            clickable: true
        });

        marker.content = markers[i].label
        marker.on('click', markerClick);
        marker.emit('click', {target: marker});
    }

    function markerClick(e) {
        infoWindow.setContent(e.target.content);
        infoWindow.open(map, e.target.getPosition());
    }

    // map.setFitView();
</script>


]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 美食 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[iOS 11 控制中心无法彻底关闭 WiFi]]></title>
      <url>http://tommyjiang.github.io/2017/2017-10-28-iOS-11-control-center/</url>
      <content type="html"><![CDATA[<p>iOS 11 控制中心竟然没法直接关 WiFi。</p>
<a id="more"></a>
<p>iOS 11 控制中心引入了移动数据的开关，可以不用再到设置里关数据了。</p>
<p>但 WiFi 开关却不能在控制中心直接关闭，这个开关有三种状态：</p>
<ul>
<li>灰色 WiFi 图形加斜线，代表 WiFi 状态为关闭。</li>
<li>灰色 WiFi 图形，代表断开 WiFi 连接，但未关闭 WiFi。</li>
<li>蓝色 WiFi 图形，代表已连接 WiFi。</li>
</ul>
<p>好不容易不用到设置里关数据了，又要到设置里关 WiFi，苹果这是越来越不行了。</p>
]]></content>
      
        <categories>
            
            <category> Geek </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Apple </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[三里屯老书虫脱口秀]]></title>
      <url>http://tommyjiang.github.io/2017/2017-10-27-san-li-tun-talkshow/</url>
      <content type="html"><![CDATA[<p>跟大厨到三里屯听脱口秀放松。</p>
<a id="more"></a>
<p>周五大厨在豆瓣上看到了这个<a href="https://www.douban.com/event/29423534/">活动</a>，就到著名的三里屯地区体验脱口秀。</p>
<p>这个脱口秀活动是 OpenMic，每个表演者上去讲5分钟，因为是免费活动，所以观众还不少。但表演者的水平参差不齐，有几位同学讲得过于低俗……综合来说，我感觉不错的几个同学讲得都是相对比较完整的故事，没有太多的情景转换，连贯性强。</p>
<p>看表演之前还到著名的三里屯太古里吃了大厨推荐的蓝蛙，还有旁边的九龙冰室，感觉非常棒，下次还和大厨一起出去逛吃逛吃。</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[视频/音频下载和提取方法]]></title>
      <url>http://tommyjiang.github.io/2017/2017-09-09-download-cnn-video/</url>
      <content type="html"><![CDATA[<p>大厨需要视频和音频，还好有我在。</p>
<a id="more"></a>
<h1 id="CNN-视频下载"><a href="#CNN-视频下载" class="headerlink" title="CNN 视频下载"></a>CNN 视频下载</h1><p>1.记录 CNN 视频网址，例如<a href="http://edition.cnn.com/videos/weather/2017/01/27/weather-five-things-about-earthquakes-orig.cnn/video/playlists/mexico-earthquake/">这个</a>。</p>
<p>2.打开 <a href="http://www.tubeoffline.com/download-CNN-videos.php">TUBEOFFLINE</a>，在 video url 中输入上面的视频网址。</p>
<p>3.获取视频下载地址，需要自备梯子。</p>
<p>4.浏览器下载很慢，用终端中的<code>wget</code>实现下载，Mac OS 需要先<code>brew install wget</code>，然后<code>wegt url</code>。</p>
<h1 id="从视频中提取音频"><a href="#从视频中提取音频" class="headerlink" title="从视频中提取音频"></a>从视频中提取音频</h1><p>利用<code>ffmpeg</code>，同样需要先<code>brew install ffmpeg</code>。</p>
<pre class="line-numbers language-none"><code class="language-none">ffmpeg -i *.mp4&#x2F;avi -q:a 0 -map a *.mp3 <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 工具 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[境外刷卡被 DCC 的教训]]></title>
      <url>http://tommyjiang.github.io/2017/2017-09-29-DCC/</url>
      <content type="html"><![CDATA[<p>去香港刷卡中招 DCC，吃一堑长一智吧。</p>
<a id="more"></a>
<h1 id="什么是-DCC"><a href="#什么是-DCC" class="headerlink" title="什么是 DCC"></a>什么是 DCC</h1><p>先看一个实际的交易过程，以 大陆 银联/VISA 人民币/美元双币卡在香港交易为例。</p>
<blockquote>
<p>我9月1日在香港购物消费10000港币，整个交易会涉及到我、商家、VISA和信用卡发卡行。我在记账的时候选择以港币入账，商家刷卡 10000 港币，VISA 收到记账信息后，由于只能用美元记账，因此会将港币转换成美元入账（VISA：港币-&gt;美元）。我在还款的时候，可以直接还美元，也可以在发卡行用人民币购汇还款（发卡行：美元-&gt;人民币）。</p>
</blockquote>
<p>假设最后我们都用人民币还款，上面的交易会经历港币-&gt;美元-&gt;人民币的货币转换过程。其中港币-&gt;美元的过程由 VISA 完成，汇率使用的是该笔交易记账日的汇率。由于记账日一般比交易日晚几天，所以这个过程采用的汇率要比9月1日晚几天，但一般而言汇率短期内变化不会太大，所以计算时基本可以看用交易日汇率代替。还需要注意的是，国内发行的 VISA/MasterCard 双币信用卡一般有货币转换费，即将非美元货币转换为美元时需要额外收取的费用，比率为1%-2%，一般为1.5%。</p>
<p>DCC 即 动态货币转换（Dynamic currency conversion），是指在交易记账时把当地结算货币转换成持卡人所在国家货币。对于上述交易，港币-&gt;美元的过程不是由 VISA 完成，而是由 DCC 组织完成，同时收取相应费用。货币转换费和 DCC 的区别如下：</p>
<ul>
<li><p>货币转换费：VISA 或 MasterCard 收取，一般为交易金额的1%-2%。</p>
</li>
<li><p>DCC：DCC 组织收取（V/M 无 DCC 服务），比货币转换费高，一般为3%以上。</p>
</li>
</ul>
<h1 id="如何避免-DCC"><a href="#如何避免-DCC" class="headerlink" title="如何避免 DCC"></a>如何避免 DCC</h1><p>由于 DCC 费用较高，所以在境外刷卡时，一定要避免 DCC。最简单的办法，就是在刷卡时提醒商家用<strong>当地货币</strong>记账，而不要用美元记账。</p>
<p>这次在香港就是吃了这个亏，为了参加中行的活动刷的 MasterCard 全币卡，店员问我是用港币还是美元记账，我很傻地选了美元，被收了不到 4% 的 DCC 费用，将近 1000 元，其实在香港刷银联卡是最划算的，这次想薅羊毛没薅到，花钱买教训吧。</p>
<p>附一个<a href="http://www.kuaiyilicai.com/huilv/whichcard.html">出国刷卡指南</a>，中行万事达全币卡性价比还是不错的，以后如果还有机会出国就刷它吧。</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 香港 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[大厨小厨珠三角之旅游记]]></title>
      <url>http://tommyjiang.github.io/2017/2017-08-31-guangzhou-shenzhen-HK-trip/</url>
      <content type="html"><![CDATA[<p>熟悉的珠三角。</p>
<a id="more"></a>
<h1 id="出发"><a href="#出发" class="headerlink" title="出发"></a>出发</h1><p>8月25日用里程给大厨换了头等舱准备出发，好久不坐飞机，也没认真看登机牌，都忘了提前15分钟关舱门这回事儿，还以为值机了一定会等我们……痛改下一班航班，比原定计划晚了2个多小时抵深。</p>
<p>感谢表妹和表妹夫不远千里来宝安机场接我们，在深圳的欢迎宴选了著名的汕头八合里牛肉火锅，其实这家火锅在北京也有，但深圳离潮汕近，可能牛肉更新鲜一点，得到了大厨的积极肯定。</p>
<h1 id="广州"><a href="#广州" class="headerlink" title="广州"></a>广州</h1><p>广州的旅行很简单，大厨定了总原则：逛吃。具体路线：广州东——点都德（和兴楼）——文明路——北京路——上下九——正佳<br>广场陶陶居——花城广场（广州塔）——银记肠粉店（杨箕店）。</p>
<p>点都德和兴楼离广州东站走路15分钟路程，大厨头一次吃正宗的广式早茶，惊叹不已。</p>
<p>点都德菜品</p>
<p>文明路品尝了广州南方奶茶一点点，炖盅，百花甜品店，上下九吃了陈添记鱼皮，顺记冰室，期间还在路边吃了5元半斤的热带水果和椰子。</p>
<h1 id="香港"><a href="#香港" class="headerlink" title="香港"></a>香港</h1><p>买的港铁东铁线的<a href="https://www.paydollar.com/b2c2/AELControlServlet?action=getitem&amp;catid=20502&amp;itemid=11539">1天游客过境旅游票</a>，可以一天内往返罗湖/落马洲和上水站一次，方便我们这种住在深圳的。</p>
<h2 id="第一天行程"><a href="#第一天行程" class="headerlink" title="第一天行程"></a>第一天行程</h2><p>尖沙咀 T &amp; C——佐敦点点心——佐敦弥敦道——尖沙咀海港城——Alma——罗湖。</p>
<h2 id="第二天行程"><a href="#第二天行程" class="headerlink" title="第二天行程"></a>第二天行程</h2><p>铜锣湾义顺牛奶公司——天后民声冰室——铜锣湾希慎广场苹果店+诚品书店+何洪记——中环 IFC——上环九记牛腩——旺角沙嗲王——旺角周大福+女人街——罗湖。</p>
<p>返程当天在深圳又吃了点都德，流沙包真是好吃啊，在北京能开一家多好啊。</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 香港 </tag>
            
            <tag> 旅行 </tag>
            
            <tag> 广州 </tag>
            
            <tag> 深圳 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[POA 教学法感想（投稿）]]></title>
      <url>http://tommyjiang.github.io/2017/2017-07-16-POA/</url>
      <content type="html"><![CDATA[<p>大厨投稿。</p>
<a id="more"></a>
<p>　　今天在文秋芳老师及其团队的介绍下学习了解了POA教学法（Production-oriented Approach），其教学理念包含：</p>
<ol>
<li>学习中心，而非学生中心，强调教师的引导作用，不追求热闹的课堂。</li>
<li>学用一体。</li>
<li>全人教育（whole-person  education），在教学过程中以正确的价值观对学生进行引导（主要依靠教材，教师在topics，input material，productive material等方面设计）。</li>
</ol>
<p>　　课程的设计分为驱动-&gt;促成-&gt;评估。驱动主要包括：（1）话题预热；（2）创设交际情景（scenario），让学生有身临其境，能为我所用的感觉（法律专业学生死刑的例子）（3）布置单元产出任务。（4）明确单元目标（应具备驱动型，可教性，细分性，逻辑性）。促成部分应了解学生的“缺口”（develop ideas，build language，prepare structure），提供促成材料（阅读、听力、网站等）。促成活动多种多样（word-phrase-sentence-discourse），从易到难，不能停留在word-level，至少应产出两三句话。总体原则为精准性、渐进性、多样性（输入和产出的类型都可以多样）；最后一步是评估，teacher-student collabrative assessing（TSCA），流程为用学生样本评价焦点-&gt;小组评价-&gt;引领讨论，讲评结合，展示事先修改的样本。要注意明确评价焦点，teaching is assessing。</p>
<p>　　收获颇多，实践仍有一段路要走，感谢老师们！（<font face="FangSong_GB2312">本文作者赵小乙，1990年出生，现在北京一所大学任教。</font>）</p>
]]></content>
      
        <categories>
            
            <category> 投稿 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 英语教学 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[一刻 Talks 所感（投稿）]]></title>
      <url>http://tommyjiang.github.io/2017/2017-06-24-yike-talk/</url>
      <content type="html"><![CDATA[<p>大厨投稿。</p>
<a id="more"></a>
<p>　　今天去参加了一刻 talks 的一场关于 LGBT 的演讲，发言的虽然只有六位嘉宾，但是基本涵盖了性少数群体主要人群（有两位男性同性恋者，一位女同性恋者，两位跨性别者，一位双性恋者）。我也不知道自己是什么时候开始对性和性别这一个议题开始感兴趣，可能是从上研的时候翻译了一本关于性少数群体换偶者的书开始的。之后还参加了一些 LGBT 的活动，比如我最崇拜喜欢的潘绥铭教授在北师大的演讲，还有美国大使馆举办的活动等等。也读了一些资料，看了一些电影，我发现，越是研究这一问题的人，越对这类群体表示更多的包容和善意。而我也想成为这种能接纳别人的，很“酷”的人。而这些性边缘群体，出柜的这些人，更是因为自己的遭遇和经历更加对别人开放，友好，可能只有经历过误解，才能知道被误解的无奈，才能给予别人更多的耐心和理解；只有被伤害过，才能知道被伤害的痛苦，才能更以微笑待人，更具备同理心。</p>
<p>　　今天的讲座，虽然大部分内容我之前都有所了解，但是当讲者活生生的站在我面前，对我面带痛苦的讲述和回忆的时候，我还是被触动到了，因为对他们和她们的遭遇，我不光同情，而且恐惧，还会庆幸自己不是性边缘群体的一员，而这种庆幸使我感到羞愧；我被触动到，还因为我被他们和她们坦荡的眼神和那种遭遇过风雨后的淡定和勇敢打动了，仿佛刀枪不入，可我知道也许这都是伤害累累之后换来的。关注 LGBT 群体，不应该怀着居高临下的态度，我觉得最好的态度是了解，先试着了解，再考虑要不要支持。有些事是没法选择的，就像我们一出生就是异性恋一样……而随着年轻人越来越成熟，我相信社会上对这一群体也会越来越接纳和包容。</p>
<p>　　最后，如果我的孩子是 LGBT ，那我会告诉他/她，孩子，在这个社会上，有实力的人可能才有话语权，由于这个社会可能不接受你，你要先变得强，有人才会可能会认真听你说话。</p>
<p>　　希望每一个人都能尽可能按着自己的意愿生活，同时也能对别人的意愿起码保持一定距离。毕竟每个人都有可能成为“可怕的”边缘人群。（<font face="FangSong_GB2312">本文作者赵小乙，1990年出生，LGBT问题关注者，现在北京一所大学任教。</font>）</p>
]]></content>
      
        <categories>
            
            <category> 投稿 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> LGBT </tag>
            
            <tag> 性边缘人群 </tag>
            
            <tag> 一刻 talks </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[赵大厨江小厨美食菜单]]></title>
      <url>http://tommyjiang.github.io/2017/2017-06-12-let-us-cook-some-food/</url>
      <content type="html"><![CDATA[<p>民以食为天，食以味为先。</p>
<a id="more"></a>
<h1 id="2017年6月11日-午餐"><a href="#2017年6月11日-午餐" class="headerlink" title="2017年6月11日 午餐"></a>2017年6月11日 午餐</h1><p><img src="/images/2017/2017-06-11-午餐.jpg" alt=""></p>
<h2 id="菜单"><a href="#菜单" class="headerlink" title="菜单"></a>菜单</h2><ul>
<li>鱼香肉丝</li>
<li>青椒土豆丝</li>
<li>冰虾</li>
<li>米饭</li>
</ul>
<h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><ol>
<li>鱼香肉丝的肉一定要先处理，加料酒、红薯淀粉、油和水。</li>
<li>鱼香肉丝的酱汁包括糖，醋，料酒，酱油，清水。</li>
<li>鱼香肉丝加两勺豆瓣酱。</li>
<li>土豆丝用干辣椒和花椒炸的油炒更香。</li>
<li>土豆丝最后放醋，要不容易蒸发不酸。</li>
<li>土豆丝想要脆一点需要多洗几遍，简单的方法是洗好先泡水里。</li>
</ol>
<h2 id="寄语"><a href="#寄语" class="headerlink" title="寄语"></a>寄语</h2><p>大厨寄语：鱼香肉丝做得很成功，小厨连汤都不放过，一道菜吃了四顿。太幸福啦！也有小厨的功劳，萝卜丝切得很辛苦，完美！<span style="color:#FF66CC">期待大厨减肥成功再做下饭的鱼香肉丝，配米饭好好吃啊！</span>从买菜到做好，觉得自己能做出这么好吃的菜，真的是一种特别大的成就感和幸福感啊！！</p>
<p>小厨寄语：今天的菜不是快手菜，但付出的辛苦是值得的。在大厨的指挥下，切胡萝卜丝、土豆丝、青椒丝，出锅的菜品非常棒，很下饭。这次的菜不够辣，干辣椒主要提香，下次用鲜辣椒试试。</p>
<h1 id="2017年6月13日-晚餐"><a href="#2017年6月13日-晚餐" class="headerlink" title="2017年6月13日 晚餐"></a>2017年6月13日 晚餐</h1><p><img src="/images/2017/2017-06-13-晚餐.jpeg" alt=""></p>
<h2 id="菜单-1"><a href="#菜单-1" class="headerlink" title="菜单"></a>菜单</h2><ul>
<li>青椒炒鸡蛋</li>
<li>爆炒豆芽</li>
<li>番茄龙利鱼汤</li>
<li>冰虾</li>
</ul>
<h2 id="Tips-1"><a href="#Tips-1" class="headerlink" title="Tips"></a>Tips</h2><ol>
<li>龙利鱼先切成小块，用料酒、姜丝、油腌制15分钟。之后加油炒西红柿，放入蒜末炒制西红柿成汤状。随后放入煮好的龙利鱼和汤加盐出锅。</li>
<li>蒜是神器，切细末，多放蒜。</li>
</ol>
<h2 id="寄语-1"><a href="#寄语-1" class="headerlink" title="寄语"></a>寄语</h2><p>大厨寄语：新开发的菜品，番茄龙利鱼汤，酸酸烫烫的，简直太好喝啦！大厨减肥也可以喝得汤，嘻嘻，简直幸福满满呀！放入蒜之后吃不出来，但是味道浓郁up，蒜简直真是一个好东西！我爱大蒜！另外，我真的是愿意做饭的，当然作为大吃货一个也喜欢在外面直接吃饭+外面吃饭的氛围。。。这并不矛盾，嘻嘻。<span style="color:#FF66CC">我爱生活，我爱猪猪。</span>🐷</p>
<p>小厨寄语：大厨做的菜真好吃，以后要多犒劳大厨，带大厨出去吃，一起开心！</p>
<h1 id="2017年6月14日-晚餐"><a href="#2017年6月14日-晚餐" class="headerlink" title="2017年6月14日 晚餐"></a>2017年6月14日 晚餐</h1><p><img src="/images/2017/2017-06-14-晚餐.jpeg" alt=""></p>
<h2 id="菜单-2"><a href="#菜单-2" class="headerlink" title="菜单"></a>菜单</h2><ul>
<li>青椒炒鸡蛋(加热)</li>
<li>爆炒豆芽(加热)</li>
<li>爆炒肥肠</li>
<li>冰虾</li>
</ul>
<h2 id="Tips-2"><a href="#Tips-2" class="headerlink" title="Tips"></a>Tips</h2><ol>
<li>肥肠用开水煮十分钟，放入用花椒、料酒、酱油，煮熟后切小段。放入热油，豆瓣酱，葱姜蒜末爆炒，放入肥肠和干辣椒小米椒大火爆炒，过程中放糖和酱油。肥肠焦了之后放青椒出锅。</li>
<li>青椒最好最后放，比较脆。</li>
</ol>
<h2 id="寄语-2"><a href="#寄语-2" class="headerlink" title="寄语"></a>寄语</h2><p>大厨寄语：没想到小厨那么喜欢这个肥肠，一块一块全吃啦哈哈哈。还想用剩下的明天煮面（虽然都不剩啥啦嘻嘻）。肥肠真香啊。一点腥味没有，稻香村买的，<span style="color:#FF66CC">稻香村赛高！</span>这道菜小厨这么喜欢吃还是有点出乎我的意料，这只是第一次，以后我有信心做出更好吃的肥肠，<span style="color:#FF66CC">配上米饭！嘎嘎！口水！</span></p>
<p>小厨寄语：大厨第一次做肥肠就这么成功，可惜最近忙于塑身不能一起品尝美味，期待塑身成功之后的庆功宴！</p>
<h1 id="2017年6月15日-晚餐"><a href="#2017年6月15日-晚餐" class="headerlink" title="2017年6月15日 晚餐"></a>2017年6月15日 晚餐</h1><p><img src="/images/2017/2017-06-15-晚餐.jpeg" alt=""></p>
<h2 id="菜单-3"><a href="#菜单-3" class="headerlink" title="菜单"></a>菜单</h2><ul>
<li>上汤娃娃菜</li>
<li>香辣打卤面</li>
</ul>
<h2 id="Tips-3"><a href="#Tips-3" class="headerlink" title="Tips"></a>Tips</h2><ol>
<li>娃娃菜竖刀切块，加油和水焖熟；（我喜欢吃软的就多焖会）倒入纯净水加入切碎的咸鸭蛋两个，蒜末，葱花和小米辣；看情况用不用放盐，因为咸鸭蛋已经有咸味啦。</li>
<li>完整版是有松花蛋和火腿并和咸蛋蛋一起水煮淋汁的，但是咸鸭蛋是精髓啦！没有也无所谓！</li>
</ol>
<h2 id="寄语-3"><a href="#寄语-3" class="headerlink" title="寄语"></a>寄语</h2><p>大厨寄语：今天的两个菜都很成功，娃娃菜不咸不淡，汤都喝光啦，味道很浓郁，nice！只是大厨不吃碳水浑身真的没劲啊，心情也不好，555。。。面条下多啦，小厨也很喜欢，都吃光啦。我想吃多纳圈。。。但是收获挺大的，开发了几个碳水低的菜菜。技能增长ing（苦笑中）嘎嘎。</p>
<p>小厨寄语：大厨把娃娃菜吃了一大半，可见做得有多成功，大厨要克服狂吃狠减的恶性循环，保持心情舒畅最重要。</p>
<h1 id="2017年6月22日-晚餐"><a href="#2017年6月22日-晚餐" class="headerlink" title="2017年6月22日 晚餐"></a>2017年6月22日 晚餐</h1><p><img src="/images/2017/2017-06-22-晚餐.jpeg" alt=""></p>
<h2 id="菜单-4"><a href="#菜单-4" class="headerlink" title="菜单"></a>菜单</h2><ul>
<li>青椒鸡蛋炒面</li>
</ul>
<h2 id="Tips-4"><a href="#Tips-4" class="headerlink" title="Tips"></a>Tips</h2><ol>
<li>青椒鸡蛋做成，炒焦一点，加入一勺老干妈，放入煮熟的手擀面，炒制混合即可。</li>
</ol>
<h2 id="寄语-4"><a href="#寄语-4" class="headerlink" title="寄语"></a>寄语</h2><p>大厨寄语：因为预告下暴雨，所以准备了一些手擀面，本来想做带汤的打卤面，小厨回来后提议把面条放到里面炒，味道果然棒棒的！现在觉得也许炒面比浇上卤更有味，因为汤汁不会稀释味道。面条软硬也更合适，炒面不能太软。真好吃啊！大厨好久没有吃到这么好吃的面了（真心的）味道美绝！期待下次做成西红柿鸡蛋炒面，流口水ing…</p>
<p>小厨寄语：给大厨提议做炒面一举成功，小厨就是这么有创造力。</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 美食 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Spacemacs + AUCTeX 编辑 TeX 文档]]></title>
      <url>http://tommyjiang.github.io/2017/2017-06-14-Spacemacs-AuCTeX/</url>
      <content type="html"><![CDATA[<p>Spacemacs + AUCTeX 是编辑 TeX 文档的利器。</p>
<a id="more"></a>
<h1 id="Spacemacs-和-AUCTeX-简介"><a href="#Spacemacs-和-AUCTeX-简介" class="headerlink" title="Spacemacs 和 AUCTeX 简介"></a>Spacemacs 和 AUCTeX 简介</h1><p>目前最好用的 Emacs 配置，目前已经有将近12000个 Star，参见 <a href="https://github.com/syl20bnr/spacemacs">GitHub Spacemacs Repo</a>。</p>
<p>AUCTeX 是 GNU 用来配合 Emacs 编辑 TeX 文档的，参见 <a href="https://www.gnu.org/software/auctex/">AUCTeX</a>。</p>
<p>知乎上的<a href="https://www.zhihu.com/question/19954023/answer/23121933">回答</a>推荐采用 TeXLive + Emacs + AUCTex + SumatraPDF(Win)/Skim(Mac)，并指出：</p>
<blockquote>
<p>这个配置唯一难在需要熟练使用 Emacs，如果不是常用，比较费时，不过，从效率上来看，熟练后的效率当是最高的。</p>
</blockquote>
<h2 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h2><ul>
<li>插入 section 等(sectioning)：<code>C-c C-s</code> 或 <code>, s</code></li>
<li>插入 environment：<code>C-c C-e</code> 或 <code>, e</code></li>
<li>补全 environment：<code>C-c C-e</code> 或 <code>, c</code></li>
<li>插入 item：<code>, i i</code></li>
<li>插入参考文献：<code>, r c</code> + 正则表达式</li>
<li>查找(evil-mode)：<code>/</code>(清除高亮 <code>SPC s c</code>)</li>
</ul>
]]></content>
      
        <categories>
            
            <category> Geek </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Emacs </tag>
            
            <tag> LaTeX </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[西单大悦城处理 iPhone 6 Plus 电池鼓胀问题]]></title>
      <url>http://tommyjiang.github.io/2017/2017-04-27-Apple-xidan-joy-city-iphone-battery/</url>
      <content type="html"><![CDATA[<p>iPhone 买了两年半，中午发现电池鼓胀，到西单大悦城花 588 换了个新的。</p>
<a id="more"></a>
<p>中午睡觉之前玩手机，发现手机左边明显贴合不牢，同时屏幕中间凸起，上网查了查，应该是电池鼓胀问题。</p>
<p>预约了下午3点西单大悦城的 Genius Bar，店员看了直接说电池鼓胀，换个新的，问有没有超2年。2014.12.26买的，刚好两年多一点，补了588的价钱，换了一个全新的 iPhone。</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Apple </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[2016 年风电并网运行情况]]></title>
      <url>http://tommyjiang.github.io/2017/2017-02-05-wind-waste-2016/</url>
      <content type="html"><![CDATA[<p>本文数据来源：<a href="http://www.nea.gov.cn/2017-01/26/c_136014615.htm">国家能源局官网</a>。</p>
<a id="more"></a>
<p>各数据不包含香港、澳门和台湾地区数据，在作图时统一设为0。</p>

<div id="newInstalled" style="height:800px"></div>
</br>
<div id="totalInstalled" style="height:500px"></div>
</br>
<div id="totalGeneration" style="height:500px"></div>
</br>
<div id="totalWaste" style="height:500px"></div>
</br>
<div id="totalWasteRatio" style="height:500px"></div>
</br>
<div id="totalHour" style="height:500px"></div>


<script src="http://cdn.bootcss.com/echarts/3.4.0/echarts.min.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/china.js"></script>

<script>

var myChart = echarts.init(document.getElementById('newInstalled'));

    option = {
    title: {
        text: '2016年新增风电并网容量',
        subtext: '单位：万千瓦',
        left: 'center'
    },
    tooltip: {
        trigger: 'item'
    },
    legend: {
        orient: 'vertical',
        left: 'left',
        data:['2016年']
    },
    visualMap: {
        min: 0,
        max: 325,
        left: 'left',
        top: 'bottom',
        calculable: true
    },
    toolbox: {
        show: true,
        orient: 'vertical',
        left: 'right',
        top: 'center',
        feature: {
            dataView: {readOnly: false},
            restore: {},
            saveAsImage: {}
        }
    },
    series: [
        {
            name: '2016年',
            type: 'map',
            mapType: 'china',
            roam: false,
            label: {
                normal: {
                    show: true
                },
                emphasis: {
                    show: true
                }
            },
            data:[
                {name: '北京',value: 4 },
                {name: '天津',value: 0 },
                {name: '上海',value: 10 },
                {name: '重庆',value: 5 },
                {name: '河北',value: 166 },
                {name: '河南',value: 13 },
                {name: '云南',value: 325 },
                {name: '辽宁',value: 56 },
                {name: '黑龙江',value: 58 },
                {name: '湖南',value: 61 },
                {name: '安徽',value: 41 },
                {name: '山东',value: 118 },
                {name: '新疆',value: 85 },
                {name: '江苏',value: 149 },
                {name: '浙江',value: 15 },
                {name: '江西',value: 41 },
                {name: '湖北',value: 66 },
                {name: '广西',value: 24 },
                {name: '甘肃',value: 25 },
                {name: '山西',value: 102 },
                {name: '内蒙古',value: 132 },
                {name: '陕西',value: 80 },
                {name: '吉林',value: 61 },
                {name: '福建',value: 42 },
                {name: '贵州',value: 39 },
                {name: '广东',value: 22 },
                {name: '青海',value: 22 },
                {name: '西藏',value: 0 },
                {name: '四川',value: 52 },
                {name: '宁夏',value: 120 },
                {name: '海南',value: 0 },
                {name: '台湾',value: 0 },
                {name: '香港',value: 0 },
                {name: '澳门',value: 0 }
            ]
        },
    ]
};

myChart.setOption(option,true); //当setOption第二个参数为true时，会阻止数据合并
</script>

<script>

//初始化

var myChart2 = echarts.init(document.getElementById('totalInstalled'));

    option = {
    title: {
        text: '2016年累计风电并网容量',
        subtext: '单位：万千瓦',
        left: 'center'
    },
    tooltip: {
        trigger: 'item'
    },
    legend: {
        orient: 'vertical',
        left: 'left',
        data:['2016年']
    },
    visualMap: {
        min: 0,
        max: 2557,
        left: 'left',
        top: 'bottom',
        calculable: true
    },
    toolbox: {
        show: true,
        orient: 'vertical',
        left: 'right',
        top: 'center',
        feature: {
            dataView: {readOnly: false},
            restore: {},
            saveAsImage: {}
        }
    },
    series: [
        {
            name: '2016年',
            type: 'map',
            mapType: 'china',
            roam: false,
            label: {
                normal: {
                    show: true
                },
                emphasis: {
                    show: true
                }
            },
            data:[
                {name: '北京',value: 19 },
                {name: '天津',value: 29 },
                {name: '上海',value: 71 },
                {name: '重庆',value: 28 },
                {name: '河北',value: 1188 },
                {name: '河南',value: 104 },
                {name: '云南',value: 737 },
                {name: '辽宁',value: 695 },
                {name: '黑龙江',value: 561 },
                {name: '湖南',value: 217 },
                {name: '安徽',value: 177 },
                {name: '山东',value: 839 },
                {name: '新疆',value: 1776 },
                {name: '江苏',value: 561 },
                {name: '浙江',value: 119 },
                {name: '江西',value: 108 },
                {name: '湖北',value: 201 },
                {name: '广西',value: 67 },
                {name: '甘肃',value: 1277 },
                {name: '山西',value: 771 },
                {name: '内蒙古',value: 2557 },
                {name: '陕西',value: 249 },
                {name: '吉林',value: 505 },
                {name: '福建',value: 214 },
                {name: '贵州',value: 362 },
                {name: '广东',value: 268 },
                {name: '青海',value: 69 },
                {name: '西藏',value: 1 },
                {name: '四川',value: 125 },
                {name: '宁夏',value: 942 },
                {name: '海南',value: 31 },
                {name: '台湾',value: 0 },
                {name: '香港',value: 0 },
                {name: '澳门',value: 0 }
            ]
        },
    ]
};

myChart2.setOption(option,true); //当setOption第二个参数为true时，会阻止数据合并
</script>




<script>

//初始化

var myChart3 = echarts.init(document.getElementById('totalGeneration'));

    option = {
    title: {
        text: '2016年风电发电量',
        subtext: '单位：亿千瓦时',
        left: 'center'
    },
    tooltip: {
        trigger: 'item'
    },
    legend: {
        orient: 'vertical',
        left: 'left',
        data:['2016年']
    },
    visualMap: {
        min: 0,
        max: 464,
        left: 'left',
        top: 'bottom',
        calculable: true
    },
    toolbox: {
        show: true,
        orient: 'vertical',
        left: 'right',
        top: 'center',
        feature: {
            dataView: {readOnly: false},
            restore: {},
            saveAsImage: {}
        }
    },
    series: [
        {
            name: '2016年',
            type: 'map',
            mapType: 'china',
            roam: false,
            label: {
                normal: {
                    show: true
                },
                emphasis: {
                    show: true
                }
            },
            data:[
                {name: '北京',value: 3 },
                {name: '天津',value: 6 },
                {name: '河北',value: 219 },
                {name: '山西',value: 135 },
                {name: '山东',value: 147 },
                {name: '内蒙古',value: 464 },
                {name: '辽宁',value: 129 },
                {name: '吉林',value: 67 },
                {name: '黑龙江',value: 88 },
                {name: '上海',value: 14 },
                {name: '江苏',value: 98 },
                {name: '浙江',value: 23 },
                {name: '安徽',value: 34 },
                {name: '福建',value: 50 },
                {name: '江西',value: 19 },
                {name: '河南',value: 18 },
                {name: '湖北',value: 35 },
                {name: '湖南',value: 39 },
                {name: '重庆',value: 5 },
                {name: '四川',value: 21 },
                {name: '陕西',value: 28 },
                {name: '甘肃',value: 136 },
                {name: '青海',value: 10 },
                {name: '宁夏',value: 129 },
                {name: '新疆',value: 220 },
                {name: '西藏',value: 0.1 },
                {name: '广东',value: 50 },
                {name: '广西',value: 13 },
                {name: '海南',value: 6 },
                {name: '贵州',value: 55 },
                {name: '云南',value: 148 },
                {name: '台湾',value: 0 },
                {name: '香港',value: 0 },
                {name: '澳门',value: 0 }
            ]
        },
    ]
};

myChart3.setOption(option,true); //当setOption第二个参数为true时，会阻止数据合并
</script>




<script>

//初始化

var myChart4 = echarts.init(document.getElementById('totalWaste'));

    option = {
    title: {
        text: '2016年弃风电量',
        subtext: '单位：亿千瓦时',
        left: 'center'
    },
    tooltip: {
        trigger: 'item'
    },
    legend: {
        orient: 'vertical',
        left: 'left',
        data:['2016年']
    },
    visualMap: {
        min: 0,
        max: 137,
        left: 'left',
        top: 'bottom',
        calculable: true
    },
    toolbox: {
        show: true,
        orient: 'vertical',
        left: 'right',
        top: 'center',
        feature: {
            dataView: {readOnly: false},
            restore: {},
            saveAsImage: {}
        }
    },
    series: [
        {
            name: '2016年',
            type: 'map',
            mapType: 'china',
            roam: false,
            label: {
                normal: {
                    show: true
                },
                emphasis: {
                    show: true
                }
            },
            data:[
                {name: '北京',value: 0 },
                {name: '天津',value: 0 },
                {name: '河北',value: 22 },
                {name: '山西',value: 14 },
                {name: '山东',value: 0 },
                {name: '内蒙古',value: 124 },
                {name: '辽宁',value: 19 },
                {name: '吉林',value: 29 },
                {name: '黑龙江',value: 20 },
                {name: '上海',value: 0 },
                {name: '江苏',value: 0 },
                {name: '浙江',value: 0 },
                {name: '安徽',value: 0 },
                {name: '福建',value: 0 },
                {name: '江西',value: 0 },
                {name: '河南',value: 0 },
                {name: '湖北',value: 0 },
                {name: '湖南',value: 0 },
                {name: '重庆',value: 0 },
                {name: '四川',value: 0 },
                {name: '陕西',value: 2 },
                {name: '甘肃',value: 104 },
                {name: '青海',value: 0 },
                {name: '宁夏',value: 19 },
                {name: '新疆',value: 137 },
                {name: '西藏',value: 0.1 },
                {name: '广东',value: 0 },
                {name: '广西',value: 0 },
                {name: '海南',value: 0 },
                {name: '贵州',value: 0 },
                {name: '云南',value: 0 },
                {name: '台湾',value: 0 },
                {name: '香港',value: 0 },
                {name: '澳门',value: 0 }
            ]
        },
    ]
};

myChart4.setOption(option,true); //当setOption第二个参数为true时，会阻止数据合并
</script>




<script>

var myChart5 = echarts.init(document.getElementById('totalWasteRatio'));

    option = {
    title: {
        text: '2016年弃风率',
        subtext: '单位：百分比',
        left: 'center'
    },
    tooltip: {
        trigger: 'item'
    },
    legend: {
        orient: 'vertical',
        left: 'left',
        data:['2016年']
    },
    visualMap: {
        min: 0,
        max: 43,
        left: 'left',
        top: 'bottom',
        calculable: true
    },
    toolbox: {
        show: true,
        orient: 'vertical',
        left: 'right',
        top: 'center',
        feature: {
            dataView: {readOnly: false},
            restore: {},
            saveAsImage: {}
        }
    },
    series: [
        {
            name: '2016年',
            type: 'map',
            mapType: 'china',
            roam: false,
            label: {
                normal: {
                    show: true
                },
                emphasis: {
                    show: true
                }
            },
            data:[
                {name: '北京',value: 0 },
                {name: '天津',value: 0 },
                {name: '河北',value: 9 },
                {name: '山西',value: 9 },
                {name: '山东',value: 0 },
                {name: '内蒙古',value: 21 },
                {name: '辽宁',value: 13 },
                {name: '吉林',value: 30 },
                {name: '黑龙江',value: 19 },
                {name: '上海',value: 0 },
                {name: '江苏',value: 0 },
                {name: '浙江',value: 0 },
                {name: '安徽',value: 0 },
                {name: '福建',value: 0 },
                {name: '江西',value: 0 },
                {name: '河南',value: 0 },
                {name: '湖北',value: 0 },
                {name: '湖南',value: 0 },
                {name: '重庆',value: 0 },
                {name: '四川',value: 0 },
                {name: '陕西',value: 7 },
                {name: '甘肃',value: 43 },
                {name: '青海',value: 0 },
                {name: '宁夏',value: 13 },
                {name: '新疆',value: 38 },
                {name: '西藏',value: 0 },
                {name: '广东',value: 0 },
                {name: '广西',value: 0 },
                {name: '海南',value: 0 },
                {name: '贵州',value: 0 },
                {name: '云南',value: 4 },
                {name: '台湾',value: 0 },
                {name: '香港',value: 0 },
                {name: '澳门',value: 0 }
            ]
        },
    ]
};

myChart5.setOption(option,true); //当setOption第二个参数为true时，会阻止数据合并
</script>




<script>

var myChart6 = echarts.init(document.getElementById('totalHour'));

    option = {
    title: {
        text: '2016年风电利用小时数',
        subtext: '单位：小时',
        left: 'center'
    },
    tooltip: {
        trigger: 'item'
    },
    legend: {
        orient: 'vertical',
        left: 'left',
        data:['2016年']
    },
    visualMap: {
        min: 1088,
        max: 2503,
        left: 'left',
        top: 'bottom',
        calculable: true
    },
    toolbox: {
        show: true,
        orient: 'vertical',
        left: 'right',
        top: 'center',
        feature: {
            dataView: {readOnly: false},
            restore: {},
            saveAsImage: {}
        }
    },
    series: [
        {
            name: '2016年',
            type: 'map',
            mapType: 'china',
            roam: false,
            label: {
                normal: {
                    show: true
                },
                emphasis: {
                    show: true
                }
            },
            data:[
                {name: '北京',value: 1750 },
                {name: '天津',value: 2075 },
                {name: '河北',value: 2077 },
                {name: '山西',value: 1936 },
                {name: '山东',value: 1869 },
                {name: '内蒙古',value: 1830 },
                {name: '辽宁',value: 1929 },
                {name: '吉林',value: 1333 },
                {name: '黑龙江',value: 1666 },
                {name: '上海',value: 2162 },
                {name: '江苏',value: 1980 },
                {name: '浙江',value: 2161 },
                {name: '安徽',value: 2109 },
                {name: '福建',value: 2503 },
                {name: '江西',value: 2114 },
                {name: '河南',value: 1902 },
                {name: '湖北',value: 2063 },
                {name: '湖南',value: 2125 },
                {name: '重庆',value: 1600 },
                {name: '四川',value: 2247 },
                {name: '陕西',value: 1951 },
                {name: '甘肃',value: 1088 },
                {name: '青海',value: 1726 },
                {name: '宁夏',value: 1553 },
                {name: '新疆',value: 1290 },
                {name: '西藏',value: 1908 },
                {name: '广东',value: 1848 },
                {name: '广西',value: 2365 },
                {name: '海南',value: 1781 },
                {name: '贵州',value: 1806 },
                {name: '云南',value: 2223 },
                {name: '台湾',value: 0 },
                {name: '香港',value: 0 },
                {name: '澳门',value: 0 }
            ]
        },
    ]
};

myChart6.setOption(option,true); //当setOption第二个参数为true时，会阻止数据合并
</script>


]]></content>
      
        <categories>
            
            <category> 技术 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 电力 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[鸡年大吉]]></title>
      <url>http://tommyjiang.github.io/2017/2017-02-03-Chinese-new-year/</url>
      <content type="html"><![CDATA[<blockquote>
<p>明天，应该说，就是，鸡年就要来临了。</p>
</blockquote>
<a id="more"></a>
<h1 id="鸡年春节"><a href="#鸡年春节" class="headerlink" title="鸡年春节"></a>鸡年春节</h1><p>每逢佳节就会感慨单身的不易，其实家里亲戚已经算比较友善的了，但也禁不住别人成天念叨。</p>
<p>大年三十初中同学建了个微信群，80%的都不说话在里面抢红包……同学是用来怀念的，拉个群不知道聊啥确实挺尴尬的。</p>
<p>年也过完了，好好策划下2月的计划吧。</p>
<h1 id="2月计划"><a href="#2月计划" class="headerlink" title="2月计划"></a>2月计划</h1><p>大言不惭地说一句：我个人的执行力很强，所以定了计划一般都要拼死执行，不过还是给自己留点弹性，生活太一板一眼的话会很累。</p>
<h2 id="Geek"><a href="#Geek" class="headerlink" title="Geek"></a>Geek</h2><p>继续学习 Python，单刷两本 Python 数据分析相关书籍。</p>
<ul>
<li>☐ <a href="https://book.douban.com/subject/25779298/">利用 Python 进行数据分析</a>(Python for Data Analysis 中文版)</li>
<li>☐ <a href="https://book.douban.com/subject/25921015/">Python for Finance</a></li>
</ul>
<p>两本书大概浏览了一下，发现还是应该需求驱动型，单独看书效果一般。</p>
<h2 id="社交"><a href="#社交" class="headerlink" title="社交"></a>社交</h2><ul>
<li>☑ 发一篇征友文（已发在博客上，同时藏到知乎专栏后面，可能是史上最隐蔽的征友文了）</li>
<li>☐ 打一次羽毛球</li>
</ul>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Python </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[歌词摘录]]></title>
      <url>http://tommyjiang.github.io/2017/2017-01-03-Song-lyrics/</url>
      <content type="html"><![CDATA[<p>人若矫情起来，听什么歌都像唱自己。</p>
<a id="more"></a>
<h1 id="爱情"><a href="#爱情" class="headerlink" title="爱情"></a>爱情</h1><blockquote>
<p>难过是因为我太认真</p>
<p>——金南玲《逆流成河》</p>
<p>爱人在身边随处是天堂</p>
<p>——乌兰托娅《火红的萨日朗》</p>
<p>既然爱你不能言语<br>只能微笑哭泣<br>让我从此忘了你</p>
<p>——许茹芸《独角戏》</p>
<p>由来只有新人笑 有谁听到旧人哭</p>
<p>——黄安《新鸳鸯蝴蝶梦》</p>
<p>朝朝望呀望呀愁容添 相恋怎能不相怨</p>
<p>——新白娘子传奇《心湖雨又风》</p>
</blockquote>
<h1 id="青春"><a href="#青春" class="headerlink" title="青春"></a>青春</h1><blockquote>
<p>时光去了不回头 珍惜吧好朋友</p>
<p>江玲/钟镇涛 《在那河畔》</p>
<p>我们都曾有过一张天真而忧伤的脸<br>手握阳光我们望着遥远</p>
<p>四个女生 《心愿》</p>
</blockquote>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 音乐 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Echarts 实例]]></title>
      <url>http://tommyjiang.github.io/2017/2017-01-03-echarts-example/</url>
      <content type="html"><![CDATA[<p>Echarts 代码备忘。</p>
<a id="more"></a>

<div id="<%- id %>" style="width: 85%;height: 400px;margin: 0 auto"></div>
<script src="http://echarts.baidu.com/dist/echarts.common.min.js"></script>

<script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('<%- id %>'));
        // 指定图表的配置项和数据
        var colors = ['#5793f3', '#d14a61', '#675bba'];
        var option = {
    color: colors,

    tooltip: {
        trigger: 'axis'
    },
    grid: {
        right: '20%'
    },
    toolbox: {
        feature: {
            dataView: {show: true, readOnly: false},
            restore: {show: true},
            saveAsImage: {show: true}
        }
    },
    legend: {
        data:['蒸发量','降水量','平均温度']
    },
    xAxis: [
        {
            type: 'category',
            axisTick: {
                alignWithLabel: true
            },
            data: ['1月','2月','3月','4月','5月','6月','7月','8月','9月','10月','11月','12月']
        }
    ],
    yAxis: [
        {
            type: 'value',
            name: '蒸发量',
            min: 0,
            max: 250,
            position: 'right',
            axisLine: {
                lineStyle: {
                    color: colors[0]
                }
            },
            axisLabel: {
                formatter: '{value} ml'
            }
        },
        {
            type: 'value',
            name: '降水量',
            min: 0,
            max: 250,
            position: 'right',
            offset: 80,
            axisLine: {
                lineStyle: {
                    color: colors[1]
                }
            },
            axisLabel: {
                formatter: '{value} ml'
            }
        },
        {
            type: 'value',
            name: '温度',
            min: 0,
            max: 25,
            position: 'left',
            axisLine: {
                lineStyle: {
                    color: colors[2]
                }
            },
            axisLabel: {
                formatter: '{value} °C'
            }
        }
    ],
    series: [
        {
            name:'蒸发量',
            type:'bar',
            data:[2.0, 4.9, 7.0, 23.2, 25.6, 76.7, 135.6, 162.2, 32.6, 20.0, 6.4, 3.3]
        },
        {
            name:'降水量',
            type:'bar',
            yAxisIndex: 1,
            data:[2.6, 5.9, 9.0, 26.4, 28.7, 70.7, 175.6, 182.2, 48.7, 18.8, 6.0, 2.3]
        },
        {
            name:'平均温度',
            type:'line',
            yAxisIndex: 2,
            data:[2.0, 2.2, 3.3, 4.5, 6.3, 10.2, 20.3, 23.4, 23.0, 16.5, 12.0, 6.2]
        }
    ]
};
        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
</script>

]]></content>
      
        <categories>
            
            <category> Geek </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[2016行程总结]]></title>
      <url>http://tommyjiang.github.io/2016/2016-12-31-Trip-2016/</url>
      <content type="html"><![CDATA[<p>2016年，参加工作后第一个完整的自然年，飞得少了，高铁多了。</p>
<a id="more"></a>
<p>2016年各月飞机里程和火车里程如下：</p>

<div id="tripSum2016" style="height:400px"></div>

<p>离开学校后出差不怎么坐飞机了，但高铁还是坐了不少，一年算下来也坐了 13000 多公里的高铁。</p>

<script src="http://echarts.baidu.com/build/dist/echarts.js"></script>
<script type="text/javascript">
// 路径配置
    require.config({
        paths: {
            echarts: 'http://echarts.baidu.com/build/dist'
        }
    });

    require(
        [
            'echarts',
            'echarts/chart/bar',
            'echarts/chart/line',
        ],
        drawEcharts
    );

    function drawEcharts(ec){
        TripSum2016(ec);
    }

    function TripSum2016(ec){
        var myTripSum2016 = ec.init(document.getElementById('tripSum2016'),'macarons');

        option = {
            tooltip : {
                trigger: 'axis'
            },
            toolbox: {
                show : false,
                feature : {
                    mark : {show: true},
                    dataView : {show: true, readOnly: false},
                    magicType: {show: true, type: ['bar', 'bar', 'bar']},
                    restore : {show: true},
                    saveAsImage : {show: true}
                }
            },
            calculable : true,
            legend: {
                data:['飞机行程', '火车行程']
            },
            xAxis : [
                {
                    type : 'category',
                    data : ['1月','2月','3月','4月','5月','6月','7月','8月','9月','10月','11月','12月']
                }
            ],
            yAxis : [
                {
                    type : 'value',
                    name : '飞机行程(km)',
                    axisLabel : {
                        formatter: '{value}'
                    }
                },
                {
                    type : 'value',
                    name : '火车行程(km)',
                    axisLabel : {
                        formatter: '{value}'
                    }
                }
            ],
            series : [
                {
                    name:'飞机行程',
                    type:'bar',
                    data:[0, 0, 0, 0, 0, 0, 0, 3932, 0, 0, 0, 0]
                },
                {
                    name:'火车行程',
                    type:'bar',
                    yAxisIndex: 1,
                    data:[2374, 468, 354, 2432, 2754, 0, 0, 451, 0, 2609, 1568, 354]
                }
            ]
        };
        myTripSum2016.setOption(option,true); //当setOption第二个参数为true时，会阻止数据合并
    }
</script>

]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 旅行 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[手帕口道口通过车次信息]]></title>
      <url>http://tommyjiang.github.io/2016/2016-12-10-Shou-pa-kou-crossing/</url>
      <content type="html"><![CDATA[<p>毕业工作后从五道口转到了手帕口道口，每天到道口听听车机联控还是很开心的，记录下具体的车次信息。</p>
<a id="more"></a>

<table border="1px" align="center">
  <tr>
    <th style="text-align:center">序号</th>
    <th style="text-align:center">车次</th>
    <th style="text-align:center">始发站</th>
    <th style="text-align:center">终到站</th>
    <th style="text-align:center">上/下行</th>
    <th style="text-align:center">北京西站开车/停车时间</th>
    <th style="text-align:center">手帕口路口通过时间段</th>
  </tr>
  <tr>
    <td style="text-align:center">1</td>
    <td style="text-align:center">Z66</td>
    <td style="text-align:center">南昌</td>
    <td style="text-align:center">北京西</td>
    <td style="text-align:center">上行</td>
    <td style="text-align:center">07:38</td>
    <td style="text-align:center">07:33-07:36</td>
  </tr>
  <tr>
    <td style="text-align:center">2</td>
    <td style="text-align:center">Z134</td>
    <td style="text-align:center">井冈山</td>
    <td style="text-align:center">北京西</td>
    <td style="text-align:center">上行</td>
    <td style="text-align:center">08:03</td>
    <td style="text-align:center">07:58-08:01</td>
  </tr>
  <tr>
    <td style="text-align:center">3</td>
    <td style="text-align:center">K148</td>
    <td style="text-align:center">阜阳</td>
    <td style="text-align:center">北京西</td>
    <td style="text-align:center">上行</td>
    <td style="text-align:center">08:33</td>
    <td style="text-align:center">08:28-08:31</td>
  </tr>
  <tr>
    <td style="text-align:center">4</td>
    <td style="text-align:center">Y530</td>
    <td style="text-align:center">张家口南</td>
    <td style="text-align:center">北京西</td>
    <td style="text-align:center">上行</td>
    <td style="text-align:center">10:10</td>
    <td style="text-align:center">10:05-10:08</td>
  <tr>
    <td style="text-align:center">5</td>
    <td style="text-align:center">K1071</td>
    <td style="text-align:center">北京西</td>
    <td style="text-align:center">安庆</td>
    <td style="text-align:center">下行</td>
    <td style="text-align:center">12:12</td>
    <td style="text-align:center">12:14-12:17</td>
  </tr>
  <tr>
    <td style="text-align:center">6</td>
    <td style="text-align:center">K1110</td>
    <td style="text-align:center">黄山</td>
    <td style="text-align:center">北京西</td>
    <td style="text-align:center">上行</td>
    <td style="text-align:center">12:35</td>
    <td style="text-align:center">12:30-12:33</td>
  </tr>
  <tr>
    <td style="text-align:center">7</td>
    <td style="text-align:center">K572</td>
    <td style="text-align:center">厦门</td>
    <td style="text-align:center">北京西</td>
    <td style="text-align:center">上行</td>
    <td style="text-align:center">12:56</td>
    <td style="text-align:center">12:51-12:54</td>
  </tr>
  <tr>
    <td style="text-align:center">8</td>
    <td style="text-align:center">Y516</td>
    <td style="text-align:center">石家庄北</td>
    <td style="text-align:center">张家口南</td>
    <td style="text-align:center">下行</td>
    <td style="text-align:center">14:53</td>
    <td style="text-align:center">14:54-14:56</td>
  </tr>
  <tr>
    <td style="text-align:center">9</td>
    <td style="text-align:center">Z65</td>
    <td style="text-align:center">北京西</td>
    <td style="text-align:center">南昌</td>
    <td style="text-align:center">下行</td>
    <td style="text-align:center">19:49</td>
    <td style="text-align:center">19:51-19:54</td>
  </tr>
  <tr>
    <td style="text-align:center">10</td>
    <td style="text-align:center">Z107</td>
    <td style="text-align:center">北京西</td>
    <td style="text-align:center">深圳</td>
    <td style="text-align:center">下行</td>
    <td style="text-align:center">19:55</td>
    <td style="text-align:center">19:57-20:09</td>
  </tr>
  <tr>
    <td style="text-align:center">11</td>
    <td style="text-align:center">1136</td>
    <td style="text-align:center">天津</td>
    <td style="text-align:center">乌海西</td>
    <td style="text-align:center">上行</td>
    <td style="text-align:center">22:29</td>
    <td style="text-align:center">22:24-22:27</td>
  </tr>
  <tr>
    <td style="text-align:center">12</td>
    <td style="text-align:center">1303</td>
    <td style="text-align:center">北京西</td>
    <td style="text-align:center">郑州</td>
    <td style="text-align:center">下行</td>
    <td style="text-align:center">22:38</td>
    <td style="text-align:center">22:40-22:43</td>
  </tr>
</table>

]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 铁路 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Hexo 博文中加入百度地图]]></title>
      <url>http://tommyjiang.github.io/2016/2016-11-16-Hexo-baidu-map/</url>
      <content type="html"><![CDATA[<p>利用百度地图 API 实现在 Hexo 的博文中加入地图。</p>
<a id="more"></a>
<p>最近想丰富下生活，最先想到的就是多品尝点北京的美食。作为一个认真的人，吃过就想记下来，但只有饭馆的名字和地址显得太单调了，就想能在地图上显示的话会比较直观。搜了下百度地图的 API，不多说，直接上代码吧。更详细的内容可以参考百度地图 Javascript 的 <a href="http://lbsyun.baidu.com/index.php?title=jspopular">API</a>。</p>
<p>首先新建一个<code>div</code>：</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">min-height</span><span class="token punctuation">:</span> 800px<span class="token punctuation">;</span> <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>map<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>然后利用百度地图 API 在<code>div</code>中填充一个地图：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span><span class="token operator">></span>
        <span class="token comment">// 百度地图API功能</span>
        <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMap<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token string">"map"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 创建Map实例</span>
        map<span class="token punctuation">.</span><span class="token function">centerAndZoom</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BMap<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">116.404</span><span class="token punctuation">,</span> <span class="token number">39.915</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 初始化地图,设置中心点坐标和地图级别</span>
        <span class="token comment">//添加地图类型控件</span>
        map<span class="token punctuation">.</span><span class="token function">addControl</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BMap<span class="token punctuation">.</span>MapTypeControl</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        mapTypes<span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token constant">BMAP_NORMAL_MAP</span><span class="token punctuation">,</span>
            <span class="token constant">BMAP_HYBRID_MAP</span>
        <span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">setCurrentCity</span><span class="token punctuation">(</span><span class="token string">"北京"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// 设置地图显示的城市 此项是必须设置的</span>
        map<span class="token punctuation">.</span><span class="token function">enableScrollWheelZoom</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//开启鼠标滚轮缩放</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>上述代码直接放在 Hexo Markdown 博文中的<code>raw</code>标签中，即：</p>
<pre class="line-numbers language-none"><code class="language-none">&#123;% raw %&#125;
上边的代码
&#123;% endraw %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>结果如下：</p>

    <div style="min-height: 500px; width: 100%; overflow: hidden; margin:0; font-family:"微软雅黑";" id="map">
    </div>

    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=x2V7KanMxVA2GuK7oFHPOiGytFSXWoyN"></script>
    <script type="text/javascript">
            // 百度地图API功能
            var map = new BMap.Map("map");    // 创建Map实例
            map.centerAndZoom(new BMap.Point(116.404, 39.915), 11);  // 初始化地图,设置中心点坐标和地图级别
            //添加地图类型控件
            map.addControl(new BMap.MapTypeControl({
            mapTypes:[
                BMAP_NORMAL_MAP,
                BMAP_HYBRID_MAP
            ]}));
            map.setCurrentCity("北京");          // 设置地图显示的城市 此项是必须设置的
            map.enableScrollWheelZoom(true);     //开启鼠标滚轮缩放

        // 百度地图API功能
        // var map = new BMap.Map("map");    // 创建Map实例
        // map.centerAndZoom(new BMap.Point(98.98284,18.787971), 15);  // 初始化地图,设置中心点坐标和地图级别
        // //添加地图类型控件
        // map.addControl(new BMap.MapTypeControl({
        // mapTypes:[
        //         BMAP_NORMAL_MAP
        //     ]}));
        // map.setCurrentCity("清迈");          // 设置地图显示的城市 此项是必须设置的
        // map.enableScrollWheelZoom(true);     //开启鼠标滚轮缩放
        // var point = new BMap.Point(98.965718,18.795633);
        // var marker = new BMap.Marker(point);        // 创建标注
        // map.addOverlay(marker);                     // 将标注添加到地图中
    </script>

]]></content>
      
        <categories>
            
            <category> Geek </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[纪念清华园站 & 我的铁路情缘]]></title>
      <url>http://tommyjiang.github.io/2016/2016-11-01-Tsinghua-yuan-station/</url>
      <content type="html"><![CDATA[<p>百年老站清华园站昨天悄然谢幕，谨以此文聊表纪念，顺便聊聊我和铁路的不解之缘。</p>
<a id="more"></a>
<h1 id="清华园和五道口的谢幕"><a href="#清华园和五道口的谢幕" class="headerlink" title="清华园和五道口的谢幕"></a>清华园和五道口的谢幕</h1><p>2016年11月1日，百年老站清华园站停止办理客运业务，五道口熟悉的“行人车辆请注意，火车就要开过来了”也成为了历史。微博上有一段2016年10月31日晚11点50分左右 K273 次通过清华园站时候的<a href="http://weibo.com/1558146213/EfGEgrFxu?from=page_1005051558146213_profile&amp;wvr=6&amp;mod=weibotime">视频</a>，视频中记录了清华园站最后的车机联控：</p>
<blockquote>
<p>“清华园车站再见，五道口再见。”<br>“清华园车站再见！五道口再见！”<br>“双清路道口再见！”<br>“再见了，拜拜了。”<br>“再见了，同志们。”<br>“再见了！”<br>“再见了……同志们……”</p>
</blockquote>
<p>作为一个在五道口旁生活9年的人，看到这个视频一阵心酸，有的人有的事真的只能陪你走一段路。五道口的大喇叭广播和栏杆曾经是多么习以为常的事，如今却也要黯然退场。我自己曾在2012年3月坐过北京北——通辽的K1015次，2014年9月坐过清华园——南口的S2线，四次坐车经过五道口，也算最好的纪念了吧。</p>
<p>2016-11-04更新：上个视频的作者发布了五道口最后一趟列车 K273 次车机联控的完整版<a href="http://www.bilibili.com/video/av6934371/">视频</a>。</p>
<h1 id="我和铁路"><a href="#我和铁路" class="headerlink" title="我和铁路"></a>我和铁路</h1><p>由于爸妈都是铁路工人，加上小时候每周都往返于秦皇岛和古冶（现在是唐山的一个区）之间，我很早就对铁路很熟悉。印象最深的就是每次在站台等车时，火车呼啸着从身边经过的时候我都要捂紧耳朵。奶奶也是老铁路员工，所以住的离铁路都很近。我还记得小时候家的楼房号是303，从古冶回秦皇岛的时候坐的车也是303，那时候也没有什么K/T/Z，更别说G/D了。</p>
<p>每天晚上睡觉的时候，我都能听到火车从不远处的铁道上经过的哐哧声和时不时伴随的车头的鸣笛声。小时候也经常到秦皇岛站旁边的信号工区跟着我妈一起上班，印象中我妈办公室旁边不远就是秦皇岛站的车站值班大厅，当时条件还十分落后，不同的车次还要用红色、蓝色和黑色圆珠笔加以区分，前面大屏上的灯显示的是秦皇岛站各股道以及上、下行一接近的情况。2007年夏天我再回去的时候，列车和车站的具体信息已经都显示到在电脑上显示了，确实进步了不少。</p>
<p>小时候坐的车都是现在已经是古董的绿皮车，我最喜欢坐的是靠窗的位置，爸妈带我坐车的时候经常会和别人商量让我换到窗边，现在想想也确实挺熊孩子的……第一次坐长途车应该是在2001年的五一，当时从唐山坐 K190 次去上海，由于之前没定好行程，上车后我还站了很久，直到有人下车才补的卧铺票。2007年铁路第六次大提速的时候，我趴在宿舍小电视的旁边看新闻，那是第一次见到动车组，子弹头和流线的造型太夺人眼球了，直到2008年的夏天我才第一次坐动车，和本科同学一起从北京到北戴河。</p>
<p>读博后由于经常出差，坐高铁的次数也多了很多。2012年我曾经从广州南坐车到武汉站，然后再转直特到北京西，当时京广高铁武广段已经通车，但京武段还没。2014年6月从北京南到南京南，终于体验了一回京沪高铁。不得不说坐标杆车在京沪高铁济南西和京广高铁石家庄站正线以 270km/h 以上的速度通过的时候还是很爽的。</p>
<p>今年9月郑徐打通，京沪和京广有不那么近的连接通道了，年底沪昆高铁全线打通，云南也步入高铁时代了。作为铁路子弟，也算见证了中国铁路的发展和变迁，这也是我和铁路之间的不解之缘。</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 铁路 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[愿得一心人，白首不相离]]></title>
      <url>http://tommyjiang.github.io/2016/2016-10-24-Forever-love/</url>
      <content type="html"><![CDATA[<p>最近遇到点小挫折，过程中也成长了不少。</p>
<a id="more"></a>
<p>1.生活技能树很重要，要多点、早点这部分技能。之前读博包括毕业后的一段时间都在主修工作技能，现在发现这部分技能在交往中几乎没用，还是要多体验生活，发展点兴趣爱好，做个饭，开个车等等，这样聊天也有话题，总不能一直聊工作吧。</p>
<p>2.尊重他人的想法。认真对待感情的人在想清楚之后都会做出决定，尊重别人的想法和决定，别太较真，别太强势。</p>
<p>3.人是会变的，感情也是需要培养的。开始的时候别用力太猛，所谓情深不寿，两个人的感情是和经历相关的，没有共同的经历，感情就是无源之水，无本之木。</p>
<p>4.凤凰周刊的王路有篇文章写得很好，题目叫<a href="https://zhuanlan.zhihu.com/p/22310846?refer=wanglu">《必须向大龄单身女致敬》</a>，里面有这样一段话：</p>
<blockquote>
<p>要能够接受爱情的缺席。要能够接受一切美好事物的缺席。在有瑕疵的生命中，去尽心尽力，才有望企及真正的圆满。</p>
</blockquote>
<p>缘分从来都是自己主动争取来的，而不是被动等来的，现在很多单身青年都不着急，抱着提升自己的心态生活，想找一个对象却又不采取最简单直接的方式。找对象，关键是找，而不是所谓的提升自己。</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 感情 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[北京地铁各线路颜色 HEX 及 RGB 代码]]></title>
      <url>http://tommyjiang.github.io/2016/2016-09-10-Beijing-subway-color/</url>
      <content type="html"><![CDATA[<p>大概翻了翻，网上好像还没有北京地铁各线路颜色的 HEX 及 RGB 代码，自己整理一份。</p>
<a id="more"></a>
<p>北京地铁各线路颜色 HEX 和 RGB 代码如下，参考<a href="http://www.bjsubway.com/subwaymap/station_map.html">北京地铁官网线路图</a>：</p>

<table border="1px" align="center">
  <tr>
    <th style="text-align:center">线路序号</th>
    <th style="text-align:center">颜色</th>
    <th style="text-align:center">PANTONE</th>
    <th style="text-align:center">HEX</th>
    <th style="text-align:center">RGB</th>
  </tr>
  <tr>
    <td style="text-align:center">1号线/八通线</td>
    <td bgcolor="A4343A" style="text-align:center"></td>
    <td style="text-align:center">1807 C</td>
    <td style="text-align:center">#A4343A</td>
    <td style="text-align:center">rgb(164, 52, 38)</td>
  </tr>
  <tr>
    <td style="text-align:center">2号线</td>
    <td bgcolor="004B87" style="text-align:center"></td>
    <td style="text-align:center">301 C</td>
    <td style="text-align:center">#004B87</td>
    <td style="text-align:center">rgb(0, 75, 135)</td>
  </tr>
  <tr>
    <td style="text-align:center">4号线/大兴线</td>
    <td bgcolor="008C95" style="text-align:center"></td>
    <td style="text-align:center">321 C</td>
    <td style="text-align:center">#008C95</td>
    <td style="text-align:center">rgb(0, 140, 149)</td>
  </tr>
  <tr>
    <td style="text-align:center">5号线</td>
    <td bgcolor="AA0061" style="text-align:center"></td>
    <td style="text-align:center">227 C</td>
    <td style="text-align:center">#AA0061</td>
    <td style="text-align:center">rgb(170, 0, 97)</td>
  </tr>
  <tr>
    <td style="text-align:center">6号线</td>
    <td bgcolor="B58500" style="text-align:center"></td>
    <td style="text-align:center">125 C</td>
    <td style="text-align:center">#B58500</td>
    <td style="text-align:center">rgb(181, 133, 0)</td>
  </tr>
  <tr>
    <td style="text-align:center">7号线</td>
    <td bgcolor="FFC56E" style="text-align:center"></td>
    <td style="text-align:center">1355 C</td>
    <td style="text-align:center">#FFC56E</td>
    <td style="text-align:center">rgb(255, 197, 110)</td>
  </tr>
  <tr>
    <td style="text-align:center">8号线</td>
    <td bgcolor="009B77" style="text-align:center"></td>
    <td style="text-align:center">3278 C</td>
    <td style="text-align:center">#009B77</td>
    <td style="text-align:center">rgb(0, 155, 119)</td>
  </tr>
  <tr>
    <td style="text-align:center">9号线</td>
    <td bgcolor="97D700" style="text-align:center"></td>
    <td style="text-align:center">375 C</td>
    <td style="text-align:center">#97D700</td>
    <td style="text-align:center">rgb(151, 215, 0)</td>
  </tr>
  <tr>
    <td style="text-align:center">10号线</td>
    <td bgcolor="0092BC" style="text-align:center"></td>
    <td style="text-align:center">313 C</td>
    <td style="text-align:center">#0092BC</td>
    <td style="text-align:center">rgb(0, 146, 188)</td>
  </tr>
  <tr>
    <td style="text-align:center">13号线</td>
    <td bgcolor="F4DA40" style="text-align:center"></td>
    <td style="text-align:center">7404 C</td>
    <td style="text-align:center">#F4DA40</td>
    <td style="text-align:center">rgb(244, 218, 64)</td>
  </tr>
  <tr>
    <td style="text-align:center">14号线</td>
    <td bgcolor="CA9A8E" style="text-align:center"></td>
    <td style="text-align:center">7612 C</td>
    <td style="text-align:center">#CA9A8E</td>
    <td style="text-align:center">rgb(202, 154, 142)</td>
  </tr>
  <tr>
    <td style="text-align:center">15号线</td>
    <td bgcolor="653279" style="text-align:center"></td>
    <td style="text-align:center">7664 C</td>
    <td style="text-align:center">#653279</td>
    <td style="text-align:center">rgb(101, 50, 121)</td>
  </tr>
  <tr>
    <td style="text-align:center">16号线</td>
    <td bgcolor="6BA539" style="text-align:center"></td>
    <td style="text-align:center">7737 C</td>
    <td style="text-align:center">#6BA539</td>
    <td style="text-align:center">rgb(107, 165, 57)</td>
  </tr>
  <tr>
    <td style="text-align:center">昌平线</td>
    <td bgcolor="D986BA" style="text-align:center"></td>
    <td style="text-align:center">673 C</td>
    <td style="text-align:center">#D986BA</td>
    <td style="text-align:center">rgb(217, 134, 186)</td>
  </tr>
  <tr>
    <td style="text-align:center">房山线/燕房线</td>
    <td bgcolor="D86018" style="text-align:center"></td>
    <td style="text-align:center">1595 C</td>
    <td style="text-align:center">#D86018</td>
    <td style="text-align:center">rgb(216, 96, 24)</td>
  </tr>
  <tr>
    <td style="text-align:center">机场线</td>
    <td bgcolor="A192B2" style="text-align:center"></td>
    <td style="text-align:center">666 C</td>
    <td style="text-align:center">#A192B2</td>
    <td style="text-align:center">rgb(161, 146, 178)</td>
  </tr>
  <tr>
    <td style="text-align:center">西郊线</td>
    <td bgcolor="D22630" style="text-align:center"></td>
    <td style="text-align:center">1795 C</td>
    <td style="text-align:center">#D22630</td>
    <td style="text-align:center">rgb(210, 38, 48)</td>
  </tr>
  <tr>
    <td style="text-align:center">亦庄线</td>
    <td bgcolor="D0006F" style="text-align:center"></td>
    <td style="text-align:center">226 C</td>
    <td style="text-align:center">#D0006F</td>
    <td style="text-align:center">rgb(208, 0, 111)</td>
  </tr>
  <tr>
    <td style="text-align:center">S1 线</td>
    <td bgcolor="A45A2A" style="text-align:center"></td>
    <td style="text-align:center">470 C</td>
    <td style="text-align:center">#A45A2A</td>
    <td style="text-align:center">rgb(164, 90, 42)</td>
  </tr>
</table>

<h1 id="版本记录"><a href="#版本记录" class="headerlink" title="版本记录"></a>版本记录</h1><ul>
<li>2016-09-10：v1.0-新建博文。</li>
<li>2018-11-23：v2.0-根据北京市地方标准 DB11/T 657.2-2015 中的 PANTONE color 修订。</li>
</ul>
]]></content>
      
        <categories>
            
            <category> 技术 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Collection </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Mac 下 Emacs Org mode 加密以及 gnupg 的安装]]></title>
      <url>http://tommyjiang.github.io/2016/2016-09-06-Org-mode-org-encrypt-gnupg-Mac/</url>
      <content type="html"><![CDATA[<p>Mac 下 Org mode 加密之前用得好好的，最近发现执行<code>org-encrypt-entry</code>时有问题，原来是<code>gnupg</code>的原因。</p>
<a id="more"></a>
<p>迁移到<code>Spacemacs</code>之后感觉很方便，<code>base package</code>中自带了<code>exec-path-from-shell</code>，可以直接使用 Mac 系统的环境变量。</p>
<p>前天用<code>org-encrypt-entry</code>把<code>org</code>文件加密的时候报错，查了下<code>homebrew</code>安装的<code>gnupg</code>，发现已经更新到<code>gnupg2</code>了。所以果断自己下载了<code>gnupg 1.4.21</code>的稳定版：</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">brew <span class="token function">install</span> gpg1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>同时在<code>.spacemacs.d</code>的<code>init.el</code>中加入了<code>gnupg 1.4.21</code>的路径：</p>
<pre class="line-numbers language-lisp" data-language="lisp"><code class="language-lisp"><span class="token punctuation">(</span><span class="token car">add-to-list</span> <span class="token quoted-symbol variable symbol">'exec-path</span> <span class="token string">"/usr/local/opt/gnupg/libexec/gpgbin"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>又可以用来<code>gnupg</code>来给<code>org</code>文件加密了。</p>
]]></content>
      
        <categories>
            
            <category> 技术 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Mac </tag>
            
            <tag> Emacs </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[西单大悦城更换 RMBP 屏幕攻略]]></title>
      <url>http://tommyjiang.github.io/2016/2016-08-28-Apple-xidan-joy-city-retina-display/</url>
      <content type="html"><![CDATA[<p>RMBP 买了一年半，屏幕涂层脱落得七零八落……到西单大悦城 Apple Store 免费换了个新的，非常棒。</p>
<a id="more"></a>
<p>网上有很多关于 RMBP 涂层脱落的问题，比如<a href="https://www.zhihu.com/question/26424953">知乎上的讨论</a>。其实去年10月开始 Apple 就已经发布内部通知免费维修 Macbook 和 Macbook Pro 防眩光涂层脱落问题，只是没有大肆宣传。正好离西单很近，直接到西单大悦城 Apple Store 换新。</p>
<ul>
<li>2016.8.22 预约8.23中午 Genius bar。</li>
<li>2016.8.23 中午到 Genius bar，被告知没有现成的屏幕，需要订购，把电脑拿回来等通知。</li>
<li>2016.8.25 下午收到 Apple 的邮件，告知已到货，预约8.28晚上 Genius bar。</li>
<li>2016.8.27 上午收到西单大悦城 Apple Store 电话，通知屏幕已到货。</li>
<li>2016.8.28 晚上拿到西单大悦城 Apple Store 维修。</li>
<li>2016.8.29 上午取回。</li>
</ul>
<p>整个过程还算顺利，5100大洋一分没花，换完屏幕的 Mac 焕然一新，哈哈。</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Mac </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[工银亚洲香港账户开户攻略]]></title>
      <url>http://tommyjiang.github.io/2016/2016-08-26-ICBC-Asia/</url>
      <content type="html"><![CDATA[<p>开了个工银亚洲的香港账户。</p>
<a id="more"></a>
<p>和小哥在 HK 一起度过了愉快的半年，即使走了也很怀念那段时光，正好最近在 HK 有些财务往来，所以决定办一张工银亚洲的香港银行卡，方便进行 HK 的交易。</p>
<h1 id="开户流程"><a href="#开户流程" class="headerlink" title="开户流程"></a>开户流程</h1><p>到单位最近的复外支行询问，答复说要去工行北京市分行办理，也不远，就在复兴门桥南边一点的天银大厦。携带的材料就更简单了，只需要身份证和有效期三个月以上的港澳通行证，柜台交了 200 块手续费，就让回来等 HK 那边的电话确认了，负责办理的小妹还特意说了一句，估计香港那边周末不加班，工作日保持手机畅通就可以了……</p>
<p>过了一周，手机收到短信：</p>
<blockquote>
<p>【工银亚洲】工银亚洲客服即将致电给您进行开户申请确认，请注意接听。如有查询，请即致电(852)21895588。</p>
</blockquote>
<p>中午12点多正在吃饭的时候，接到了工银亚洲的开户确认电话，核实了身份证号码、单位地址和手机号，然后询问是否拿到密码封和电子密码器，开户确认手续就完成了。</p>
<p>第二天下午发了电子密码器 12 位激活码，账户也已经开户。但工银亚洲账户需要本人通过内地工行账户向其中汇一笔钱开通，开通前拒收一切其他账户汇款，周六上午在工行柜台办了汇款，等到周一中午终于入账完毕，可以正常使用了。</p>
<h1 id="工银亚洲香港账户介绍"><a href="#工银亚洲香港账户介绍" class="headerlink" title="工银亚洲香港账户介绍"></a>工银亚洲香港账户介绍</h1><p>工行作为网友口中的“宇宙行”，各方面业务实力还是很强的。工银亚洲在香港虽然算小行，但有工行撑腰，也算个不错的选择。</p>
<p>账户管理费方面，首年免费，第二年起需要存 10000 港币，否则每月要收取 15 港币的账户管理费。</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 香港 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Anaconda 使用清华镜像源]]></title>
      <url>http://tommyjiang.github.io/2016/2016-08-25-anaconda-tsinghua-mirror/</url>
      <content type="html"><![CDATA[<p>Mac/Win 下将 <code>Anaconda</code> 镜像更改为清华镜像源的方法。</p>
<a id="more"></a>
<h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>用惯了 Mac 或者 Linux 的同学一定会爱上 <code>brew</code> 和 <code>apt-get</code> 这种一键式的安装工具。不用像 Windows 一样到处去找各个软件的安装包，只需要一个命令就都能搞定，掌控天下的感觉:)</p>
<p>但这种一键式安装工具极为依赖镜像源，国内的网络在连国外某些镜像时实在是太慢了，所以有很多组织和个人在国内搭建了镜像服务器，造福大众。</p>
<p><code>Anaconda</code> 是 Python 的一个发行包，这个单词的原意是南美发现的一种巨蟒，可能是由于它包括了很多 Python 的 <code>package</code>所以叫这个名字。<code>Anaconda</code> 的 <code>defaults</code> 镜像源实在是太慢了，清华 TUNA 提供了一个<a href="https://mirrors.tuna.tsinghua.edu.cn/help/anaconda/">国内镜像源</a>，我们要做的就是将这个镜像源作为 <code>Anaconda</code> 的默认镜像源。</p>
<h1 id="Mac"><a href="#Mac" class="headerlink" title="Mac"></a>Mac</h1><p>Mac 下切换很简单，直接在 <code>terminal</code> 中输入(参考<a href="https://mirrors.tuna.tsinghua.edu.cn/help/anaconda/">清华 TUNA 国内镜像源</a>)：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">conda config --add channels <span class="token string">'https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/'</span>
conda config --set show_channel_urls <span class="token function">yes</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h1 id="Win"><a href="#Win" class="headerlink" title="Win"></a>Win</h1><p>Win 下稍微麻烦一些，如果直接在 <code>cmd</code> 中输入上述命令，<code>conda install</code> 的时候会报错：</p>
<blockquote>
<p>Error: Could not find anaconda.org user ‘https:</p>
</blockquote>
<p>方法是修改 <code>.condarc</code> 文件为以下形式(参考<a href="http://blog.5ibc.net/p/87204.html">该网址</a>)：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">channels:
- https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
- defaults

show_channel_urls: <span class="token function">yes</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
]]></content>
      
        <categories>
            
            <category> Geek </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Python </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[七夕·Google]]></title>
      <url>http://tommyjiang.github.io/2016/2016-08-09-Google-qi-xi/</url>
      <content type="html"><![CDATA[<p>今天是中国传统佳节七夕，Google 主页也很应景地换成了七夕的配图。</p>
<a id="more"></a>
<p>Google 不愧是一个充满人文关怀的公司，今天也应景地配上了七夕的图片。中午打开 Mac 下的 Chrome 时发现整个 UI 焕然一新，原来已经升级到 v52 版本，整体 UI 借鉴了移动设备上的 <code>Material</code> 风格，界面更加简洁，科技感更强，整体配色也更高冷了。</p>
<p><img src="/images/2016/Chrome-v52.png" alt=""></p>
<p>说起七夕，印象比较深的有高考那年，也就是 2006 年的双七夕。</p>
<p>年少轻狂，很多时候很多事儿都想不清楚，稀里糊涂地做了选择。现在回过来看，所谓成长，大概就是有能力做出选择，并且承担选择带来的后果吧。</p>
<blockquote>
<p>两情若是长久时，又岂在朝朝暮暮。</p>
</blockquote>
<p>七夕快乐。</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 感情 </tag>
            
            <tag> Google </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[MATLAB plot 函数默认 color 调整]]></title>
      <url>http://tommyjiang.github.io/2016/2016-07-19-MATLAB-plot-color/</url>
      <content type="html"><![CDATA[<p>从 MATLAB 2014b 开始，其 <code>plot</code> 函数的默认颜色有所调整。</p>
<a id="more"></a>
<p>新的默认配色名称为 <code>parula</code>，意为北美生活的一种森莺。</p>
<p>如果想了解 <code>parula</code> 的配色方案，可以在 MATLAB 中输入以下命令：</p>
<pre class="line-numbers language-matlab" data-language="matlab"><code class="language-matlab"><span class="token function">get</span><span class="token punctuation">(</span>gca<span class="token punctuation">,</span><span class="token string">'colororder'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>默认配色 <code>parula</code> 的前七种颜色如下：</p>

<table border="1px" align="center">
  <tr>
    <th style="text-align:center">颜色</th>
    <th style="text-align:center">HEX</th>
    <th style="text-align:center">RGB</th>
  </tr>
  <tr>
    <td bgcolor="0072bd" style="text-align:center"></td>
    <td style="text-align:center">#0072BD</td>
    <td style="text-align:center">rgb(0, 114, 189)</td>
  </tr>
  <tr>
    <td bgcolor="d95319" style="text-align:center"></td>
    <td style="text-align:center">#D95319</td>
    <td style="text-align:center">rgb(217, 83, 25)</td>
  </tr>
  <tr>
    <td bgcolor="edb120" style="text-align:center"></td>
    <td style="text-align:center">#EDB120</td>
    <td style="text-align:center">rgb(237, 177, 32)</td>
  </tr>
  <tr>
    <td bgcolor="7e2f8e" style="text-align:center"></td>
    <td style="text-align:center">#7E2F8E</td>
    <td style="text-align:center">rgb(126, 47, 142)</td>
  </tr>
  <tr>
    <td bgcolor="77ac30" style="text-align:center"></td>
    <td style="text-align:center">#77AC30</td>
    <td style="text-align:center">rgb(119, 172, 48)</td>
  </tr>
  <tr>
    <td bgcolor="4dbeee" style="text-align:center"></td>
    <td style="text-align:center">#4DBEEE</td>
    <td style="text-align:center">rgb(77, 190, 238)</td>
  </tr>
  <tr>
    <td bgcolor="a2142f" style="text-align:center"></td>
    <td style="text-align:center">#A2142F</td>
    <td style="text-align:center">rgb(162, 20, 47)</td>
  </tr>
</table>

<p>应该说 2014b 之后版本 MATLAB 的默认作图选择这几个颜色已经很漂亮了，不像以前都是纯蓝、灰绿这些土颜色……本来还想找点有没有好的配色方案，现在觉得默认的方案就很好了^_^</p>
]]></content>
      
        <categories>
            
            <category> 技术 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> MATLAB </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[《大鱼海棠》经典台词]]></title>
      <url>http://tommyjiang.github.io/2016/2016-07-10-bigfish-begonia-md/</url>
      <content type="html"><![CDATA[<p>昨天晚上，顶着酷热的空气和萌哥老妹到圣熙八号观赏了这部动画，作为校友也算对退学追梦的清华师兄的支持吧。</p>
<a id="more"></a>
<p>由于去之前已经听说网上一片骂声，所以期待挺低的，结果看完感觉还不错。画面和音乐都<br>很有感觉，尤其喜欢里面的台词，好好分享下。</p>
<h1 id="经典台词"><a href="#经典台词" class="headerlink" title="经典台词"></a>经典台词</h1><h2 id="犯错"><a href="#犯错" class="headerlink" title="犯错"></a>犯错</h2><blockquote>
<p>灵婆：我告诉你什么事最可悲。你遇见了一个人，犯了一个错，你想弥补想还清，到最后才发现，你根本无力回天，犯下的罪过永远无法弥补，我们永远无法还清犯下的……</p>
</blockquote>
<p>想起王朔《过把瘾就死》中的一个故事：</p>
<blockquote>
<p>就像童话中两个贪心的人挖地下的财宝，结果挖出一个人的骸骨，虽然迅速埋上了，甚至在上面种了树，栽了花，但两个人心里都知道底下埋的是什么。看见树，看见花，想的却是地下的那具骸骨。</p>
</blockquote>
<p>其实任何人都有自己极度反感的事，如果别人刻意或是不小心触碰到，就会留下永久的痕迹。所以平时相处时最好能提前把这些了解清楚。就像灵婆说的，有些事一旦做了就永远无法弥补……</p>
<h2 id="从心"><a href="#从心" class="headerlink" title="从心"></a>从心</h2><blockquote>
<p>椿爷爷：只要你的心是善良的，对错都是别人的事，照着自己的心意走。</p>
</blockquote>
<p>Follow your heart，可惜现实中的我太懦弱了，读博的时候也从来没想过以后的职业发展，一直在随波逐流……</p>
<h2 id="快乐"><a href="#快乐" class="headerlink" title="快乐"></a>快乐</h2><blockquote>
<p>湫：如果不快乐，活再久又有什么用呢。</p>
</blockquote>
<p>说起来容易，做起来难。这么简单的道理人人都懂，但并不是每个人都快乐。</p>
<h2 id="忘记"><a href="#忘记" class="headerlink" title="忘记"></a>忘记</h2><blockquote>
<p>鹿神：忘不了就别忘了，真正的忘记是不需要努力的。</p>
</blockquote>
<p>非常像萌哥和我说的那句：该记住的一定会记住，记不住的就是不需要记住的。好有哲理。</p>
<p>另：庄子《逍遥游》中，鲲要先“化而为鸟，其名为鹏”才能“怒而飞”，动画中去掉了中间由鲲变成鹏的过程，鲲应该是不能飞的，只有鹏才能飞。</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 博士 </tag>
            
            <tag> 感情 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[电力系统研究的个人体会]]></title>
      <url>http://tommyjiang.github.io/2016/2016-03-17-Power-system-research/</url>
      <content type="html"><![CDATA[<p>从博士入学算起，从事电力系统的研究工作已经将近 6 年了，结合个人的实际经验谈谈对电力系统研究的体会。</p>
<a id="more"></a>
<h1 id="电力系统研究的特点"><a href="#电力系统研究的特点" class="headerlink" title="电力系统研究的特点"></a>电力系统研究的特点</h1><p>我个人认为，电力系统研究的特点包括以下几点：</p>
<ol>
<li>模型角度：动态模型极为复杂。</li>
<li>技术路线角度：严重依赖仿真。</li>
<li>研究开放性角度：极度封闭的小团体。</li>
</ol>
<h2 id="模型角度"><a href="#模型角度" class="headerlink" title="模型角度"></a>模型角度</h2><p>目前越来越多的电力系统研究者向优化方向靠拢，其原因是电力系统的优化问题（例如机组组合、经济调度等）一般都采用稳态或准稳态模型。与动态模型相比，稳态或准稳态模型实在是简单太多了。对于一个包括几十甚至上百台发电机的大型电力系统，其动态模型极其复杂，基本只能依靠数值仿真进行分析。然而对于研究而言，只依靠数值仿真进行分析是远远不够的，还需要在理论方面有所突破。这就迫使研究者“知难而退”，既然动态不好做，那干脆就不做。</p>
<p>换个角度说，我之前投过一篇文章到<code>IEEE Transcatons on Power Systems</code>，一审直接被拒，其中一位 Reviewer 写到：</p>
<blockquote>
<p>Power systems in general are <strong>very complex systems</strong> that the number of their state and control variables can <strong>easily exceed hundreds</strong>. How the algorithm would work on larger systems? How to do prove your statement?</p>
</blockquote>
<p>坦白地说，他指出的问题非常关键，即电力系统的动态模型过于复杂，全局性的控制算法很难应用。但如果揪住这一点不放，那电力系统动态的研究就很难开展了。例如，优化那边经常会证明某个算法会得到最优解，但到现在为止大型电力系统的稳定性都不在电力系统动态方向研究人员的考虑之内，因为这个问题太复杂了。正是由于这一点，动态方向的研究人员更需要团结起来发出自己的声音，而不是互相质疑对方的研究没法解决大型电力系统的动态问题，如今<code>IEEE Transcatons on Power Systems</code>基本已经被优化领域的研究占领了，和这一点也不无关系。</p>
<p>今天（2016年5月30日）心血来潮，看了下<code>IEEE Transcatons on Power Systems</code>期刊 Early Access 中清华的所有文章，一共21篇，其中动态方向只有3篇……</p>
<h2 id="技术路线角度"><a href="#技术路线角度" class="headerlink" title="技术路线角度"></a>技术路线角度</h2><p>电力系统的研究严重依赖仿真，这应该是目前电力系统研究领域的一个普遍现状了。与电力电子和高压方向不同，电力系统研究最后的算例部分基本都是依靠仿真来佐证研究者所提出方法的有效性。仿真除了模仿真实外，还有一个戏谑的解释：仿佛是真的。由于缺乏与实际结果的对比，很多仿真结果其实并不可信。与此同时，绝大多数研究者所做的研究也只是停留在纸上谈兵的阶段，并没有干过实际工程，很难判断仿真结果是否有误。</p>
<p>正是由于绝大多数电力系统的研究都是纸上谈兵，所以在各种宣传和报奖时，需要进行适度的夸张，从而体现自己所做研究的意义，这样做被揭穿的概率极低，可谓风险极小收益却还不错。由于电力系统领域研究者的水平不会相差很多，所以适度夸张——或者说——忽悠的能力至关重要。</p>
<h2 id="研究开放性角度"><a href="#研究开放性角度" class="headerlink" title="研究开放性角度"></a>研究开放性角度</h2><p>关于这部分，先引用目前在 UCD 的电力系统研究领域著名学者 Federico Milano 的一段话：</p>
<blockquote>
<p>The experience with PSAT has taught me that the power system community is simply not responding properly to open source projects. In the last ten years, third-party contributions to PSAT have been very marginal or would have been developed even if PSAT had been not distributed as a free and open source project. On the other hand, I am quite sure that several extensions have been developed but not shared with the PSAT community.</p>
<p>I got to the conclusion that the free and open source paradigm is not attractive for <strong>small and closed</strong> communities like the power system one. </p>
</blockquote>
<p><code>PSAT</code> 是 Milano 开发的电力系统仿真程序，以开源的形式共享给所有电力系统研究者。但他发现很多研究者基于 PSAT 开发了新的扩展功能，但并没有共享给整个 PSAT 社区，这让他明白了免费开源是不适合由电力系统研究者组成的这种封闭的小圈子的。</p>
]]></content>
      
        <categories>
            
            <category> 技术 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 电力 </tag>
            
            <tag> 博士 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[博客迁移至 Hexo]]></title>
      <url>http://tommyjiang.github.io/2016/2016-03-16-migrate-to-hexo/</url>
      <content type="html"><![CDATA[<p>从2014年8月第一篇博文算起，已经写了一年半了。之前博客主要用的是 Jekyll + Markdown （感谢 codepiano 同学提供的主题）。即日起本博客迁移至 <code>Hexo</code>，之前的博文会挑一些重点的迁移过来。</p>
]]></content>
      
        <categories>
            
            <category> 技术 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> 博客 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[2015行程总结及个人飞行统计]]></title>
      <url>http://tommyjiang.github.io/2015/2015-12-28-Trip-2015/</url>
      <content type="html"><![CDATA[<p>2015年转眼要结束了，在新年即将到来之际整理全年的飞机和火车行程，以及从2012年4月9日第一次坐飞机开始的所有飞行行程。</p>
<a id="more"></a>
<h1 id="2015行程总结"><a href="#2015行程总结" class="headerlink" title="2015行程总结"></a>2015行程总结</h1><p>2015年各月飞机里程和火车里程如下：</p>

<div id="tripSum2015" style="height:400px"></div>

<p>其中1、2、5、8月的飞行里程完全平行，4月是加上了北京——沈阳往返所以才多了一些，也就是说今年光北京——通辽就往返了5趟……不过8月初863已经结题了，我也毕业了，以后应该再也不用去了，哈哈。</p>
<p>点评一下路线图：</p>
<ul>
<li>飞机：今年个人飞行又开辟多条新航线，到过的机场新增以下4个：沈阳桃仙国际机场（SHE），杭州萧山国际机场（HGH），厦门高崎国际机场（XMN），福州长乐国际机场（FOC）。</li>
<li>火车：最耀眼的就是地图最北部的火车线路了，从通辽到霍林郭勒的往返……2月8号晚上从霍林郭勒下车走了一段路，零下30度的低温把脸都冻僵了，终生难忘的记忆啊，哈哈。</li>
<li>整体：今年全年的行程明显集中在东部地区，最西的地点竟然是北京……</li>
</ul>
<h1 id="个人飞行总结"><a href="#个人飞行总结" class="headerlink" title="个人飞行总结"></a>个人飞行总结</h1><p>由于爷爷奶奶和姥姥姥爷家里离得都很近，再加上家里比较传统，一到过节就回家，没怎么出去玩过，所以我直到2012年4月9号才第一次坐飞机。</p>
<p>整个西部地区只飞过昆明……东部地区航线倒是挺密集的。出发和到达最多的机场自然是PEK，通辽机场紧随其后，出发和到达均有15次……</p>
<p>分年度飞行次数和飞行里程统计如下：</p>

<div id="flightStat" style="height:400px"></div>

<p>各航空公司的里程对比如下：</p>

<div id="airlineStat" style="height:400px"></div>

<p>Base 北京，自然首选国航，总共贡献了65%的里程。第二次去美国飞西雅图坐的是达美的航班，在美国境内是美联航，这两个公司加起来也贡献了13000公里的里程，个人飞行总里程已经接近93000公里。</p>

<!--引入百度地图的jssdk，这里需要使用你在百度地图开发者平台申请的 ak-->
<script src="http://api.map.baidu.com/api?v=2.0&ak=x2V7KanMxVA2GuK7oFHPOiGytFSXWoyN"></script>
<!-- 引入 ECharts -->
<script src="https://cdn.bootcss.com/echarts/4.1.0/echarts.js"></script>
<script src="https://cdn.rawgit.com/apache/incubator-echarts/master/theme/macarons.js"></script>
<!-- 引入百度地图扩展 -->
<script src="https://cdn.bootcss.com/echarts/4.1.0/extension/bmap.js"></script>
<script type="text/javascript">
FlightStat()
TripSum2015();
Airline();

//    function drawEcharts(ec){
//        FlightMap(ec);
//        FlightStat(ec);
//    }

    function TripSum2015(ec){
        var myTripSum2015 = echarts.init(document.getElementById('tripSum2015'), 'macarons');

        var option = {
            tooltip : {
                trigger: 'axis'
            },
            toolbox: {
                show : true,
                feature : {
                    mark : {show: true},
                    dataView : {show: true, readOnly: false},
                    magicType: {show: true, type: ['bar', 'bar']},
                    restore : {show: true},
                    saveAsImage : {show: true}
                }
            },
            calculable : true,
            legend: {
                data:['飞机行程','火车行程']
            },
            xAxis : [
                {
                    type : 'category',
                    data : ['1月','2月','3月','4月','5月','6月','7月','8月','9月','10月','11月','12月']
                }
            ],
            yAxis : [
                {
                    type : 'value',
                    name : '飞机行程(km)',
                    axisLabel : {
                        formatter: '{value}'
                    }
                },
                {
                    type : 'value',
                    name : '火车行程(km)',
                    axisLabel : {
                        formatter: '{value}'
                    }
                }
            ],
            series : [
                {
                    name:'飞机行程',
                    type:'bar',
                    data:[1264, 1264, 0, 2480, 1264, 0, 0, 1264, 0, 0, 2266, 3484]
                },
                {
                    name:'火车行程',
                    type:'bar',
                    yAxisIndex: 1,
                    data:[234, 1274, 468, 1061, 234, 468, 0, 426, 1177, 234, 477, 2741]
                }
            ]
        };
        myTripSum2015.setOption(option,true); //当setOption第二个参数为true时，会阻止数据合并
    }

function TripMap(){
    var myTripMap = echarts.init(document.getElementById('tripMap'));

    var data = [
        {name: '海门', value: 9},
        {name: '鄂尔多斯', value: 12},
        {name: '招远', value: 12},
        {name: '舟山', value: 12},
        {name: '齐齐哈尔', value: 14},
        {name: '盐城', value: 15},
        {name: '赤峰', value: 16},
        {name: '青岛', value: 18},
        {name: '乳山', value: 18},
        {name: '金昌', value: 19},
        {name: '泉州', value: 21},
        {name: '莱西', value: 21},
        {name: '日照', value: 21},
        {name: '胶南', value: 22},
        {name: '南通', value: 23},
        {name: '拉萨', value: 24},
        {name: '云浮', value: 24},
        {name: '梅州', value: 25},
        {name: '文登', value: 25},
        {name: '上海', value: 25},
        {name: '攀枝花', value: 25},
        {name: '威海', value: 25},
        {name: '承德', value: 25},
        {name: '厦门', value: 26},
        {name: '汕尾', value: 26},
        {name: '潮州', value: 26},
        {name: '丹东', value: 27},
        {name: '太仓', value: 27},
        {name: '曲靖', value: 27},
        {name: '烟台', value: 28},
        {name: '福州', value: 29},
        {name: '瓦房店', value: 30},
        {name: '即墨', value: 30},
        {name: '抚顺', value: 31},
        {name: '玉溪', value: 31},
        {name: '张家口', value: 31},
        {name: '阳泉', value: 31},
        {name: '莱州', value: 32},
        {name: '湖州', value: 32},
        {name: '汕头', value: 32},
        {name: '昆山', value: 33},
        {name: '宁波', value: 33},
        {name: '湛江', value: 33},
        {name: '揭阳', value: 34},
        {name: '荣成', value: 34},
        {name: '连云港', value: 35},
        {name: '葫芦岛', value: 35},
        {name: '常熟', value: 36},
        {name: '东莞', value: 36},
        {name: '河源', value: 36},
        {name: '淮安', value: 36},
        {name: '泰州', value: 36},
        {name: '南宁', value: 37},
        {name: '营口', value: 37},
        {name: '惠州', value: 37},
        {name: '江阴', value: 37},
        {name: '蓬莱', value: 37},
        {name: '韶关', value: 38},
        {name: '嘉峪关', value: 38},
        {name: '广州', value: 38},
        {name: '延安', value: 38},
        {name: '太原', value: 39},
        {name: '清远', value: 39},
        {name: '中山', value: 39},
        {name: '昆明', value: 39},
        {name: '寿光', value: 40},
        {name: '盘锦', value: 40},
        {name: '长治', value: 41},
        {name: '深圳', value: 41},
        {name: '珠海', value: 42},
        {name: '宿迁', value: 43},
        {name: '咸阳', value: 43},
        {name: '铜川', value: 44},
        {name: '平度', value: 44},
        {name: '佛山', value: 44},
        {name: '海口', value: 44},
        {name: '江门', value: 45},
        {name: '章丘', value: 45},
        {name: '肇庆', value: 46},
        {name: '大连', value: 47},
        {name: '临汾', value: 47},
        {name: '吴江', value: 47},
        {name: '石嘴山', value: 49},
        {name: '沈阳', value: 50},
        {name: '苏州', value: 50},
        {name: '茂名', value: 50},
        {name: '嘉兴', value: 51},
        {name: '长春', value: 51},
        {name: '胶州', value: 52},
        {name: '银川', value: 52},
        {name: '张家港', value: 52},
        {name: '三门峡', value: 53},
        {name: '锦州', value: 54},
        {name: '南昌', value: 54},
        {name: '柳州', value: 54},
        {name: '三亚', value: 54},
        {name: '自贡', value: 56},
        {name: '吉林', value: 56},
        {name: '阳江', value: 57},
        {name: '泸州', value: 57},
        {name: '西宁', value: 57},
        {name: '宜宾', value: 58},
        {name: '呼和浩特', value: 58},
        {name: '成都', value: 58},
        {name: '大同', value: 58},
        {name: '镇江', value: 59},
        {name: '桂林', value: 59},
        {name: '张家界', value: 59},
        {name: '宜兴', value: 59},
        {name: '北海', value: 60},
        {name: '西安', value: 61},
        {name: '金坛', value: 62},
        {name: '东营', value: 62},
        {name: '牡丹江', value: 63},
        {name: '遵义', value: 63},
        {name: '绍兴', value: 63},
        {name: '扬州', value: 64},
        {name: '常州', value: 64},
        {name: '潍坊', value: 65},
        {name: '重庆', value: 66},
        {name: '台州', value: 67},
        {name: '南京', value: 67},
        {name: '滨州', value: 70},
        {name: '贵阳', value: 71},
        {name: '无锡', value: 71},
        {name: '本溪', value: 71},
        {name: '克拉玛依', value: 72},
        {name: '渭南', value: 72},
        {name: '马鞍山', value: 72},
        {name: '宝鸡', value: 72},
        {name: '焦作', value: 75},
        {name: '句容', value: 75},
        {name: '北京', value: 79},
        {name: '徐州', value: 79},
        {name: '衡水', value: 80},
        {name: '包头', value: 80},
        {name: '绵阳', value: 80},
        {name: '乌鲁木齐', value: 84},
        {name: '枣庄', value: 84},
        {name: '杭州', value: 84},
        {name: '淄博', value: 85},
        {name: '鞍山', value: 86},
        {name: '溧阳', value: 86},
        {name: '库尔勒', value: 86},
        {name: '安阳', value: 90},
        {name: '开封', value: 90},
        {name: '济南', value: 92},
        {name: '德阳', value: 93},
        {name: '温州', value: 95},
        {name: '九江', value: 96},
        {name: '邯郸', value: 98},
        {name: '临安', value: 99},
        {name: '兰州', value: 99},
        {name: '沧州', value: 100},
        {name: '临沂', value: 103},
        {name: '南充', value: 104},
        {name: '天津', value: 105},
        {name: '富阳', value: 106},
        {name: '泰安', value: 112},
        {name: '诸暨', value: 112},
        {name: '郑州', value: 113},
        {name: '哈尔滨', value: 114},
        {name: '聊城', value: 116},
        {name: '芜湖', value: 117},
        {name: '唐山', value: 119},
        {name: '平顶山', value: 119},
        {name: '邢台', value: 119},
        {name: '德州', value: 120},
        {name: '济宁', value: 120},
        {name: '荆州', value: 127},
        {name: '宜昌', value: 130},
        {name: '义乌', value: 132},
        {name: '丽水', value: 133},
        {name: '洛阳', value: 134},
        {name: '秦皇岛', value: 136},
        {name: '株洲', value: 143},
        {name: '石家庄', value: 147},
        {name: '莱芜', value: 148},
        {name: '常德', value: 152},
        {name: '保定', value: 153},
        {name: '湘潭', value: 154},
        {name: '金华', value: 157},
        {name: '岳阳', value: 169},
        {name: '长沙', value: 175},
        {name: '衢州', value: 177},
        {name: '廊坊', value: 193},
        {name: '菏泽', value: 194},
        {name: '合肥', value: 229},
        {name: '武汉', value: 273},
        {name: '大庆', value: 279}
    ];

    var geoCoordMap = {
        '海门':[121.15,31.89],
        '鄂尔多斯':[109.781327,39.608266],
        '招远':[120.38,37.35],
        '舟山':[122.207216,29.985295],
        '齐齐哈尔':[123.97,47.33],
        '盐城':[120.13,33.38],
        '赤峰':[118.87,42.28],
        '青岛':[120.33,36.07],
        '乳山':[121.52,36.89],
        '金昌':[102.188043,38.520089],
        '泉州':[118.58,24.93],
        '莱西':[120.53,36.86],
        '日照':[119.46,35.42],
        '胶南':[119.97,35.88],
        '南通':[121.05,32.08],
        '拉萨':[91.11,29.97],
        '云浮':[112.02,22.93],
        '梅州':[116.1,24.55],
        '文登':[122.05,37.2],
        '上海':[121.48,31.22],
        '攀枝花':[101.718637,26.582347],
        '威海':[122.1,37.5],
        '承德':[117.93,40.97],
        '厦门':[118.1,24.46],
        '汕尾':[115.375279,22.786211],
        '潮州':[116.63,23.68],
        '丹东':[124.37,40.13],
        '太仓':[121.1,31.45],
        '曲靖':[103.79,25.51],
        '烟台':[121.39,37.52],
        '福州':[119.3,26.08],
        '瓦房店':[121.979603,39.627114],
        '即墨':[120.45,36.38],
        '抚顺':[123.97,41.97],
        '玉溪':[102.52,24.35],
        '张家口':[114.87,40.82],
        '阳泉':[113.57,37.85],
        '莱州':[119.942327,37.177017],
        '湖州':[120.1,30.86],
        '汕头':[116.69,23.39],
        '昆山':[120.95,31.39],
        '宁波':[121.56,29.86],
        '湛江':[110.359377,21.270708],
        '揭阳':[116.35,23.55],
        '荣成':[122.41,37.16],
        '连云港':[119.16,34.59],
        '葫芦岛':[120.836932,40.711052],
        '常熟':[120.74,31.64],
        '东莞':[113.75,23.04],
        '河源':[114.68,23.73],
        '淮安':[119.15,33.5],
        '泰州':[119.9,32.49],
        '南宁':[108.33,22.84],
        '营口':[122.18,40.65],
        '惠州':[114.4,23.09],
        '江阴':[120.26,31.91],
        '蓬莱':[120.75,37.8],
        '韶关':[113.62,24.84],
        '嘉峪关':[98.289152,39.77313],
        '广州':[113.23,23.16],
        '延安':[109.47,36.6],
        '太原':[112.53,37.87],
        '清远':[113.01,23.7],
        '中山':[113.38,22.52],
        '昆明':[102.73,25.04],
        '寿光':[118.73,36.86],
        '盘锦':[122.070714,41.119997],
        '长治':[113.08,36.18],
        '深圳':[114.07,22.62],
        '珠海':[113.52,22.3],
        '宿迁':[118.3,33.96],
        '咸阳':[108.72,34.36],
        '铜川':[109.11,35.09],
        '平度':[119.97,36.77],
        '佛山':[113.11,23.05],
        '海口':[110.35,20.02],
        '江门':[113.06,22.61],
        '章丘':[117.53,36.72],
        '肇庆':[112.44,23.05],
        '大连':[121.62,38.92],
        '临汾':[111.5,36.08],
        '吴江':[120.63,31.16],
        '石嘴山':[106.39,39.04],
        '沈阳':[123.38,41.8],
        '苏州':[120.62,31.32],
        '茂名':[110.88,21.68],
        '嘉兴':[120.76,30.77],
        '长春':[125.35,43.88],
        '胶州':[120.03336,36.264622],
        '银川':[106.27,38.47],
        '张家港':[120.555821,31.875428],
        '三门峡':[111.19,34.76],
        '锦州':[121.15,41.13],
        '南昌':[115.89,28.68],
        '柳州':[109.4,24.33],
        '三亚':[109.511909,18.252847],
        '自贡':[104.778442,29.33903],
        '吉林':[126.57,43.87],
        '阳江':[111.95,21.85],
        '泸州':[105.39,28.91],
        '西宁':[101.74,36.56],
        '宜宾':[104.56,29.77],
        '呼和浩特':[111.65,40.82],
        '成都':[104.06,30.67],
        '大同':[113.3,40.12],
        '镇江':[119.44,32.2],
        '桂林':[110.28,25.29],
        '张家界':[110.479191,29.117096],
        '宜兴':[119.82,31.36],
        '北海':[109.12,21.49],
        '西安':[108.95,34.27],
        '金坛':[119.56,31.74],
        '东营':[118.49,37.46],
        '牡丹江':[129.58,44.6],
        '遵义':[106.9,27.7],
        '绍兴':[120.58,30.01],
        '扬州':[119.42,32.39],
        '常州':[119.95,31.79],
        '潍坊':[119.1,36.62],
        '重庆':[106.54,29.59],
        '台州':[121.420757,28.656386],
        '南京':[118.78,32.04],
        '滨州':[118.03,37.36],
        '贵阳':[106.71,26.57],
        '无锡':[120.29,31.59],
        '本溪':[123.73,41.3],
        '克拉玛依':[84.77,45.59],
        '渭南':[109.5,34.52],
        '马鞍山':[118.48,31.56],
        '宝鸡':[107.15,34.38],
        '焦作':[113.21,35.24],
        '句容':[119.16,31.95],
        '北京':[116.46,39.92],
        '徐州':[117.2,34.26],
        '衡水':[115.72,37.72],
        '包头':[110,40.58],
        '绵阳':[104.73,31.48],
        '乌鲁木齐':[87.68,43.77],
        '枣庄':[117.57,34.86],
        '杭州':[120.19,30.26],
        '淄博':[118.05,36.78],
        '鞍山':[122.85,41.12],
        '溧阳':[119.48,31.43],
        '库尔勒':[86.06,41.68],
        '安阳':[114.35,36.1],
        '开封':[114.35,34.79],
        '济南':[117,36.65],
        '德阳':[104.37,31.13],
        '温州':[120.65,28.01],
        '九江':[115.97,29.71],
        '邯郸':[114.47,36.6],
        '临安':[119.72,30.23],
        '兰州':[103.73,36.03],
        '沧州':[116.83,38.33],
        '临沂':[118.35,35.05],
        '南充':[106.110698,30.837793],
        '天津':[117.2,39.13],
        '富阳':[119.95,30.07],
        '泰安':[117.13,36.18],
        '诸暨':[120.23,29.71],
        '郑州':[113.65,34.76],
        '哈尔滨':[126.63,45.75],
        '聊城':[115.97,36.45],
        '芜湖':[118.38,31.33],
        '唐山':[118.02,39.63],
        '平顶山':[113.29,33.75],
        '邢台':[114.48,37.05],
        '德州':[116.29,37.45],
        '济宁':[116.59,35.38],
        '荆州':[112.239741,30.335165],
        '宜昌':[111.3,30.7],
        '义乌':[120.06,29.32],
        '丽水':[119.92,28.45],
        '洛阳':[112.44,34.7],
        '秦皇岛':[119.57,39.95],
        '株洲':[113.16,27.83],
        '石家庄':[114.48,38.03],
        '莱芜':[117.67,36.19],
        '常德':[111.69,29.05],
        '保定':[115.48,38.85],
        '湘潭':[112.91,27.87],
        '金华':[119.64,29.12],
        '岳阳':[113.09,29.37],
        '长沙':[113,28.21],
        '衢州':[118.88,28.97],
        '廊坊':[116.7,39.53],
        '菏泽':[115.480656,35.23375],
        '合肥':[117.27,31.86],
        '武汉':[114.31,30.52],
        '大庆':[125.03,46.58]
    };

    var convertData = function (data) {
        var res = [];
        for (var i = 0; i < data.length; i++) {
            var geoCoord = geoCoordMap[data[i].name];
            if (geoCoord) {
                res.push({
                    name: data[i].name,
                    value: geoCoord.concat(data[i].value)
                });
            }
        }
        return res;
    };

    function getData(point) {
    var A = point[0],
        B = point[1],
        n = 30,
        arc = Math.PI / 6,
        points = [];

    function getCircleRadio(A, B, arc) {
        return Math.sqrt(Math.pow(B[0]-A[0], 2)+Math.pow(B[1]-A[1], 2)) / (2*Math.sin(arc/2));
    }

    function getCircleOrigin(A, B, r) {
        var x0 = 0, y0 = 0;
        if (A[0] == B[0]) {
            x0 = A[0] - Math.sqrt( r*r - Math.pow((B[1]-A[1]/2), 2));
            y0 = (A[1] + B[1])/2;
        } else if (A[1] == B[1]) {
            x0 = (A[0] + B[0])/2;
            y0 = A[1] + Math.sqrt( r*r - Math.pow((B[0]-A[0]/2), 2));
        } else {
            var M = [(A[0] + B[0])/2, (A[1] + B[1])/2],
                k = (A[0]-B[0])/(B[1]-A[1]),
                a = 1.0 + k * k,
                b = -2 * M[0] - k * k * (A[0] + B[0]),
                c = M[0] * M[0] + k * k * (A[0] + B[0]) * (A[0] + B[0]) / 4.0 - (r * r - ((M[0] - A[0]) * (M[0] - A[0]) + (M[1] - A[1]) * (M[1] - A[1])));
            x0 = (-1.0 * b - Math.sqrt(b * b -4 * a * c)) / (2 * a);
            y0 = k * x0 - k * M[0] + M[1];
        }
        return [x0, y0];
    }
    var R = getCircleRadio(A, B, arc);
    var Ori = getCircleOrigin(A, B, R)
    for (var i=0; i<n; i++) {
        var angl = arc*i / n,
            arc0 = Math.asin((A[0]-Ori[0])/R);
        var x = Ori[0] + Math.sin(arc0 + angl)*R;
        var y = Ori[1] + Math.cos(arc0 + angl)*R;
        points.push([x, y]);
    }
    return points;
}

    function renderItem(params, api) {
        var coords = [
            [116.7,39.53],
            [103.73,36.03],
            [112.91,27.87],
            [120.65,28.01],
            [119.57,39.95]
        ];
        var points = [];
        for (var i = 0; i < coords.length; i++) {
            points.push(api.coord(coords[i]));
        }
        var color = api.visual('color');

        return {
            type: 'polygon',
            shape: {
                points: echarts.graphic.clipPointsByRect(points, {
                    x: params.coordSys.x,
                    y: params.coordSys.y,
                    width: params.coordSys.width,
                    height: params.coordSys.height
                })
            },
            style: api.style({
                fill: color,
                stroke: echarts.color.lift(color)
            })
        };
    }

    option = {
        // backgroundColor: '#404a59',
        title: {
            text: '全国主要城市空气质量',
            // subtext: 'data from PM25.in',
            // sublink: 'http://www.pm25.in',
            left: 'center',
            textStyle: {
                color: '#fff'
            }
        },
        tooltip : {
            trigger: 'item'
        },
        bmap: {
            center: [104.114129, 37.550339],
            zoom: 5,
            roam: true,
            mapStyle: {
                styleJson: [
                        {
                            "featureType": "water",
                            "elementType": "all",
                            "stylers": {
                                "color": "#044161"
                            }
                        },
                        {
                            "featureType": "land",
                            "elementType": "all",
                            "stylers": {
                                "color": "#004981"
                            }
                        },
                        {
                            "featureType": "boundary",
                            "elementType": "geometry",
                            "stylers": {
                                "color": "#064f85"
                            }
                        },
                        {
                            "featureType": "railway",
                            "elementType": "all",
                            "stylers": {
                                "visibility": "off"
                            }
                        },
                        {
                            "featureType": "highway",
                            "elementType": "geometry",
                            "stylers": {
                                "color": "#004981"
                            }
                        },
                        {
                            "featureType": "highway",
                            "elementType": "geometry.fill",
                            "stylers": {
                                "color": "#005b96",
                                "lightness": 1
                            }
                        },
                        {
                            "featureType": "highway",
                            "elementType": "labels",
                            "stylers": {
                                "visibility": "off"
                            }
                        },
                        {
                            "featureType": "arterial",
                            "elementType": "geometry",
                            "stylers": {
                                "color": "#004981"
                            }
                        },
                        {
                            "featureType": "arterial",
                            "elementType": "geometry.fill",
                            "stylers": {
                                "color": "#00508b"
                            }
                        },
                        {
                            "featureType": "poi",
                            "elementType": "all",
                            "stylers": {
                                "visibility": "off"
                            }
                        },
                        {
                            "featureType": "green",
                            "elementType": "all",
                            "stylers": {
                                "color": "#056197",
                                "visibility": "off"
                            }
                        },
                        {
                            "featureType": "subway",
                            "elementType": "all",
                            "stylers": {
                                "visibility": "off"
                            }
                        },
                        {
                            "featureType": "manmade",
                            "elementType": "all",
                            "stylers": {
                                "visibility": "off"
                            }
                        },
                        {
                            "featureType": "local",
                            "elementType": "all",
                            "stylers": {
                                "visibility": "off"
                            }
                        },
                        {
                            "featureType": "arterial",
                            "elementType": "labels",
                            "stylers": {
                                "visibility": "off"
                            }
                        },
                        {
                            "featureType": "boundary",
                            "elementType": "geometry.fill",
                            "stylers": {
                                "color": "#029fd4"
                            }
                        },
                        {
                            "featureType": "building",
                            "elementType": "all",
                            "stylers": {
                                "color": "#1a5787"
                            }
                        },
                        {
                            "featureType": "label",
                            "elementType": "all",
                            "stylers": {
                                "visibility": "off"
                            }
                        }
                ]
            }
        },
        series : [
            {
                type: 'lines',
                coordinateSystem: 'bmap',
                polyline: true,
                data: [ [geoCoordMap['北京'], geoCoordMap['深圳']]
                      ],
                silent: true,
                lineStyle: {
                    normal: {
                        // color: '#c23531',
                        color: 'rgb(200, 35, 45)',
                        opacity: 0.8,
                        width: 2
                    }
                },
                progressiveThreshold: 500,
                smooth: true,
                progressive: 200
            },
            {
                type: 'lines',
                coordinateSystem: 'bmap',
                polyline: true,
                data: [ [geoCoordMap['北京'], geoCoordMap['深圳']],
                        [geoCoordMap['深圳'], geoCoordMap['北京']]
                      ],
                smooth: true,
                lineStyle: {
                    normal: {
                        width: 0
                    }
                },
                effect: {
                    constantSpeed: 100,
                    show: true,
                    trailLength: 0.3,
                    symbolSize: 5
                },
                zlevel: 1
            }
            // {
            //     name: 'pm2.5',
            //     type: 'scatter',
            //     coordinateSystem: 'bmap',
            //     data: convertData(data),
            //     symbolSize: function (val) {
            //         return val[2] / 10;
            //     },
            //     label: {
            //         normal: {
            //             formatter: '{b}',
            //             position: 'right',
            //             show: false
            //         },
            //         emphasis: {
            //             show: true
            //         }
            //     },
            //     itemStyle: {
            //         normal: {
            //             color: '#ddb926'
            //         }
            //     }
            // },
            // {
            //     name: 'Top 5',
            //     type: 'effectScatter',
            //     coordinateSystem: 'bmap',
            //     data: convertData(data.sort(function (a, b) {
            //         return b.value - a.value;
            //     }).slice(0, 6)),
            //     symbolSize: function (val) {
            //         return val[2] / 10;
            //     },
            //     showEffectOn: 'emphasis',
            //     rippleEffect: {
            //         brushType: 'stroke'
            //     },
            //     hoverAnimation: true,
            //     label: {
            //         normal: {
            //             formatter: '{b}',
            //             position: 'right',
            //             show: true
            //         }
            //     },
            //     itemStyle: {
            //         normal: {
            //             color: '#f4e925',
            //             shadowBlur: 10,
            //             shadowColor: '#333'
            //         }
            //     },
            //     zlevel: 1
            // },
        ]
    };

    // option = {
    //     backgroundColor: '#1b1b1b',
    //     color: ['rgba(30,144,255,1)','lime'],
    //     title : {
    //         text: '2015行程汇总',
    //         x:'center',
    //         textStyle : {
    //             color: '#fff'
    //         }
    //     },
    //     tooltip : {
    //         trigger: 'item',
    //         formatter: '{b}'
    //     },
    //     legend: {
    //         orient: 'vertical',
    //         x:'left',
    //         selectedMode:'multiple',
    //         data:['飞机', '火车'],
    //         textStyle : {
    //             color: '#fff'
    //         }
    //     },
    //     toolbox: {
    //         show : true,
    //         orient : 'vertical',
    //         x: 'right',
    //         y: 'center',
    //         feature : {
    //             mark : {show: true},
    //             dataView : {show: true, readOnly: false},
    //             restore : {show: true},
    //             saveAsImage : {show: true}
    //         }
    //     },
        // series : [
        // {
        //     name: '飞机',
        //     roam: true,
        //     hoverable: false,
        //     itemStyle:{
        //         normal:{
        //             borderColor:'rgba(100,149,237,1)',
        //             borderWidth:0.5,
        //             areaStyle:{
        //                 color: '#1b1b1b'
        //             }
        //         }
        //     },
        //     data:[],
        //     markLine : {
        //         symbol: ['circle', 'circle'],
        //         symbolSize : 1,
        //         effect : effect,
        //         itemStyle : itemStyle(0),
        //         smooth:true,
        //     data : [
        //         [{name:'北京首都国际机场'}, {name:'通辽机场'}],
        //         [{name:'通辽机场'}, {name:'北京首都国际机场'}],
        //         [{name:'北京首都国际机场'}, {name:'沈阳桃仙国际机场'}],
        //         [{name:'沈阳桃仙国际机场'}, {name:'北京首都国际机场'}],
        //         [{name:'北京首都国际机场'}, {name:'杭州萧山国际机场'}],
        //         [{name:'杭州萧山国际机场'}, {name:'北京首都国际机场'}],
        //         [{name:'北京首都国际机场'}, {name:'厦门高崎国际机场'}],
        //         [{name:'福州长乐国际机场'}, {name:'北京首都国际机场'}],
        //     ]
        //     }
        // },
        // {
        //     name: '火车',
        //     itemStyle:{
        //         normal:{
        //             borderColor:'rgba(100,149,237,1)',
        //             borderWidth:0.5,
        //             areaStyle:{
        //                 color: '#1b1b1b'
        //             }
        //         }
        //     },
        //     data:[],
        //     markLine : {
        //         symbol: ['circle', 'circle'],
        //         symbolSize : 1,
        //         effect : effect,
        //         itemStyle : itemStyle(1),
        //         smooth:true,
        //         data : [
        //             [{name:'唐山站'}, {name:'北京南站'}],
        //             [{name:'北京南站'}, {name:'唐山站'}],
        //             [{name:'通辽站'}, {name:'霍林郭勒站'}],
        //             [{name:'霍林郭勒站'},{name:'通辽站'}],
        //             [{name:'北京南站'}, {name:'天津站'}],
        //             [{name:'天津站'}, {name:'北京南站'}],
        //             [{name:'天津站'}, {name:'唐山站'}],
        //             [{name:'唐山站'}, {name:'天津站'}],
        //             [{name:'北京南站'}, {name:'济南西站'}],
        //             [{name:'北京南站'}, {name:'济南站'}],
        //             [{name:'济南西站'}, {name:'天津站'}],
        //             [{name:'济南站'}, {name:'青岛北站'}],
        //             [{name:'青岛站'}, {name:'济南站'}],
        //             [{name:'北京站'}, {name:'秦皇岛站'}],
        //             [{name:'北京南站'}, {name:'南京南站'}],
        //             [{name:'南京南站'}, {name:'北京南站'}],
        //         ]
        //     },
        //     geoCoord: {
        //         '唐山站':[118.1268,39.6314],
        //         '北京南站':[116.3855,39.8712],
        //         '北京站':[116.4337,39.9098],
        //         '北京首都国际机场':[116.6212,40.0611],
        //         '通辽机场':[122.2170,43.5652],
        //         '通辽站':[122.2776,43.6116],
        //         '霍林郭勒站':[119.6760,45.5400],
        //         '天津站':[117.2166,39.1418],
        //         '沈阳桃仙国际机场':[123.5004,41.6436],
        //         '济南西站':[116.8980,36.6753],
        //         '济南站':[116.9973,36.6774],
        //         '青岛北站':[120.3809,36.1757],
        //         '青岛站':[120.3191,36.0703],
        //         '秦皇岛站':[119.5988,39.9707],
        //         '杭州萧山国际机场':[120.4433,30.2387],
        //         '厦门高崎国际机场':[118.1402,24.5395],
        //         '福州长乐国际机场':[119.6813,25.9348],
        //         '南京南站':[118.8043,31.9750],
        //     }
        // }
        // ]
        // };
    myTripMap.setOption(option); //当setOption第二个参数为true时，会阻止数据合并
}
    function FlightMap(){
        var myFlightMap = echarts.init(document.getElementById('flightMap'));

        function itemStyle(idx) {
            return {
                normal: {
                    color:'#fff',
                    borderWidth:1,
                    borderColor:['rgba(30,144,255,1)','lime','gold','pink'][idx],
                    lineStyle: {
                        //shadowColor : ['rgba(30,144,255,1)','lime','gold','pink'][idx], //默认透明
                        //shadowBlur: 10,
                        //shadowOffsetX: 0,
                        //shadowOffsetY: 0,
                        type: 'solid'
                    }
                }
            }
        };
        option = {
            backgroundColor: '#1b1b1b',
            color: ['rgba(30,144,255,1)','lime','gold','pink'],
            title : {
                text: '个人飞行汇总',
                x:'center',
                textStyle : {
                    color: '#fff'
                }
            },
            tooltip : {
                trigger: 'item',
                formatter: '{b}'
            },
            legend: {
                orient: 'vertical',
                x:'left',
                selectedMode:'multiple',
                data:['2012年新增航线', '2013年新增航线', '2014年新增航线','2015年新增航线'],
                textStyle : {
                    color: '#fff'
                }
            },
            toolbox: {
                show : true,
                orient : 'vertical',
                x: 'right',
                y: 'center',
                feature : {
                    mark : {show: true},
                    dataView : {show: true, readOnly: false},
                    restore : {show: true},
                    saveAsImage : {show: false}
                }
    },
    series : [
        {
            name: '2015年新增航线',
            type: 'map',
            roam: true,
            hoverable: false,
            mapType: 'china',
            itemStyle:{
                normal:{
                    borderColor:'rgba(100,149,237,1)',
                    borderWidth:0.5,
                    areaStyle:{
                        color: '#1b1b1b'
                    }
                }
            },
            data:[],
            markLine : {
                symbol: ['circle', 'circle'],
                symbolSize : 1,
                effect : effect,
                itemStyle : itemStyle(3),
                smooth:true,
                data : [
                    [{name:'北京首都国际机场'}, {name:'沈阳桃仙国际机场'}],
                    [{name:'沈阳桃仙国际机场'}, {name:'北京首都国际机场'}],
                    [{name:'北京首都国际机场'}, {name:'杭州萧山国际机场'}],
                    [{name:'杭州萧山国际机场'}, {name:'北京首都国际机场'}],
                    [{name:'北京首都国际机场'}, {name:'厦门高崎国际机场'}],
                    [{name:'福州长乐国际机场'}, {name:'北京首都国际机场'}],
                ]
            }
        },
        {
            name: '2013年新增航线',
            type: 'map',
            roam: true,
            hoverable: false,
            mapType: 'china',
            itemStyle:{
                normal:{
                    borderColor:'rgba(100,149,237,1)',
                    borderWidth:0.5,
                    areaStyle:{
                        color: '#1b1b1b'
                    }
                }
            },
            data:[],
            markLine : {
                symbol: ['circle', 'circle'],
                symbolSize : 1,
                effect : effect,
                itemStyle : itemStyle(1),
                smooth:true,
                data : [
                    [{name:'北京首都国际机场'}, {name:'通辽机场'}],
                    [{name:'通辽机场'}, {name:'北京首都国际机场'}],
                    [{name:'北京南苑机场'}, {name:'通辽机场'}],
                    [{name:'通辽机场'}, {name:'北京南苑机场'}],
                    [{name:'天津滨海国际机场'}, {name:'通辽机场'}],
                    [{name:'北京首都国际机场'}, {name:'九江庐山机场'}],
                    [{name:'九江庐山机场'}, {name:'北京首都国际机场'}],
                    [{name:'北京首都国际机场'}, {name:'深圳宝安国际机场'}],
                ]
            }
        },
        {
            name: '2012年新增航线',
            type: 'map',
            roam: true,
            hoverable: false,
            mapType: 'china',
            itemStyle:{
                normal:{
                    borderColor:'rgba(100,149,237,1)',
                    borderWidth:0.5,
                    areaStyle:{
                        color: '#1b1b1b'
                    }
                }
            },
            data:[],
            markLine : {
                symbol: ['circle', 'circle'],
                symbolSize : 1,
                effect : effect,
                itemStyle : itemStyle(0),
                smooth:true,
                data : [
                    [{name:'武汉天河国际机场'}, {name:'北京首都国际机场'}],
                    [{name:'北京首都国际机场'}, {name:'大连周水子国际机场'}],
                    [{name:'大连周水子国际机场'}, {name:'北京首都国际机场'}],
                ]
            }
        },
        {
            name: '2014年新增航线',
            type: 'map',
            mapType: 'china',
            itemStyle:{
                normal:{
                    borderColor:'rgba(100,149,237,1)',
                    borderWidth:0.5,
                    areaStyle:{
                        color: '#1b1b1b'
                    }
                }
            },
            data:[],
            markLine : {
                symbol: ['circle', 'circle'],
                symbolSize : 1,
                effect : effect,
                itemStyle : itemStyle(2),
                smooth:true,
                data : [
                    [{name:'深圳宝安国际机场'}, {name:'北京首都国际机场'}],
                    [{name:'深圳宝安国际机场'}, {name:'天津滨海国际机场'}],
                    [{name:'天津滨海国际机场'}, {name:'深圳宝安国际机场'}],
                    [{name:'昆明长水国际机场'}, {name:'北京首都国际机场'}],
                    [{name:'北京首都国际机场'}, {name:'昆明长水国际机场'}],
                    [{name:'北京首都国际机场'}, {name:'武汉天河国际机场'}]
                ]
            },

            geoCoord: {
                '北京首都国际机场':[116.6212,40.0611],
                '北京南苑机场':[116.4035,39.7976],
                '天津滨海国际机场':[117.3655,39.1359],
                '沈阳桃仙国际机场':[123.5004,41.6436],
                '杭州萧山国际机场':[120.4433,30.2387],
                '厦门高崎国际机场':[118.1402,24.5395],
                '福州长乐国际机场':[119.6813,25.9348],
                '武汉天河国际机场':[114.2150,30.7716],
                '大连周水子国际机场':[121.5505,38.9688],
                '昆明长水国际机场':[102.9433,25.1078],
                '九江庐山机场':[115.8138,29.4887],
                '深圳宝安国际机场':[113.8201,22.6306]
            }
        },
        {
            name:'出发次数最多（除PEK）',
            type:'map',
            mapType:'china',
            data:[],
            markPoint:{
                symbol:'emptyCircle',
                symbolSize:function (v){
                    return 10+v/10
                },
                effect:{
                    show:true,
                    shadowBlur:0
                },
                itemStyle:{
                    normal:{
                        label:{show:false}
                    },
                    emphasis:{
                        label:{position:'top'}
                    }
                },
                data:[
                    {name:'通辽机场',value:15}
                ]
            },
        }
    ]
};
        myFlightMap.setOption(option,true); //当setOption第二个参数为true时，会阻止数据合并
}

function FlightStat(){
    var myFlightStat = echarts.init(document.getElementById('flightStat'), 'macarons');

    var option = {
         timeline:{
             data:[2012,2013,2014,2015],
             label:{
                 formatter:function(s){
                     return s.toString();
                 }
             },
             autoPlay:true,
             playInterval:2000
         },
         options:[
             {
                 title:{
                     'text':'2012年飞行次数和里程统计',
                     x:'center'
                 },
                 tooltip : {'trigger':'axis'},
                 legend : {
                     x:'right',
                     'data':['飞行次数','飞行里程'],
                     'selected':{
                         '飞行次数':true,
                         '飞行里程':true
                     }
                 },
                 toolbox : {
                     'show':true,
                     orient : 'vertical',
                     x: 'right',
                     y: 'center',
                     'feature':{
                         'mark':{'show':true},
                         'dataView':{'show':true,'readOnly':false},
                         'magicType':{'show':true,'type':['line','bar','stack','tiled']},
                         'restore':{'show':true},
                         'saveAsImage':{'show':true}
                     }
                 },
                 calculable : true,
                 grid : {'y':80,'y2':100},
                 xAxis : [{
                     'type':'category',
                     'axisLabel':{'interval':0},
                     'data': ['1月','2月','3月','4月','5月','6月','7月','8月','9月','10月','11月','12月']
                 }],
                 yAxis : [
                     {
                         'type':'value',
                         'max':8,
                         'name':'飞行次数'
                     },
                     {
                         'type':'value',
                         'name':'飞行里程（km）'
                     }
                 ],
                 series : [
                     {
                         'name':'飞行次数',
                         'type':'bar',
                         'data':[0, 0, 0, 1, 0, 0, 6, 0, 0, 2, 0, 0]
                     },
                     {
                         'name':'飞行里程',
                         'type':'bar',
                         'yAxisIndex':1,
                         'data':[0, 0, 0, 1086, 0, 0, 21547, 0, 0, 0, 1160, 0, 0]
                     }
                 ]
             },
             {
                 title:{'text':'2013年飞行次数和里程统计',x:'center'},
                 series:[
                     {'data':[0, 0, 0, 2, 4, 1, 5, 0, 2, 3, 2, 0]},
                     {'data':[0, 0, 0, 1312, 2576, 639, 24562, 2556, 2542, 3052]}
                 ]
             },
             {
                 title:{'text':'2014年飞行次数和里程统计',x:'center'},
                 series:[
                     {'data':[1, 1, 0, 0, 3, 2, 0, 4, 2, 2, 2, 0]},
                     {'data':[1872, 1872, 0, 0, 3230, 1264, 0, 2528, 4188, 2172, 1264, 0]}
                 ]
             },
             {
                 title:{'text':'2015年飞行次数和里程统计',x:'center'},
                 series:[
                     {'data':[2, 2, 0, 4, 2, 0, 0, 2, 0, 0, 2, 2]},
                     {'data':[1264, 1264, 0, 2480, 1264, 0, 0, 1264, 0, 0, 2266, 3484]}
                 ]
             }
         ]
    };

    myFlightStat.setOption(option); //当setOption第二个参数为true时，会阻止数据合并
}

    function Airline(){
        var myAirline = echarts.init(document.getElementById('airlineStat'),'macarons');

        option = {
            title:{
                text:'航空公司&航空联盟飞行里程（飞行总里程：92708km）',
                x:'center'
            },
            tooltip:{
                trigger:'item',
                formatter:"{b}:{c} km ({d}%)"
            },
            legend:{
                orient:'vertical',
                x:'left',
                data:['国航（CA）','山航（SC）','美联航（UA）','南航（CZ）','东航（MU）','联合航空（KN）','厦航（MF）','上海航空（FM）','达美航空（DL）','海航（HU）','天津航空（GS）','其他']
            },
            toolbox:{
                show: true,
                feature:{
                    mark:{show:true},
                    dataView:{show:true,readOnly:false},
                    magicType:{
                        show:true,
                        type:['pie']
                    }
                },
                restore:{show:true},
                saveAsImage : {show: true}
            },
            calculable:true,
            selectedMode:false,
            series:[
                {
                    name:'航空公司',
                    type:'pie',
                    center:['70%','50%'],
                    radius:[100, 140],
                    data:[
                        {value:60432,name:'国航（CA）'},
                        {value:4250,name:'美联航（UA）'},
                        {value:3834,name:'山航（SC）'},
                        {value:2246,name:'南航（CZ）'},
                        {value:3614,name:'东航（MU）'},
                        {value:1742,name:'厦航（MF）'},
                        {value:1360,name:'联合航空（KN）'},
                        {value:1133,name:'上海航空（FM）'},
                        {value:8689,name:'达美航空（DL）'},
                        {value:2094,name:'海航（HU）'},
                        {value:639,name:'天津航空（GS）'},
                        {value:2675,name:'其他'}
                    ]
                },
                {
                    name:'航空联盟',
                    type:'pie',
                    center:['70%','50%'],
                    radius:[0, 80],
                    itemStyle : {
                        normal : {
                            label : {
                                position : 'inner'
                            },
                        }
                    },
                    data:[
                        {value:68516,name:'星空联盟'},
                        {value:18784,name:'天合联盟'},
                        {value:5408,name:'其他'}
                    ]
                }
            ]
        }

        myAirline.setOption(option);
    }
</script>

]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 旅行 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[京、津、唐高铁乘车方案和乘车小技巧]]></title>
      <url>http://tommyjiang.github.io/2015/2015-10-01-jing-jin-tang-high-speed-railway/</url>
      <content type="html"><![CDATA[<p>2015年十一回家，由于买不到直达唐山/唐山北的票，选择了经天津中转的方案，将三地铁路资料汇总如下。</p>
<a id="more"></a>
<h1 id="京唐高铁"><a href="#京唐高铁" class="headerlink" title="京唐高铁"></a>京唐高铁</h1><p>2015年8月25日，铁道第三勘察设计院公布了<a href="http://www.tsdig.com/infom.aspx?Id=684&amp;FileName=info&amp;Language=1">京唐高铁环评二次公告</a>，京唐高铁的走向也正式确定，起点为位于北京的新北京东站，终点为唐山站。</p>
<p>其实早在2009年，就有新闻说京唐高铁即将开工，但后来由于发改委未批复而搁浅。2013年8月，习近平在北戴河主持研究河北发展问题时，提出要推动京津冀协同发展。借此东风，京唐城际重新提上日程，预计年内开工，施工周期3年半，预计2018年底通车。</p>
<p>2016.05.26更新：有传闻说京唐城际的起点可能会改为通州九棵树附近的通州站，这样一来地铁上的时间就太长了，和北京站的动车相比没有太大优势。</p>
<p>由于目前北京到唐山还没有直达高铁，从北京到唐山可以选择以下两种方案：</p>
<ol>
<li>高铁：从北京南出发，先经京津城际到天津，再经津秦高铁到唐山，全程244公里，最快需要70分钟左右，二等座票价110.5元。</li>
<li>动车：北京到唐山还可以选择动车，从北京站出发，经京哈线到唐山北站，全程151公里，最快也需要70分钟左右，但票价与高铁相比便宜很多，二等座只要44.5元。</li>
</ol>
<p>以上两种方案有一个共同的问题，就是列车都是由北京去往东北方向，因此一到节假日基本人满为患，一票难求。为了解决这个问题，我现在一般选择由天津中转的方案：先从北京南乘坐京津城际列车到天津，再在天津站中转华东或华中去往东北的列车到唐山。这次回家改签加退票，还第一次体验了高铁的无座票（虽然只有33分钟）。</p>
<h1 id="乘车小技巧"><a href="#乘车小技巧" class="headerlink" title="乘车小技巧"></a>乘车小技巧</h1><p>京津城际转津秦客专（北京南——天津——唐山）的乘车过程也有些小技巧：</p>
<ul>
<li>北京南站地铁出站后南北方向均可以进站，需要乘电梯到二楼，而且人比较多。如果是坐京津城际的话，可以直接从快速进站口8进站。虽然北京南和天津站都支持身份证+12306短信直接进出站，但还是建议取票，可以避免用手机来回翻12306短信。快速进站口8旁边可以取票，但人很多，而且总有一些插队的旅客，可以到快速进站口8南边的取票点取票，机器多，排队的人也少。</li>
<li>天津站换乘不需要出站，直接经地道换乘就可以。天津站共10站台18车道，其中1-5车道为普速车场，6-11车道为津秦高速车场，12-18车道为京津城际车场。从北京南坐京津城际到达天津站后，如果不是停靠在18车道，都可以下地道出站。可以提前看好转乘列车的检票口，与车道是对应的，由地道直接换乘乘车。举例来说，京津城际停靠13车道，换乘列车的检票口为10，那么下车下地道之后，只需要从10车道对应的口出地道候车即可，无需出站，可以大大节省换乘时间。但以下两种情况无法用此方法换乘：<ol>
<li>京津城际停靠18车道的话必须先出站再进站。</li>
<li>地道中对应车道的出口封闭的话也需要先出站再进站。</li>
</ol>
</li>
<li>16节车厢的动车组列车分为两种，一种是L(Long)车型，本身就是16节；另一种是由2个8节车厢的动车组重联组成的，1-8车厢与9-16车厢由于分属两辆车，之间无法互通，因此上车时一定要确认车厢。这次回来有几个10车厢的旅客从8车厢上车，想等开车之后再回10车厢，由于两个CRH动车组之间并不互通，只能在车上站半小时了。</li>
</ul>
<h1 id="2016年春节补充"><a href="#2016年春节补充" class="headerlink" title="2016年春节补充"></a>2016年春节补充</h1><p>每次坐车回家都会有些新的心得，这次春节回来也不例外，北京南、天津和唐山站都更新了一些小 tips。</p>
<h2 id="北京南站"><a href="#北京南站" class="headerlink" title="北京南站"></a>北京南站</h2><p>北京南作为始发大站，春运期间客流量极大。这次出地铁后走到了北出口方向，排队经由扶梯到二层处人满为患，从扶梯再往前侧面的一个小门进入，可以沿楼梯爬到二楼，不过如果拎着大件行李要谨慎，距离不近……</p>
<h2 id="天津站"><a href="#天津站" class="headerlink" title="天津站"></a>天津站</h2><p>这次把天津站内的车道图照下来了，可以作为上面天津站布局的示例：</p>
<p><img src="/images/2015/2015-10-01-Tianjin-railway-station.jpg" alt=""></p>
<p>这次京津城际列车停靠在天津站的18站台，必须要先出站再进站了。不过从18站台经过闸机后，不出站可以直接坐电梯到二楼候车大厅。在候车大厅里的一个收获是发现其中还有广发贵宾厅，正好凭广发臻尚白金卡进去坐坐。虽然每次在天津站中转的时间都不长，一般在半小时以内，不过能进去喝杯热水感觉还是不错的。</p>
<p>返程时还想到广发贵宾厅坐坐，从天津站地下南出口出来之后，没有上到地面，直接在旁边检票进站了，结果在地下的候车厅里待了一会。检票上去后第一次遇到人到站台而车还没来的情况，看着站台上钟表上显示的正点有点慌。再一查发现买的这趟车不是天津站始发的，是从于家堡来的过路车，怪不得提前 3 分钟车才进站。赶上降温天气，在站台吹了半天冷风，还挺难受的。下次一定得注意是不是始发车，不是的话也没关系，可以在候车室里多坐会，别着急到站台就行了。</p>
<h2 id="唐山站"><a href="#唐山站" class="headerlink" title="唐山站"></a>唐山站</h2><p>从东售票厅取票之后，可以直接从旁边的小门实名制检票进到候车大厅，不用先出去再过一次安检了，很方便。</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 铁路 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[外地驾驶证到期在北京换领新驾驶证流程总结]]></title>
      <url>http://tommyjiang.github.io/2015/2015-07-03-driver-license-renew/</url>
      <content type="html"><![CDATA[<p>2009年十一考的驾照，虽然没怎么开过车，但马上到6年，也要换新的驾照了，正好也把家里的驾照换成北京的，换驾照流程记录如下。</p>
<a id="more"></a>
<h1 id="体检"><a href="#体检" class="headerlink" title="体检"></a>体检</h1><h2 id="第一次体检"><a href="#第一次体检" class="headerlink" title="第一次体检"></a>第一次体检</h2><p>换驾照需要提供《机动车驾驶人身体条件证明》，北京市承担机动车驾驶员体检工作的医疗机构名单可以参考这里。我选的是离学校最近的海淀医院，周一至周五中午1点到下午3点半可以进行司机体检，在2楼202房间，费用10元，只需要带身份证和驾驶证即可，不需要提前打印《身体条件证明》那张表，体检完医院会打印一份。</p>
<p>第一次去海淀医院体检，负责体检的医生让我把视力表4.9的那一排全部念一遍，我发现完全看不清，无奈之下只好回学校配副眼镜，左右眼都是50度，戴上之后5.0都能看的很清楚了。</p>
<h2 id="第二次体检"><a href="#第二次体检" class="headerlink" title="第二次体检"></a>第二次体检</h2><p>2015年7月8日，戴着新配的50度眼镜，第二次到海淀医院体检，拿着收据直接到体检室，顺利通过，拿到了医院提供的《机动车驾驶人身体条件证明》。</p>
<h1 id="车管局办手续"><a href="#车管局办手续" class="headerlink" title="车管局办手续"></a>车管局办手续</h1><p>根据北京市车管所网站的信息，到车管局办理外地驾照换领北京驾照手续需要<a href="http://www.bjjtgl.gov.cn/jgj/jsrgl/205275/index.html">以下材料</a>：</p>
<ol>
<li>按规定填写的《机动车驾驶证申请表》。</li>
<li>申请人的身份证明原件、复印件。</li>
<li>外省市核发的机动车驾驶证原件。</li>
<li>北京市卫生局确定的县级以上医疗机构或军队、武装警察部队确定的团级以上医疗机构出具的《机动车驾驶人身体条件证明》原件。</li>
<li>机动车驾驶人相片3张（相片要求为：申请人申请机动车驾驶证前6个月内的直边正面免冠彩色本人单人半身证件照。背景颜色为白色；不着制式服装；人像要清晰，层次丰富，神态自然，无明显畸变。照片尺寸为32mm×22mm相当于1英寸，头部宽度14mm～16mm，头部长度19mm～22mm）。</li>
</ol>
<p>其中第4项材料去医院体检时已经拿到，建议把第1、2项材料提前打印和复印好带着，照片也是，最好提前照好洗出来带着，因为交管站附近的店都很贵。我去的是海淀西北旺后厂村路的海淀区车管站，下午3点40到的时候拿到的是700多号，前面有150个人在排队。最后等了一个小时，中间有一半都是空号，在4点40终于到前台把业务办了，然后又等了大概15分钟拿到新的驾照，大厅有空调，等的时候还挺凉快的，过程也还算顺利。</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[2015年毕业晚会观后感]]></title>
      <url>http://tommyjiang.github.io/2015/2015-07-09-graduation-party/</url>
      <content type="html"><![CDATA[<p>犹记得5年前本科毕业时的毕业晚会，中途就离场了。5年后，即将博士毕业了，再来看毕业晚会，让人唏嘘不已。</p>
<a id="more"></a>
<h3 id="节目单"><a href="#节目单" class="headerlink" title="节目单"></a>节目单</h3><p>整场晚会的节目单如下：</p>
<p><img src="/images/2015/2015-07-09-Graduation-Party.png" alt=""></p>
<h3 id="个人观后感"><a href="#个人观后感" class="headerlink" title="个人观后感"></a>个人观后感</h3><p>整场晚会印象最深刻的就是两个以毕业为主题的视频节目。</p>
<h4 id="起点"><a href="#起点" class="headerlink" title="起点"></a>起点</h4><p>2015年清华原创毕业歌曲，视频见<a href="http://v.youku.com/v_show/id_XMTI4MjE1OTY1Mg==.html?from=s1.8-1-1.2">这里</a>。整首歌用了大段的 Rap，精彩的歌词配上手绘的背景足以唤起每个清华毕业生对母校的留恋。</p>
<blockquote>
<p>几年前的一个夏天 我来到清华园<br>一辆崭新的二手车 打算骑四年<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup><br>那时的清华男女比 比现在更跑偏<br>一对儿情侣甜蜜蜜 男双男单坐一边<br>微积分的习题课 坐过道和窗前<br>大学语文平仄平 还作诗一篇<br>奥运国庆大场面 刻在学长的光盘<br>百年校庆的尾巴根儿 只见过明信片<br>小桥队伍排最长 是凌晨十二点<br>五道口的枣糕王 一等小半天<br>苏世民的小书院 叮当响三年<br>天天绕道的图书馆 临走也没见着正脸<sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup><br>宿舍系馆两点一线 日子太简单<br>情人坡的每个浪漫时间 我总路过去实验<br>创业志愿和实践 假期没几天<br>我开题报告参考文献 才刚看二十篇</p>
<p>转眼间就要告别昨天 我们何年再相见<br>(什么年 什么月 什么值得纪念)<br>那些纠结的论文和答辩 都随往事如烟<br>(什么人 什么鬼 什么值得留恋)<br>昨天 我站在起点 不知前方路多远<br>今天 我张开双手 想要拥抱这世界<br>想要飞 就必须从不妥协<br>想要追 就必须超越一切</p>
<p>那时刚有文图馆 学霸占座一整天<br>那时清芬小包子 一个三毛钱<sup id="fnref:3"><a href="#fn:3" rel="footnote">3</a></sup><br>那时没有 Color Run 北京没有阴天<br>那时学堂七点半 票总被抢完<br>那时的欢笑鬼脸 那时的我们班<br>那时的泪水汉水 那时的清华蓝<br>那时的下午四点半 追你的笑颜<br>你回头问我三千米 能不能过关</p>
<p>转眼间就要告别昨天 我们何年再相见<br>(什么年 什么月 什么值得纪念)<br>那些骄傲的奖杯和绩点 都随往事如烟<br>(什么人 什么鬼 什么值得留恋)<br>昨天 我站在起点 不知前方路多远<br>今天 我张开双手 想要拥抱这世界<br>想要飞 就必须从不妥协<br>想要追 就必须超越一切<br>勇敢飞 对自己从不妥协<br>勇敢追 向着下一个起点</p>
<p>(新起点 我们 和清华一起出发)</p>
</blockquote>
<h4 id="闪光的记忆"><a href="#闪光的记忆" class="headerlink" title="闪光的记忆"></a>闪光的记忆</h4><p>应该是从2012年起，每年的毕业晚会都有一个用《闪光的记忆》这首歌作为背景音乐的视频，今年当然也不例外，视频见<a href="http://v.qq.com/iframe/player.html?vid=h01594giz7r&amp;width=670&amp;height=502.5&amp;auto=0">这里</a>。印象最深的是视频的最后一段——清华园普通一天各个整点时刻的场景：</p>
<blockquote>
<p>01:00AM 那些不眠的夜晚，陪伴我们的，除了大作业，还有一盏温柔的灯。<br>02:00AM 一座小小的屋子，飘香四溢的屋子，成为烧烤的代名词——小桥。<br>03:00AM 曾有一群人，为了一个共同的梦想在这里讨论甚至争执，不舍昼夜。<br>04:00AM 让人惊艳的美术设计背后，或许是熬夜到三四点的苦楚。<br>05:00AM 紫荆园后，盛夏日出，刚摘下的果蔬，也许还滴着晨露。<br>06:00AM 在晨光熹微，旁人熟睡的时刻，总有些人在忍受风吹日晒，绽放青春。<br>07:00AM 鲜红的旗帜，坚毅的面孔，月月年年。<br>08:00AM 早餐和生活一样在路上。<br>09:00AM 求知的眼睛，挥动的笔杆，在课堂上载着梦想启程。<br>10:00AM 水木清华众秀钟，真是无一景不可入画。<br>11:00AM 道旁的银杏树和来往的人潮，构成一抹极具生机的亮色。<br>12:00PM 很难在别处见到的热闹与魅力。<sup id="fnref:4"><a href="#fn:4" rel="footnote">4</a></sup><br>01:00PM 梦里，天堂一定是图书馆的模样。<br>02:00PM 如果要真正感受清华，那么就来自习教室吧。<br>03:00PM 在实验中谨慎求索，辛苦劳碌，舔尝酸楚，积攒幸福。<br>04:00PM 那时候日色很慢，草坪很暖，一辈子只够爱一个人。<br>05:00PM 夕阳下的奔跑与伫足，那是我们昂扬的青春。<br>06:00PM 落日余晖遍布校园，感受舌尖上的清华。<br>07:00PM 生活，因为这里的嬉笑怒骂、管弦丝竹而不同。<br>08:00PM 周遭的嘈杂包围着专注讨论的我们。<br>09:00PM 这是真实而生动的生活。<br>10:00PM 既见君子，云胡不喜？<br>11:00PM 熄灯已经成为一种习惯，成为我们珍贵的共同记忆。<sup id="fnref:5"><a href="#fn:5" rel="footnote">5</a></sup></p>
</blockquote>
<div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">1.</span><span style="display: inline-block; vertical-align: top;">清华校园很大，占地面积<a href="http://www.tsinghua.edu.cn/publish/newthu/newthu_cnt/about/about-6.html">442.14公顷</a>，自行车是标配。二手车便宜且不容易被偷，更受新生青睐。</span><a href="#fnref:1" rev="footnote"> ↩</a></li><li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">2.</span><span style="display: inline-block; vertical-align: top;"><a href="http://lib.tsinghua.edu.cn/about/beiguan/beiguan.html">图书馆北馆（李文正馆）</a>于百年校庆之际——2011年4月23日奠基，预计2015年9月竣工。</span><a href="#fnref:2" rev="footnote"> ↩</a></li><li id="fn:3"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">3.</span><span style="display: inline-block; vertical-align: top;">清芬园即七食堂，曾经以包子和麻辣香锅闻名全校，于2013年6月15日停伙，2015年底重新开业。</span><a href="#fnref:3" rev="footnote"> ↩</a></li><li id="fn:4"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">4.</span><span style="display: inline-block; vertical-align: top;">原视频中误为“12:00AM”，中午12点应为12:00PM。</span><a href="#fnref:4" rev="footnote"> ↩</a></li><li id="fn:5"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">5.</span><span style="display: inline-block; vertical-align: top;">最后少了一个午夜12点的时刻，我觉得可以选择静谧的紫荆宿舍外景。</span><a href="#fnref:5" rev="footnote"> ↩</a></li></ol></div></div>]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
    </entry>
    
    <entry>
      <title><![CDATA[抵港一周年纪念]]></title>
      <url>http://tommyjiang.github.io/2014/2014-11-10-Hong-Kong-anniversary/</url>
      <content type="html"><![CDATA[<p>转眼间又到11月了，去年这时候我起身赴港，一周年之际，写篇博客纪念我的香港生活，以及我与香港的不解之缘。</p>
<a id="more"></a>
<h1 id="缘起"><a href="#缘起" class="headerlink" title="缘起"></a>缘起</h1><blockquote>
<p>小河弯弯向南流 流到香江去看一看<br>东方之珠 我的爱人 你的风采是否浪漫依然<br>月儿弯弯的海港 夜色深深 灯火闪亮<br>东方之珠 整夜未眠<br>守着沧海桑田变幻的诺言<br>让海风吹拂了五千年<br>每一滴泪珠 仿佛都说出你的尊严<br>让海潮伴我来保佑你<br>请别忘记我 永远不变黄色的脸<br>船儿弯弯入海港 回头望望沧海茫茫<br>东方之珠拥抱着我<br>让我温暖 你那苍凉的胸膛<br>让海风吹拂了五千年<br>每一滴泪珠 仿佛都说出你的尊严<br>让海潮伴我来保佑你<br>请别忘记我 永远不变黄色的脸</p>
</blockquote>
<p>《东方之珠》是内地人耳熟能详的，也可能是最容易想到的与香港有关的歌曲了。然而我印象中最早听到这首歌还是在幼儿园，那天还是阴天，快到晚上了，身边的小朋友一个个都被家长接走了，只有我一个人坐在屋子里，听老师单曲循环这首歌。原因是我妈那天有事，没能来按时接我，最后来接我时天都黑了。后来想想，一下午都沉浸在《东方之珠》的旋律里，应该算是我和香港最早的缘分了，虽然当时我并不知道这首歌唱的是香港。</p>
<p>转眼到了 1997 年，香港回归的年份，全国都沉浸在喜悦的氛围中。作为祖国的花朵，自然会被拉去参加与香港回归相关的事情。我自己就参加了香港回归知识竞赛和香港回归舞蹈表演，都是作为秦皇岛铁路小学参加北京铁路局天津铁路分局举办的活动。先说知识竞赛吧，记得是每人发一本书，上面画一些重点，死记硬背之后去参赛，当时我过年都还在背题。记了一大堆人名，安子介、霍英东、邵逸夫……最后考试的时候有道题印象尤深，世界船王是（），我填的包玉刚，答案是香港的包玉刚。翻开发的书一看，确实是香港的包玉刚……这不是香港回归竞赛么，不是香港的还能是台湾的么……舞蹈表演听起来比较奇幻，虽然现在体型发胖，没法起舞了。不过当时还排练了好久，而且我是扮演香港儿童，和大陆的儿童团聚，后面还有一群小白鸽。现在还有表演的照片在家里，就不传上来了。</p>
<h1 id="首次抵港"><a href="#首次抵港" class="headerlink" title="首次抵港"></a>首次抵港</h1><p>2012 年 6 月底，赴佛山参加博士生实践。2012 年 6 月 30 日，从福田口岸过关，来到了教科书中提到的万恶的资本主义社会，世界三大金融中心之一的香港。当晚从第一城坐到旺角东，然后步行到旺角，再经油麻地到尖沙咀，深切地感受了香港闹市区的繁华和嘈杂。第二天上午又到港岛的中环苹果店买了个 Thunderbolt 和网口的转接头，品尝了米其林一星的添好运，还到维多利亚公园围观了港人的七一大游行。下午就乘车由福田口岸过关返回佛山，结束了短暂的香港两日游。</p>
<h1 id="半年的香港交换学习"><a href="#半年的香港交换学习" class="headerlink" title="半年的香港交换学习"></a>半年的香港交换学习</h1><p>2013 年 11 月 10 日再次由福田口岸过关到达香港，开始半年的香港交换学习生活。仍然是住在小哥家，不过这次终于不是睡在客厅了，而是搬进了卧室。香港的天气并没有想象中的那么难熬，不过 3 月份连日阴天不见阳光确实让我抑郁了一阵。在港的最大收获就是在小哥的带领下，试图学了学做饭，虽然最后手艺仍不理想，但好歹是饿不死了。另外还去广东的广州肇庆以及潮汕分别转了一圈，深圳去的就太多了。还记得和瓜瓜、胖哥哥和岩峰在深圳 happy 那天回港后赶上香港 20 年来最早的黑雨警告，也算一个特别的回忆吧。</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 香港 </tag>
            
        </tags>
        
    </entry>
    
  
  
</search>
